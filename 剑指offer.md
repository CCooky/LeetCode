# 0ã€å¸¸è§æ•°å­—è¦æ±‚



## **1ã€åˆ¤æ–­ä¸€ä¸ªæ•°ä¸ºç´ æ•°ï¼ˆè´¨æ•°ï¼‰**

ç´ æ•°åˆç§°[è´¨æ•°](https://so.csdn.net/so/search?q=è´¨æ•°&spm=1001.2101.3001.7020)ï¼Œä¸€ä¸ªå¤§äº1çš„æ­£æ•´æ•°ï¼Œä¸”é™¤äº†1å’Œå®ƒè‡ªèº«å¤–ï¼Œä¸èƒ½è¢«å…¶ä»–æ­£æ•´æ•°æ•´é™¤ã€‚å¦åˆ™ç§°ä¸ºåˆæ•°ï¼ˆè§„å®š1æ—¢ä¸æ˜¯ç´ æ•°ä¹Ÿä¸æ˜¯åˆæ•°ï¼‰ã€‚

==2æ˜¯ç‰¹æ®Šçš„è´¨æ•°ï¼Œå®ƒçš„è´¨å› å­æ˜¯2ï¼›1ä¸æ˜¯è´¨æ•°==

åˆ¤æ–­ï¼šéå†ä»2åˆ°n-1çš„æ‰€æœ‰æ•°å­—ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰å¯ä»¥æ•´é™¤nçš„æ•°å­—ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¸ºç´ æ•°ã€‚ï¼ˆn % i == 0 ï¼šè¿™ä¸ªå°±æ˜¯nè¢«iæ•´é™¤äº†ï¼‰ã€‚æ•°å­¦è¯æ˜ä¼˜åŒ–ï¼š**åªéœ€è¦åˆ¤æ–­2åˆ° å¹³æ–¹æ ¹ Math.sqrt(n) å³å¯**

```java
// ç´ æ•°æ˜¯ä¸€ä¸ªå¤§äº1 çš„è‡ªç„¶æ•°
public static boolean isprim(int n) {
    if (n==1) return false;
    if (n == 2) return true;
    for (int i = 2; i <= n - 1; i++) {
        if (n % i == 0) return false;
    }
    return true;
}
```



## **2 ã€æ±‚è´¨å› å­è´¨å› æ•°**

ï¼ˆå’Œä¸Šé¢çš„è´¨æ•°ä¸ä¸€æ ·å“¦ï¼‰

- è´¨å› æ•°ï¼ŒæŒ‡èƒ½æ•´é™¤ç»™å®šæ­£æ•´æ•°çš„è´¨æ•°ã€‚ä¾‹å¦‚ï¼Œ30å¯ä»¥è¢«2ã€3ã€5è¿™ä¸‰ä¸ªè´¨æ•°æ•´é™¤ã€‚

- ä¸€ä¸ªæ•°å¯èƒ½æœ‰å¤šä¸ªè´¨å› å­ï¼Œä¾‹å¦‚6çš„è´¨å› å­æ˜¯2å’Œ3ï¼Œä¹Ÿå¯èƒ½åªæœ‰ä¸€ä¸ªè´¨å› å­ï¼Œä¾‹å¦‚7ã€11ç­‰ã€‚

- è´¨æ•° ===ã€‹ã€‹ã€‹ åªæœ‰ä¸€ä¸ªè´¨å› å­ï¼ï¼ï¼ï¼ˆå€’è¿‡æ¥ä¸å¯¹ï¼‰

ä¾‹å¦‚ï¼š

- å½“ä¸€ä¸ªæ•°æ²¡æœ‰è´¨å› å­æ—¶ï¼Œå®ƒå°±æ˜¯1ã€‚
- 5åªæœ‰1ä¸ªè´¨å› å­ï¼Œ5æœ¬èº«ã€‚ï¼ˆ5æ˜¯è´¨æ•°ã€‚ï¼‰
- 6çš„è´¨å› å­æ˜¯2å’Œ3ã€‚(6 = 2Ã—3)
- 2ã€4ã€8ã€16ç­‰åªæœ‰1ä¸ªè´¨å› å­ï¼š2ã€‚
- 100æœ‰2ä¸ªè´¨å› å­ï¼š2å’Œ5ã€‚

```java
// æ±‚ä¸€ä¸ªæ­£æ•´æ•°çš„æ‰€æœ‰è´¨å› å­ã€‚100 ï¼šã€2ï¼Œ2ï¼Œ5ï¼Œ5ã€‘
// æ€è·¯ï¼šä¾æ¬¡ä»å°åˆ°å¤§é€‰å–è´¨æ•°2ã€3ã€5...ï¼Œæ‹¿2å»æ•´é™¤å®ƒï¼Œä¸€ç›´å¾ªç¯æ•´é™¤ç›´åˆ°ä¸èƒ½æ•´é™¤ä¸ºæ­¢ï¼Œå†æ‹¿3å»æ•´é™¤ï¼Œå†æ‹¿5å»æ•´é™¤
```

```java
public static List<Integer> getprimfactor(int n){
    List<Integer> list = new ArrayList<>();
    for (int i = 2; i <= n; i++) { // è¿™é‡Œä¸€å®šæ˜¯2-nçš„èŒƒå›´é€‰å–ï¼Œå› ä¸º5çš„è´¨å› å­æ˜¯5
        if (!isprim(i)) continue;
        while (n % i == 0) {
            list.add(i);
            n /= i;
        }
    }
    System.out.println(list);
}
        
public static boolean isprim(int n) {
    if (n == 2) return true;
    for (int i = 2; i <= n - 1; i++) {
        if (n % i == 0) return false;
    }
    return true;
}
```



## 3ã€åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°

å¥‡æ•°ï¼ˆoddï¼‰æŒ‡ä¸èƒ½è¢«2æ•´é™¤çš„æ•´æ•° ï¼Œæ•°å­¦è¡¨è¾¾å½¢å¼ä¸ºï¼š2k+1ï¼Œ å¥‡æ•°å¯ä»¥åˆ†ä¸ºæ­£å¥‡æ•°å’Œè´Ÿå¥‡æ•°ã€‚

ï¼ˆè§„å®š0æ˜¯å¶æ•°ï¼Œä¸” 0%2=0 å³0å¯ä»¥è¢«2æ•´é™¤ï¼Œè®¡ç®—ğŸ†—ï¼‰

```java
// å¥‡æ•°æœ‰æ­£ã€è´Ÿä¹‹åˆ†ã€‚ä¸€ä¸ªä¸èƒ½è¢«2æ•´é™¤çš„æ•´æ•°
public boolean isOdd(int n){
    return n%2!=0;
}
```



## **4ã€ä¸ã€æˆ–ã€å¼‚æˆ–ã€ä½è¿ç®—**

- **&ï¼ˆä¸ï¼‰**
  - ç”¨äºä¸¤ä¸ªæ•°å­—å°±æ˜¯==æ¯”è¾ƒäºŒè¿›åˆ¶ï¼Œéƒ½æ˜¯1åˆ™ä¸º1ï¼›==
  - ç”¨äºé€»è¾‘è¿ç®—ç¬¦å°±æ˜¯ ä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºtrueï¼Œç»“æœæ‰ä¸ºtrueï¼Œä¸€å®šä¼šå»åˆ¤æ–­ä¸¤ä¸ªè¡¨è¾¾å¼ï¼›
  
- **|ï¼ˆæˆ–ï¼‰**
  - ç”¨äºä¸¤ä¸ªæ•°å­—å°±æ˜¯==æ¯”è¾ƒäºŒè¿›åˆ¶ä½ï¼Œæœ‰ä¸€ä¸ªä¸º1åˆ™ä¸º1ï¼›==
  - ç”¨äºé€»è¾‘è¿ç®—ç¬¦å°±æ˜¯ï¼Œä¸¤ä¸ªæ¡ä»¶æœ‰ä¸€ä¸ªä¸ºtrueï¼Œç»“æœä¸ºtrueï¼Œä¸€å®šä¼šå»åˆ¤æ–­ä¸¤ä¸ªè¡¨è¾¾å¼ï¼›
  
- **^ï¼ˆå¼‚æˆ–ï¼‰**
  - ä¸¤ä¸ªæ•°å­—å°±æ˜¯==æ¯”è¾ƒäºŒè¿›åˆ¶ä½ï¼Œå½“æ•°å­—ä¸ç›¸åŒæ˜¯ä¸º1ï¼›==
  - ç”¨äºé€»è¾‘è¿ç®—ç¬¦ï¼Œä¸€èˆ¬ä¸ç”¨ã€‚
  
- **\>>ï¼ˆå³ç§»ï¼‰å’Œ<<ï¼ˆå·¦ç§»ï¼‰**  
  - å°†äºŒè¿›åˆ¶ä½è¿›è¡Œå³ç§»æˆ–å·¦ç§»æ“ä½œï¼›å¦‚1 << 2
  
  **ï¼ˆå³ç§»ï¼‰>> è¿ç®—ç¬¦**  å°†äºŒè¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°å‘å³ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ï¼ŒåŒæ—¶ä¿ç•™ç¬¦å·ä½ï¼ˆå³æ­£è´Ÿå·ï¼‰ã€‚
  
  â€‹	å¯¹äºæœ‰ç¬¦å·æ•´æ•°ï¼Œå³ç§»æ“ä½œä¼š**ç”¨ç¬¦å·ä½å¡«å……**å·¦ä¾§çš„ç©ºä½ï¼Œå³é«˜ä½ä¿æŒä¸åŸå€¼ç›¸åŒçš„ç¬¦å·ä½ã€‚
  
  > ä¾‹å¦‚ï¼Œå¯¹äºæ•´æ•°-8ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º11111111111111111111111111111000ï¼‰ï¼Œæ‰§è¡Œå³ç§»æ“ä½œ-8 >> 2ï¼Œç»“æœä¸º-2ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º11111111111111111111111111111110ï¼‰ã€‚è¿™é‡Œï¼Œç¬¦å·ä½1è¢«ç”¨æ¥å¡«å……å·¦ä¾§çš„ç©ºä½ã€‚
  
  **ï¼ˆå·¦ç§»ï¼‰<< è¿ç®—ç¬¦**  å°†äºŒè¿›åˆ¶è¡¨ç¤ºçš„æ•´æ•°å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ï¼Œå¹¶åœ¨å³ä¾§**ç”¨é›¶å¡«å……**ã€‚
  
  â€‹	å·¦ç§»æ“ä½œå°†æ•´æ•°çš„æ¯ä¸ªä½éƒ½å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ï¼Œç»“æœä¸ºåŸæ•´æ•°çš„å€¼ä¹˜ä»¥2çš„ç§»åŠ¨ä½æ•°æ¬¡å¹‚ã€‚
  
  > ä¾‹å¦‚ï¼Œå¯¹äºæ•´æ•°3ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º11ï¼‰ï¼Œæ‰§è¡Œå·¦ç§»æ“ä½œ3 << 2ï¼Œç»“æœä¸º12ï¼ˆäºŒè¿›åˆ¶è¡¨ç¤ºä¸º1100ï¼‰ã€‚è¿™é‡Œï¼Œæ¯ä¸ªä½å‘å·¦ç§»åŠ¨ä¸¤ä½ï¼Œæ‰€ä»¥åŸå€¼3ä¹˜ä»¥2çš„2æ¬¡å¹‚ï¼ˆå³4ï¼‰å¾—åˆ°12ã€‚
  
  

<img src="images/image-20230516141137635.png" alt="image-20230516141137635" style="zoom:80%;" />

![image-20230330150517443](images/image-20230330150517443.png)



## 5ã€intè¡¨ç¤ºèŒƒå›´

`intçš„å–å€¼èŒƒå›´ä¸ºï¼š -2^31â€”â€”2^31-1ï¼Œå³-2147483648â€”â€”2147483647`

- å¤„äº 10^9ç­‰çº§é‡Œé¢ï¼›åè¿›åˆ¶ä¸‹åä½æœ‰æ•ˆï¼Œç¬¬ä¸€ä½ä¸º2ï¼›`2.147e9`

longçš„å–å€¼èŒƒå›´ï¼Œæ˜¯8ä¸ªå­—èŠ‚ï¼Œ64ä¸ªæ¯”ç‰¹ï¼Œä¸€ä¸ªç¬¦å·ä½ã€‚`-2^63â€”â€”2^63-1`   9223372036854775807

- å¤„äº10^18æ¬¡æ–¹é‡Œé¢ï¼Œç¬¬ä¸€ä½ä¸º9ï¼›`9.22e18`





## 6ã€Random

```java
Random random = new Random();
System.out.println(random.nextInt()); // intç±»å‹èŒƒå›´å†…éšæœº
System.out.println(random.nextInt(100)); // [0, 100) éšæœº
System.out.println(random.nextInt(200) - 100); // [-100, 100) éšæœº
System.out.println(random.nextLong()); // longç±»å‹èŒƒå›´å†…éšæœº
System.out.println(random.nextDouble()); //[0.0, 1.0)
System.out.println(random.nextBoolean()); 
```



## 7ã€byteçš„å–å€¼èŒƒå›´æ˜¯-128åˆ°127ï¼Œä»¥åŠæ•°å€¼æº¢å‡ºé—®é¢˜

**1ã€byteçš„å–å€¼èŒƒå›´æ˜¯-128åˆ°127**

å…¶å®å¾ˆç®€å•çš„ç†è§£å°±æ˜¯ï¼šå¯¹äºæœ‰ç¬¦å·çš„æ•´æ•°ï¼Œæœ€é«˜ä½ç”¨æ¥è¡¨ç¤ºæ­£è´Ÿï¼Œå³ä¸º0çš„è¯è¡¨ç¤ºæ­£çš„ï¼Œä¸º1è¡¨ç¤ºè´Ÿçš„ï¼›

è¿™æ ·å¯¹äºæ­£æ•´æ•°å’Œè´Ÿæ•´æ•°å°±æœ‰ï¼Œ7ä¸ªäºŒè¿›åˆ¶ä½æ¥è¡¨ç¤ºå…·ä½“æ•°å€¼ï¼Œ2^7æœ€å¤§è¡¨ç¤ºèŒƒå›´æ˜¯127å“ˆï¼ŒæŒ‰ç†è¯´èŒƒå›´å°±æ˜¯-127ï½ï½127ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªç‰¹æ®Šçš„æ•°å­—â€”â€”0ï¼Œä»–å°±æœ‰æ­£0å’Œè´Ÿ0ï¼Œä¸¤ç§ï¼Œè¿™è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥è®¡ç®—æœºçº¦å®šå°†è´Ÿ0è¡¨ç¤ºä¸ºæœ€å°çš„è´Ÿæ•°-2147483648ã€‚

**2ã€æ•°å€¼æº¢å‡ºé—®é¢˜**

ç¯ç»•ç°è±¡ï¼šåœ¨è®¡ç®—æœºä¸­ï¼Œæ•´æ•°ç±»å‹çš„æ•°å€¼èŒƒå›´æ˜¯æœ‰é™çš„ã€‚å½“ä¸€ä¸ªæ•´æ•°ç±»å‹çš„å˜é‡çš„å€¼è¶…å‡ºäº†å…¶æ•°å€¼èŒƒå›´æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæº¢å‡ºç°è±¡ã€‚åœ¨intç±»å‹ä¸­ï¼Œå½“ä¸€ä¸ªæ­£æ•°è¶…å‡ºäº†å…¶æœ€å¤§å€¼æ—¶ï¼Œä¼šå‘ç”Ÿæ­£æ•°æº¢å‡ºï¼Œæ•°å€¼ä¼šä»æœ€å¤§å€¼å˜ä¸ºæœ€å°å€¼ï¼Œç»§ç»­å¢åŠ ã€‚è¿™ç§æƒ…å†µç§°ä¸ºç¯ç»•ç°è±¡ã€‚

ä¾‹å¦‚ï¼Œå½“intç±»å‹çš„å€¼ä¸º2147483647æ—¶ï¼Œå†åŠ 1å°±ä¼šå‘ç”Ÿæ­£æ•°æº¢å‡ºï¼Œå˜ä¸º-2147483648ã€‚

- -2147483648 - 1 = 2147483647

- -2147483648 * 2 = 0



# 0ã€å¸¸ç”¨æŠ€å·§

## 1. å¦‚ä½•ä½¿ç”¨æ¯”ç‰¹ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²ä¸­å«æœ‰çš„å­—æ¯ä¸ªæ•°

**å¯¹äºä»…å«å°å†™å­—æ¯çš„æƒ…å†µï¼Œ**å› ä¸ºåªæœ‰26ä¸ªå°å†™å­—æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨intç±»å‹è¡¨ç¤ºï¼Œå› ä¸ºå®ƒæœ‰32ä½ï¼Œå»æ‰ç¬¦å·ä½æœ‰31ä½ï¼Œæ»¡è¶³è¦æ±‚ï¼›æ¯ä¸€ä½å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå°å†™å­—æ¯ï¼Œä»ä½ä½åˆ°é«˜ä½ä¾æ¬¡è¡¨ç¤ºa,b,c,d,.....

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨æ¯”ç‰¹ä½æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­åŒ…å«çš„å­—æ¯ä¸ªæ•°ï¼š

```java

    public static void main(String[] args) {
        String str = "hello";
        int count = 0;
        for (char c : str.toCharArray()) {
            if (c >= 'a' && c <= 'z') {
                int index = c - 'a';
                count |= (1 << index); // å°†å¯¹åº”ä½ç½®çš„æ¯”ç‰¹ä½è®¾ä¸º1
            }
        }
        System.out.println("å­—æ¯ä¸ªæ•°è¡¨ç¤ºä¸ºæ¯”ç‰¹ä½ï¼š" + Integer.toBinaryString(count));
    }
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬éå†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ã€‚å¦‚æœå­—ç¬¦æ˜¯å°å†™å­—æ¯ï¼Œåˆ™è®¡ç®—å‡ºå®ƒåœ¨æ¯”ç‰¹ä½ä¸­çš„ç´¢å¼•ï¼ˆå³å­—æ¯'a'åˆ°å½“å‰å­—ç¬¦çš„è·ç¦»ï¼‰ï¼Œç„¶åå°†å¯¹åº”ä½ç½®çš„æ¯”ç‰¹ä½è®¾ä¸º1ã€‚æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨`Integer.toBinaryString()`æ–¹æ³•å°†æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚

æ³¨æ„ï¼Œ**ç”±äºintç±»å‹æ˜¯32ä½çš„**ï¼Œåªèƒ½è¡¨ç¤º26ä¸ªå°å†™å­—æ¯çš„å‡ºç°æƒ…å†µã€‚å¦‚æœéœ€è¦è€ƒè™‘æ›´å¤šçš„å­—ç¬¦ï¼Œä½ å¯ä»¥ä½¿ç”¨**é•¿æ•´å‹`long`ï¼Œå®ƒæ˜¯64ä½çš„**ï¼Œå¯ä»¥è¡¨ç¤ºæ›´å¤šçš„æ¯”ç‰¹ä½ã€‚åŒæ ·çš„åŸç†é€‚ç”¨äº`long`ç±»å‹ã€‚




# 1ã€Scanner

**ç©ºæ ¼ç¬¦ / TABç¬¦ æ˜¯åˆ†å‰²ç¬¦**ï¼Œæ— è®ºä¸€ä¸ªè¿˜æ˜¯å¤šä¸ªéƒ½æ˜¯ä¸€æ ·çš„ï¼Œscannerçš„åº•å±‚é‡‡ç”¨çš„æ˜¯**æ­£åˆ™è¡¨è¾¾å¼ï¼›**

**å›è½¦ç¬¦æ˜¯ç»ˆæ­¢ç¬¦**ï¼Œå³å¯¹äºä»»æ„ä¸€ä¸ª`next() or nextInt()`ï¼Œæ— è®ºä½ è¾“å…¥ä»€ä¹ˆå¤šé•¿å•Šï¼Œå†…å®¹å•Šï¼Œä»–åªä¼šåœ¨é‡åˆ°äº† å›è½¦ç¬¦åï¼Œè¿™æ¡è¯­å¥æ‰ä¼šç»“æŸï¼›

> Scanner é‡‡ç”¨çš„**å°±æ˜¯è¿­ä»£å™¨çš„åº•å±‚å®ç°ï¼Œä»–ä¼šæŠŠä½ çš„è¾“å…¥æŒ‰ç…§ç©ºæ ¼/tabè¿›è¡Œåˆ†å‰²å­˜å…¥åˆ°é›†åˆ**ï¼Œç„¶ånextæ–¹æ³•å°±æ˜¯ç±»ä¼¼è¿­ä»£å™¨çš„é‚£ä¸ªnextæ–¹æ³•ï¼Œåªä¸è¿‡åšäº†ä¸€äº›å¢å¼ºå¦‚nextIntï¼Œé™åˆ¶è¯»å–çš„ç±»å‹ï¼ŒhasNextä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåˆ¤æ–­å½“å‰è¿­ä»£å™¨æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®æœ‰æ²¡æœ‰å…ƒç´ ï¼Œæœ‰çš„è¯å°±ä¼šè¿”å›trueã€‚

**1ã€è¾“å…¥æ•°å­—**

- ```java
  Scanner in = new Scanner(System.in);
  int i = in.nextInt(); //è¯»å–è¾“å…¥å†…å®¹çš„ç¬¬ä¸€ä¸ªæ•´æ•°ç±»å‹ï¼Œä»¥ç©ºæ ¼/tabä¸ºåˆ†éš”ç¬¦
  											//ï¼ˆåº•å±‚ä¼šè¿›è¡Œreturn Integer.parseInt(s, radix)ï¼‰
  double v = in.nextDouble();
  float v1 = in.nextFloat();
  ```

- <img src="images/image-20230327095021851.png" alt="image-20230327095021851" style="zoom:80%;" />

- **å¾ªç¯è¾“å…¥æ•°å­—**

  ä¹Ÿå°±æ˜¯é¢˜ç›®è¯´éœ€è¦è¾“å…¥å¤šç»„æ•°æ®çš„æƒ…å†µï¼Œä½¿ç”¨`in.hasNextInt()`æˆ–è€…å°±æ˜¯`forå¾ªç¯å°±è¡Œ`

**å­—ç¬¦ä¸²æ“ä½œï¼š**

- ```java
  Scanner in = new Scanner(System.in);
  //è·å–è¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆç©ºæ ¼/tabåˆ†å‰² é›†åˆé‡Œé¢ç¬¬ä¸€ä¸ªï¼‰
  String next = in.next(); 
  
  //è·å–è¾“å…¥çš„é‚£ä¸€æ•´è¡Œï¼ï¼è¿™ä¸ªç‰¹æ®Šï¼Œè¿™å°±æ˜¯ä»¥å›è½¦é”®è¿›è¡Œåˆ†å‰²çš„
  String s = in.nextLine(); 
  ```

- <img src="images/image-20230327132418843.png" alt="image-20230327132418843" style="zoom:80%;" />
- <img src="images/image-20230327132331166.png" alt="image-20230327132331166" style="zoom:80%;" />



# ==2ã€çº¦ç‘Ÿå¤«ç¯==

å·²çŸ¥nä¸ªäººåæˆä¸€åœˆï¼ŒæŒ‰é¡ºæ—¶é’ˆç”±1å¼€å§‹ç»™å¤§å®¶ç¼–å·ã€‚ç„¶åç”±ç¬¬ä¸€ä¸ªäººå¼€å§‹é¡ºæ—¶é’ˆå¾ªç¯æŠ¥æ•°ä»1å¼€å§‹ï¼Œæ•°åˆ°mçš„äººå‡ºå±€ï¼Œç„¶åä»ä¸‹ä¸€ä¸ªäººæ¥ç€å¼€å§‹ä»1æŠ¥æ•°ï¼Œå¾ªç¯æ­¤è¿‡ç¨‹ç›´åˆ°æœ€ååªå‰©ä¸€ä¸ªäººã€‚ç»™å®šä¸¤ä¸ªint **n**å’Œ**m**ï¼Œè¦æ±‚ç¼–å†™å‡½æ•°è¿”å›æœ€åä¸€ä¸ªäººçš„ç¼–å·ã€‚ä¿è¯nå’Œmå°äºç­‰äº1000ã€‚

ã€å•å‘å¾ªç¯é“¾è¡¨XXXXä¸çµæ´»ã€‘ã€åŒç«¯é˜Ÿåˆ—å»åšã€‘

```java
public static int getResult(int n, int m){
    //çº¦ç‘Ÿå¤«ä½¿ç”¨é˜Ÿåˆ—å»åšï¼Œç›´æ¥æ‹¿åŒç«¯é˜Ÿåˆ—
    Deque<Integer> deque = new ArrayDeque<>();
    //å­˜å…¥æ¯ä¸€ä¸ªäººçš„ç¼–å·ï¼Œ
    for (int i = 1; i <= n; i++) {
        deque.offer(i);
    }
    //ä¾æ¬¡å‡ºé˜Ÿåˆ—ï¼Œå¹¶ä¸”æŠ¥æ•°ã€‚ä¸è¸¢å‡ºçš„å°±å‡ºäº†é˜Ÿåˆ—åï¼Œæ¥ç€æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨ï¼Œè¸¢å‡ºå»çš„å°±è¸¢å‡ºå»
    int count = 0;
    while (true){
        count++;
        Integer gay = deque.poll();
        if (count==m){
            count = 0;
        } else {
            deque.offer(gay);
        }
        // è¿™é‡Œåˆ¤æ–­å¦‚æœé˜Ÿåˆ—åªæœ‰ä¸€ä¸ªå…ƒç´ äº†ï¼Œå°±stop
        if (deque.size()==1){
            break;
        }
    }
    return deque.poll();
}
```

- 1ã€æ„å»ºè¿™ä¸ªå•å‘å¾ªç¯é“¾è¡¨ï¼›ä¸€å…±nä¸ªäººï¼Œç¼–å·å°±æ˜¯1â€”nï¼Œé“¾è¡¨çš„èŠ‚ç‚¹å€¼å°±æ˜¯ä»–ä»¬çš„ç¼–å·ï¼Œç„¶åå…ˆæ‹¿åˆ°ç¬¬ä¸€ä¸ªäººçš„ï¼Œå› ä¸ºæ˜¯ä»ä»–å¼€å§‹æŠ¥æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

  ç„¶åforå¾ªç¯å»æ„å»ºè¿™ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¾æ¬¡æŒ‚åœ¨å¤´èŠ‚ç‚¹çš„åé¢ï¼›

  æ³¨æ„åˆ°ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹é‚£é‡Œï¼Œåœ¨forå¾ªç¯å†…æ˜¯æ²¡æœ‰æŒ‡å‘å¤´èŠ‚ç‚¹çš„ï¼ï¼æ‰€ä»¥è¦æœ€ååŠ ä¸€ä¸ªï¼

- 2ã€å¼€å§‹çº¦ç‘Ÿå¤«è¿‡ç¨‹ï¼›æ³¨æ„åˆ°è¿™é‡Œçš„åˆ é™¤ä¸æ˜¯åˆ¤æ–­èŠ‚ç‚¹å€¼å•Šï¼Œåˆ¤æ–­çš„æ˜¯è®¡æ•°å™¨ï¼Œæ•°åˆ°å‡ äº†ï¼Œå’ŒèŠ‚ç‚¹å€¼æ— å…³ã€‚

  ç„¶åï¼Œåˆ é™¤èŠ‚ç‚¹å°±è¦æ‰¾åˆ°è¢«åˆ çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼ï¼è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œ

  ç¬¬ä¸€ï¼šæä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å°¾èŠ‚ç‚¹ï¼ˆå¤´èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªå°±æ˜¯å°¾èŠ‚ç‚¹ï¼‰æœ€åé“¾è¡¨é‡Œé¢åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶å°±æ˜¯ï¼Œä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå…ƒç´ ï¼Œå•ä¸ªèŠ‚ç‚¹é—­ç¯äº†ï¼›

  **ç¬¬äºŒï¼šç›´æ¥ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å°¾èŠ‚ç‚¹å°±è¡Œäº†ï¼Œ**å› ä¸ºæˆ‘ä»¬ä»å¤´èŠ‚ç‚¹å¼€å§‹åˆ¤æ–­æ’’ï¼Œå¤´èŠ‚ç‚¹çš„å‰ä¸€ä¸ªä¸å°±æ˜¯å°¾èŠ‚ç‚¹ã€‚

```java
import java.util.Scanner;
public class çº¦ç‘Ÿå¤«1 {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);
        String next = in.next();
        String[] split = next.split(",");
        int n = Integer.parseInt(split[0]);//nä¸ªäºº
        int m = Integer.parseInt(split[1]);//æ•°åˆ°è¯¥æ•°må‡ºåˆ—
        //é‡‡ç”¨å•å‘å¾ªç¯é“¾è¡¨å»åš, èŠ‚ç‚¹å€¼æ˜¯è¿™ä¸ªäººçš„ç¼–å·
        //1.æ„å»ºå•å‘å¾ªç¯é“¾è¡¨
        ListNode first = new ListNode(1);
        ListNode temp = first;
        for (int i = 2; i <= n; i++) {
            ListNode node = new ListNode(i);
            temp.next = node;
            temp = temp.next;
        }
        //æ­¤æ—¶tempå¤„äºæœ€åç¬¬nä¸ªèŠ‚ç‚¹,è¿™é‡Œå®Œæˆé“¾è¡¨å¾ªç¯
        temp.next  = first;

        // å¾ªç¯é“¾è¡¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç¼–å·ä¸º1ï¼‰ä¸ºfirstï¼›
        // æ—¢ç„¶è¦åˆ é™¤èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰¾åˆ°è¢«åˆ èŠ‚ç‚¹çš„å‰ä¸€ä¸ªæ‰è¡Œï¼
        // æˆ‘ä»¬ç›´æ¥å–ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªä¸å°±è¡Œäº†ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹
        ListNode node = temp;
        int count = 0; //è®°å½•æŠ¥çš„æ•°å­—
        while (node.next!=node){ //æ³¨æ„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½ä¸€æ¥å°±è¢«åˆ å•Š
            count++;
            if (count==m){
                node.next = node.next.next;
                count = 0;
                continue;
            }
            //
            node = node.next;
        }
        System.out.println(node.val);
    }
}
class ListNode{
    public int val;
    public ListNode next;
    public ListNode(){};
    public ListNode(int val){this.val = val;};
}
```



# ==3ã€çº¦ç‘Ÿå¤«ç¯2==

é“¾æ¥ï¼šhttps://www.nowcoder.com/questionTerminal/ff063da83b1a4d91913dd1b1e8b01466
æ¥æºï¼šç‰›å®¢ç½‘

ç°æœ‰nä¸ªäººå›´åä¸€åœˆï¼Œé¡ºæ—¶é’ˆç»™å¤§å®¶ç¼–å·ï¼Œç¬¬ä¸€ä¸ªäººç¼–å·ä¸º1ï¼Œç„¶åé¡ºæ—¶é’ˆå¼€å§‹æŠ¥æ•°ã€‚ç¬¬ä¸€è½®ä¾æ¬¡æŠ¥1ï¼Œ2ï¼Œ1ï¼Œ2...æ²¡æŠ¥1çš„äººå‡ºå±€ã€‚æ¥ç€ç¬¬äºŒè½®å†ä»ä¸Šä¸€è½®æœ€åä¸€ä¸ªæŠ¥æ•°çš„äººå¼€å§‹ä¾æ¬¡æŠ¥1ï¼Œ2ï¼Œ3ï¼Œ1ï¼Œ2ï¼Œ3...æ²¡æŠ¥1çš„äººéƒ½å‡ºå±€ã€‚ä»¥æ­¤ç±»æ¨ç›´åˆ°å‰©ä¸‹ä»¥åä¸€ä¸ªäººã€‚ç°ç»™å®šä¸€ä¸ªint **n**ï¼Œè¦æ±‚è¿”å›æœ€åä¸€ä¸ªäººçš„ç¼–å·ã€‚ 

  æµ‹è¯•æ ·ä¾‹ï¼š 

```java
5
è¿”å›ï¼š5
```

ã€éš¾ã€‘è¿™é‡Œä½¿ç”¨é“¾è¡¨å°±ä¸è¡Œäº†ï¼Œå› ä¸ºæˆ‘è¦åˆ¤æ–­è¿™æ˜¯ç¬¬å‡ è½®ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªåŒç«¯é˜Ÿåˆ—ï¼ï¼ï¼ï¼Œå…ˆæŠŠæ‰€æœ‰äººæ”¾å…¥ç¬¬ä¸€ä¸ªé˜Ÿåˆ—ï¼Œç„¶åä¾æ¬¡å‡ºé˜Ÿåˆ—ï¼Œå¹¶ä¸”è®¡æ•°ï¼ŒæŠ¥æ•°ä¸º1 çš„å°±è¿›å…¥ç¬¬äºŒä¸ªé˜Ÿåˆ—ï¼Œä¸ä¸º1çš„å°±ä¸¢å¼ƒã€‚å½“1å·é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œè¯´æ˜æŠ¥æ•°å®Œæˆäº†ä¸€è½®ï¼›æ­¤æ—¶åˆ¤æ–­ç¬¬äºŒä¸ªé˜Ÿåˆ—æ˜¯ä¸æ˜¯åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯åˆ™ç»“æŸäº†ï¼›ä¸æ˜¯ï¼Œæˆ‘ä»¬å°±æ¥ç€å†æ¥ä¸€æ¬¡ï¼Œå°†q1ã€q2çš„æŒ‡å‘äº¤æ¢ï¼Œæ¥ç€è®©q1å»æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚

```java
public class çº¦ç‘Ÿå¤«2 {

    public int getResult(int n) {
        // write code here
        //1.ä¸¤ä¸ªé˜Ÿåˆ—è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬è¦è®°å½•å¾ªç¯äº†å‡ æ¬¡ï¼Œç¬¬ä¸€ä¸ªé˜Ÿåˆ—æŒ¨ä¸ªåˆ°ç¬¬äºŒä¸ªé˜Ÿåˆ—é‡Œé¢å»
        //é˜Ÿåˆ—å­˜çš„æ˜¯æ¯ä¸ªäººçš„ç¼–å·
        Deque<Integer> queue1 = new LinkedList<>();
        Deque<Integer> queue2 = new LinkedList<>();
        for (int i = 1; i <= n; i++) {
            queue1.offer(i);
        }
        //å¼€å§‹æŠ¥æ•°ï¼ŒæŠ¥ä¸€ä¸ªæ•°å‡ºä¸€ä¸ªé˜Ÿåˆ—
        int count = 0; //è®°å½•æŠ¥æ•°
        int num = 1; //ç¬¬å‡ è½®
        while (true) { //q2é‡Œé¢åªæœ‰ä¸€ä¸ªäººçš„æ—¶å€™ï¼Œè¡¨ç¤ºç»“æŸäº†
            while (!queue1.isEmpty()) { //q1å…¨éƒ¨å‡ºå»äº†ï¼Œè¡¨ç¤ºä¸€è½®ç»“æŸäº†
                count++;
                Integer gay = queue1.poll();
                if (count == 1) {
                    queue2.offer(gay);
                }
                if (count == num + 1) {
                    count = 0;
                }
            }
            count = 0;
            num++;
            //æ¥ç€ç¬¬äºŒè½®å†ä»ä¸Šä¸€è½®æœ€åä¸€ä¸ªæŠ¥æ•°çš„äººå¼€å§‹ä¾æ¬¡æŠ¥, æœ€åä¸€ä¸ªæŠ¥æ•°çš„åœ¨q2çš„å°¾å·´å•Šï¼Œè¦æŠŠä»–æ‹¿åˆ°å‰é¢æ¥ï¼Œä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ‰è¡Œ
            queue2.offerFirst(queue2.pollLast());
            if (queue2.size()==1){
                break;
            }
            // è®©q1ã€q2äº¤æ¢æŒ‡é’ˆæŒ‡å‘ï¼Œ
            Deque<Integer> temp = queue1;
            queue1 = queue2;
            queue2 = temp;
        }
        // å½“q2åªæœ‰ä¸€ä¸ªæ—¶ç»“æŸäº†
        return queue2.poll();
    }
}
```

# ==4ã€ç³–æœç¾å‘³å€¼==

åƒç¬¬iä¸ªç³–æœå°±ä¸èƒ½åƒç¬¬i-1, i-2 , i+1 ,i+2ä¸ªï¼Œæ¯ä¸ªç³–æœæœ‰ä¸€ä¸ªç¾å‘³å€¼ï¼Œæ±‚æœ€å¤§ç¾å‘³å€¼ã€‚ä¸€å…±æœ‰nä¸ªç³–æœï¼Œæ¯ä¸ªç³–æœçš„ç¾å‘³å€¼ä»¥æ•°ç»„å½¢å¼ç»™å‡ºã€‚

ã€æ‰“å®¶åŠ«èˆå•Šã€‘æœ€ç®€å•çš„çº¿æ€§ç‰ˆæœ¬ï¼›åªæ˜¯è¿™é‡Œæ˜¯ç›¸é‚»çš„ä¸¤ä¸ªä¸èƒ½è¢«å·ï¼›æœ¬è´¨ä¸Šè·³è·ƒç€ä»æ•°ç»„é‡Œé¢é€‰æ•°ï¼Œå¯ä»¥å·¦å³æ¨ªè·³ï¼Œæ±‚å¯ä»¥é€‰çš„æœ€å¤§å’Œæ˜¯å¤šå°‘ã€‚

==æ˜“é”™ç‚¹ï¼š å¯¹è¾“å…¥çš„ç®€å•åˆ¤æ–­ï¼Œå¾€å‰è€ƒè™‘ä¸å¾€åè€ƒè™‘ï¼ï¼ï¼==ã€‚è¿™é‡Œç›¸é‚»å°±æ„å‘³ç€ï¼Œé€‰äº† i æˆ¿å­ï¼Œå°±ä¸èƒ½é€‰ i-1ã€i+1çš„æˆ¿å­ï¼Œè¿™é‡Œi+1æˆ‘ä»¬æ˜¯ä¸è€ƒè™‘çš„ï¼ŒçœŸçš„æ˜¯ä¸Šå½“äº†ï¼Œå› ä¸ºdpæ•°ç»„ä»å‰å¾€åè€ƒè™‘çš„å•Šï¼Œè½®åˆ°æˆ‘çš„ç¬¬ i+1çš„æˆ¿å­çš„æ—¶å€™ï¼Œæˆ‘å°±è€ƒè™‘åˆ°äº†å’Œ i çš„å…³ç³»å•Šï¼ï¼ï¼

- dp[ i ]: è¡¨ç¤ºä»iä¸ªç³–æœé‡Œé¢é€‰ï¼Œå¾—åˆ°çš„æœ€å¤§ç¾å‘³å€¼ï¼›

- é€’æ¨æ›´ç®€å•å•Š

  ```java
  dp[i] = MAX( dp[i-1], dp[i-3]+value[i-1] );
  ```

  

# ==5ã€ç«è½¦è¿›ç«™ç³»åˆ—1-åˆ¤æ–­==

å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—

è¾“å…¥ä¸¤ä¸ªæ•´æ•°åºåˆ—ï¼Œç¬¬ä¸€ä¸ªåºåˆ—è¡¨ç¤ºæ ˆçš„å‹å…¥é¡ºåºï¼Œè¯·åˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æ˜¯å¦ä¸ºè¯¥æ ˆçš„å¼¹å‡ºé¡ºåºã€‚å‡è®¾å‹å…¥æ ˆçš„æ‰€æœ‰æ•°å­—å‡ä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼Œåºåˆ— {1,2,3,4,5} æ˜¯æŸæ ˆçš„å‹æ ˆåºåˆ—ï¼Œåºåˆ— {4,5,3,2,1} æ˜¯è¯¥å‹æ ˆåºåˆ—å¯¹åº”çš„ä¸€ä¸ªå¼¹å‡ºåºåˆ—ï¼Œä½† {4,3,5,1,2} å°±ä¸å¯èƒ½æ˜¯è¯¥å‹æ ˆåºåˆ—çš„å¼¹å‡ºåºåˆ—ã€‚

**ã€åˆ†æã€‘**

è¿™é‡Œç»™äº†ä¸¤ä¸ªåºåˆ—ï¼Œå¹¶ä¸”åºåˆ—å†…æ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼ˆè¿™æ˜¯å¿…é¡»çš„ï¼‰ï¼Œç„¶ååˆ¤æ–­ç¬¬äºŒä¸ªåºåˆ—æœ‰æ²¡æœ‰å¯èƒ½æ˜¯ç¬¬ä¸€ä¸ªåºåˆ—çš„å‡ºæ ˆé¡ºåºã€‚å…³é”®ç‚¹åœ¨äºï¼š**æŸä¸ªç«è½¦è¿›æ¥ä¹‹åï¼Œå¯ä»¥é©¬ä¸Šå‡ºå»ï¼Œ**å¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„ç«è½¦éƒ½å‹å…¥æ ˆäº†ï¼Œç„¶åä¾æ¬¡å‡ºå»ï¼ï¼ï¼

**èƒŒä¸‹æ¥ï¼š**å‹æ ˆé¡ºåºæ˜¯å›ºå®šçš„ï¼Œåªçœ‹å‹æ ˆï¼Œä½†å‡ºå»çš„é¡ºåºæœ‰å¾ˆå¤šç§ã€‚

æ¯ä¸ªå…ƒç´ å‹æ ˆä¹‹åï¼Œåˆ¤æ–­æ ˆé¡¶çš„å…ƒç´ æ˜¯ä¸æ˜¯ç­‰äºé‚£ä¸ªå‡ºæ ˆåºåˆ—çš„æŒ‡é’ˆå…ƒç´ ï¼ˆæŒ‡é’ˆå…ˆæŒ‡å‘ç¬¬ä¸€ä¸ªï¼‰ï¼Œ==å‡å¦‚ç­‰äºå°±å¾ªç¯å‡ºæ ˆ== å°†æ ˆé¡¶å‡ºæ ˆï¼Œå¹¶ä¸”å‡ºæ ˆåºåˆ—æŒ‡é’ˆåç§»ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ ˆé¡¶å…ƒç´ ä¸ç­‰äºå‡ºæ ˆåºåˆ—æŒ‡é’ˆæˆ–è€…æ ˆä¸ºç©ºäº†ã€‚==æ ˆä¸ºç©ºpeekä¼šæŠ¥é”™==ã€‚

ç„¶åæ¥ç€å…¥æ ˆã€‚æœ€åå‡å¦‚æ ˆé‡Œé¢è¿˜æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆGGï¼ŒæŒ‰ç€è¿™ä¸ªå‡ºæ ˆé¡ºåºä¸è¡Œï¼ï¼

> ä¸å¾ªç¯å‡ºæ ˆçš„è¯ï¼Œå°±ä¼šåªå‡ºå»ä¸€ä¸ªï¼Œå¦‚12345ï¼Œ54321.

```java
class Solution3 {
    public boolean IsPopOrder(int [] pushA, int [] popA) {
        //å…ˆå°†å…ƒç´ å…¥æ ˆï¼Œç„¶ååˆ¤æ–­æ ˆé¡¶å…ƒç´ å’Œå‡ºæ ˆåºåˆ—çš„æŒ‡é’ˆï¼Œå¦‚æœç›¸ç­‰åˆ™å¾ªç¯å‡ºæ ˆç›´åˆ°ä¸ç›¸ç­‰ï¼Œæœ€ååˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©ºå³å¯ã€‚
        Stack<Integer> stack = new Stack<>();
        int p = 0;
        for (int i = 0; i < pushA.length; i++) {
            //å…ˆå…¥
            stack.push(pushA[i]);
            //judge
            if (stack.peek() == popA[p]) {
                while (!stack.isEmpty() && stack.peek() == popA[p]) {
                    stack.pop();
                    p++;
                }
            }
        }

        return stack.isEmpty();
    }
}
```

# 6ã€ç«è½¦è¿›ç«™ç³»åˆ—2-è¾“å‡º

[ç«è½¦è¿›ç«™_ç‰›å®¢é¢˜éœ¸_ç‰›å®¢ç½‘ (nowcoder.com)](https://www.nowcoder.com/practice/97ba57c35e9f4749826dc3befaeae109?tpId=37&tqId=21300&rp=1&ru=/exam/oj/ta&qru=/exam/oj/ta&sourceUrl=%2Fexam%2Foj%2Fta%3Fpage%3D1%26pageSize%3D50%26search%3D%E7%81%AB%E8%BD%A6%26tpId%3D37%26type%3D37&difficulty=undefined&judgeStatus=undefined&tags=&title=ç«è½¦)

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°Nä»£è¡¨ç«è½¦æ•°é‡ï¼Œ0<N<10ï¼Œæ¥ä¸‹æ¥è¾“å…¥ç«è½¦å…¥ç«™çš„åºåˆ—ï¼Œä¸€å…±Nè¾†ç«è½¦ï¼Œæ¯è¾†ç«è½¦ä»¥æ•°å­—1-9ç¼–å·ï¼Œç«è½¦ç«™åªæœ‰ä¸€ä¸ªæ–¹å‘è¿›å‡ºï¼ŒåŒæ—¶åœé åœ¨ç«è½¦ç«™çš„åˆ—è½¦ä¸­ï¼Œåªæœ‰åè¿›ç«™çš„å‡ºç«™äº†ï¼Œå…ˆè¿›ç«™çš„æ‰èƒ½å‡ºç«™ã€‚

è¦æ±‚è¾“å‡ºæ‰€æœ‰ç«è½¦å‡ºç«™çš„æ–¹æ¡ˆï¼Œä»¥å­—å…¸åºæ’åºè¾“å‡ºã€‚

è¾“å…¥ï¼š

```
3
1 2 3
è¾“å‡ºï¼š
1 2 3
1 3 2
2 1 3
2 3 1
3 2 1
```

```
ç¬¬ä¸€ç§æ–¹æ¡ˆï¼š1è¿›ã€1å‡ºã€2è¿›ã€2å‡ºã€3è¿›ã€3å‡º
ç¬¬äºŒç§æ–¹æ¡ˆï¼š1è¿›ã€1å‡ºã€2è¿›ã€3è¿›ã€3å‡ºã€2å‡º
ç¬¬ä¸‰ç§æ–¹æ¡ˆï¼š1è¿›ã€2è¿›ã€2å‡ºã€1å‡ºã€3è¿›ã€3å‡º
ç¬¬å››ç§æ–¹æ¡ˆï¼š1è¿›ã€2è¿›ã€2å‡ºã€3è¿›ã€3å‡ºã€1å‡º
ç¬¬äº”ç§æ–¹æ¡ˆï¼š1è¿›ã€2è¿›ã€3è¿›ã€3å‡ºã€2å‡ºã€1å‡º
è¯·æ³¨æ„ï¼Œ[3,1,2]è¿™ä¸ªåºåˆ—æ˜¯ä¸å¯èƒ½å®ç°çš„ã€‚     
```

# ==7ã€å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾==

åœ¨ä¸€ä¸ª n * m çš„äºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³ **éé€’å‡** çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ **éé€’å‡** çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªé«˜æ•ˆçš„å‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚

**ç¤ºä¾‹:**

ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š

```
[
  [1,   4,  7, 11, 15],
  [2,   5,  8, 12, 19],
  [3,   6,  9, 16, 22],
  [10, 13, 14, 17, 24],
  [18, 21, 23, 26, 30]
]
```

ç»™å®š target = `5`ï¼Œè¿”å› `true`ã€‚

ç»™å®š target = `20`ï¼Œè¿”å› `false`ã€‚

ã€å¥½éš¾å¥½éš¾ã€‘å¦ˆçš„ï¼Œæˆ‘æƒ³çš„æ˜¯æ—¢ç„¶éƒ½æ˜¯å‡åºæ’åˆ—ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥å…ˆæ‰¾åˆ°è¿™ä¸ªæ•°åœ¨å“ªä¸€è¡Œçš„èŒƒå›´ï¼Œå› ä¸ºä¸‹é¢çš„åˆ—ä¹Ÿæ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å‘¢æˆ‘ä»¬å†éå†è¿™ä¸€è¡Œï¼Œæ‰¾åˆ°è¯¥å…ƒç´ æ‰€åœ¨çš„åˆ—èŒƒå›´ï¼Œç„¶åå†å¾€ä¸‹éå†è¿™ä¸€åˆ—å°±è¡Œäº†ã€‚å…¶å®æ˜¯ä¸å¯¹çš„ï¼ï¼ï¼ï¼è¿™ä¸¤ä¸ªé€’å¢çš„å«ä¹‰ææ··æ·†äº†ï¼Œå¯èƒ½ç¬¬äºŒè¡Œçš„æœ€å¤§å€¼ï¼Œå°äºç¬¬ä¸‰è¡Œçš„æœ€å°å€¼å‘¢ã€‚ä»€ä¹ˆçš„ï¼Œåæ­£å¾ˆå¤æ‚å•Šï¼Œè¿™ç§æä¸æ¸…æ¥šçš„ã€‚æˆ‘ä»¬å°±æš´åŠ›å°±è¡Œäº†ã€‚

æˆ–è€…å¯¹æ¯ä¸€è¡Œè¿›è¡ŒäºŒåˆ†æ³•æŸ¥æ‰¾ï¼Œä½†æ˜¯äºŒåˆ†æ³•è¦æ±‚ä¸¥æ ¼é€’å¢æ‰å¯ä»¥æ‰¾åˆ°å¯¹åº”å…ƒç´ çš„ä½ç½®ï¼Œå¦åˆ™ä¼šæ‰¾åˆ°å¤šä¸ªä½ç½®ï¼Œè¿™é‡Œåªè¦çŸ¥é“æœ‰æ²¡æœ‰å‡ºç°ï¼Œæ‰€ä»¥æ²¡å…³ç³»ï¼Œå°±ç”¨äºŒåˆ†å»åšã€‚

```java
public boolean findNumberIn2DArray(int[][] matrix, int target) {
    if (matrix.length==0) return false;
    if (matrix[0].length==0) return false;
    int row = matrix.length;
    int col = matrix[0].length;
    //æ¯ä¸€è¡Œæ˜¯éé€’å‡çš„ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†å»åšï¼ŒåŠæš´åŠ›
    for (int i = 0; i < row; i++) {
        //è¿™é‡Œæ˜¯äºŒåˆ†æ³•çš„å®ç°ï¼Œæˆ‘è‰ï¼Œå·®ä¸€ç‚¹å†™é”™äº†è¿˜
        int left = 0;
        int right = col-1;
        int mid = (left+right)/2;
        while (left<=right){
            if (matrix[i][mid]==target){
                return true;
            }else if(target>matrix[i][mid]){
                left = mid+1;
                mid = (left+right)/2;
            }else {
                right = mid-1;
                mid = (left+right)/2;
            }
        }
    }
    return false;
}
```



# 8ã€å‰‘æŒ‡offer11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—

æŠŠä¸€ä¸ªæ•°ç»„æœ€å¼€å§‹çš„è‹¥å¹²ä¸ªå…ƒç´ æ¬åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ•°ç»„çš„æ—‹è½¬ã€‚

ç»™ä½ ä¸€ä¸ªå¯èƒ½å­˜åœ¨ **é‡å¤** å…ƒç´ å€¼çš„æ•°ç»„ `numbers` ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œå¹¶æŒ‰ä¸Šè¿°æƒ…å½¢è¿›è¡Œäº†ä¸€æ¬¡æ—‹è½¬ã€‚è¯·è¿”å›æ—‹è½¬æ•°ç»„çš„**æœ€å°å…ƒç´ **ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„ `[3,4,5,1,2]` ä¸º `[1,2,3,4,5]` çš„ä¸€æ¬¡æ—‹è½¬ï¼Œè¯¥æ•°ç»„çš„æœ€å°å€¼ä¸º 1ã€‚ æ³¨æ„ï¼Œæ•°ç»„ `[a[0], a[1], a[2], ..., a[n-1]]` æ—‹è½¬ä¸€æ¬¡ çš„ç»“æœä¸ºæ•°ç»„ `[a[n-1], a[0], a[1], a[2], ..., a[n-2]]` ã€‚



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnumbers = [3,4,5,1,2]
è¾“å‡ºï¼š1
```

 ã€è¿™é“é¢˜ç›®ã€‘è¶Šçœ‹è¶Šå¥‡æ€ªå•Šï¼Œå…¶å®å°±æ˜¯åŸæ¥æ˜¯éé€’å‡çš„æ•°ç»„ï¼Œç„¶åæˆ‘ä»¬æäº†ä¸€ä¸ªç¯å½¢ï¼Œå–äº†å‰é¢çš„æ”¾åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¯¼è‡´æœ€åæ•°ç»„ä¼šå…ˆé€’å¢ç„¶åä¸‹é™ä¸€ä¸‹ï¼Œç„¶ååˆé€’å¢äº†ï¼ˆéä¸¥æ ¼ï¼‰ï¼Œè¿™ä¸ªä¸‹é™çš„ç‚¹å°±æ˜¯é‚£ä¸ªæœ€å°çš„æ•°å­—å•Šã€‚

```java
    public int minNumberInRotateArray(int [] array) {
        //ç›´æ¥ä»å‰å¾€ååˆ¤æ–­ï¼Œå¦‚æœä¸€ç›´é€’å¢ï¼Œè¯´æœ€å°æ•°å­—æ˜¯ç¬¬ä¸€ä¸ªï¼›å¦åˆ™æ‰¾åˆ°ç¬¬ä¸€ä¸ªéé€’å¢çš„ç‚¹å³å¯
        int ans = array[0];
        for(int i=0; i < array.length-1; i++){
            if(array[i+1]>=array[i]){}
            else{
                ans = array[i+1];
                break;
            }
        }

        return ans;
    }
```

ç®€è¨€ä¹‹ï¼šæ—‹è½¬æ•°ç»„=ä¸¤ä¸ªå‡åºæ•°ç»„çš„ç»„åˆï¼›ä¾‹å¦‚**ã€34512ã€‘**è¿™ä¸ªï¼›å…¶å®è¿™ç§ç±»å‹çš„é¢˜ç›®æŸ¥æ‰¾æœ€å°å€¼å•Šã€æˆ–è€…æŸ¥æ‰¾æŸä¸€ä¸ªå…ƒç´ å•Šï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ã€‚æš´åŠ›ä¹Ÿå¯ä»¥å°±æ˜¯åªèƒ½è¿‡20%æ ·ä¾‹ã€‚

çœ‹ä¸æ‡‚å•Šï¼[å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­— - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/solutions/340801/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-by-leetcode-s/)

```java
    public int getRes(int[] numbers) {
        // é¦–å…ˆè¿™é‡Œæ•°ç»„å…ƒç´ ä¼šæœ‰é‡å¤çš„çš„ï¼Œä¼šç¨å¾®å¤æ‚ä¸€ç‚¹ç‚¹
        // æœ¬è´¨ä¸Šå°±æ˜¯ä¸¤æ®µå‡åºæ•°ç»„æ‹¼å‡‘èµ·æ¥ï¼Œæ‰¾æœ€å°å€¼ï¼›æˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ã€‚
        int left = 0;
        int right = numbers.length - 1;
        int mid = left + (right - left) / 2; //é˜²æ­¢æ•°å€¼æº¢å‡º
        while (left < right) {
            if (numbers[mid] > numbers[right]){
                // è¯´æ˜ï¼Œmidä»¥åŠå®ƒçš„å·¦è¾¹éƒ¨åˆ†è‚¯å®šæ˜¯é€’å¢çš„ï¼Œä¸‹ä¸€æ¬¡æœç´¢åº”è¯¥æ˜¯ã€mid+1ï¼Œrightã€‘è‚¯å®šä¸åŒ…æ‹¬midè¿™ä¸ªç‚¹çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ‰¾çš„æ˜¯æœ€å°å€¼
                left = mid+1;
                mid = left + (right - left) / 2;
            } else if (numbers[mid] < numbers[right]) {
                // è¯´æ˜ï¼Œmidä»¥åŠå®ƒå³è¾¹çš„éƒ¨åˆ†æ˜¯é€’å¢çš„ï¼ŒåŒ…æ‹¬midåœ¨é‡Œé¢ï¼Œé‚£æ˜¯ä¸æ˜¯ä¹Ÿå¯èƒ½è¿™ä¸ªmidç‚¹å°±æ˜¯æœ€å°å€¼ï¼Œæ‰€ä»¥ä¸‹ä¸€æ¬¡æœç´¢åŒºé—´åº”è¯¥æ˜¯ã€leftï¼Œmidã€‘
                right = mid;
                mid = left + (right - left) / 2;
            }else {
                // è¿™é‡Œæ˜¯é‡å¤å…ƒç´ çš„æƒ…å†µï¼Œæ¯”è¾ƒå¤æ‚ã€‚æˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ä¸ºä¸€æ®µä¸Šå‡+ä¸€æ®µå¹³è¡Œï¼Œæ­¤æ—¶æœ€å°å€¼æ˜¯å·¦è¾¹è¿˜æ˜¯å³è¾¹å°±æ— æ³•ç¡®å®šäº†ï¼Œæ–¹æ³•å°±æ˜¯ç¼©å°åŒºé—´ï¼Œå»æ‰rightå€¼çš„åˆ¤æ–­
                // å› ä¸ºæˆ‘ä»¬çŸ¥é“mid=rightçš„å€¼ï¼Œå‡å¦‚è¿™ä¸ªç›¸ç­‰çš„å€¼å°±æ˜¯æœ€å°çš„ï¼Œé‚£ä¹Ÿä¸å½±å“ï¼Œå› ä¸ºæˆ‘ä»¬å»æ‰rightå€¼çš„åŒºé—´æœ‰æœ€å°å€¼
                right--;
                mid = left + (right - left) / 2;
            }
        }
        return numbers[mid];
    }
```







# ==9ã€å‰‘æŒ‡12. çŸ©é˜µä¸­çš„è·¯å¾„==

ç»™å®šä¸€ä¸ª `m x n` äºŒç»´å­—ç¬¦ç½‘æ ¼ `board` å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ `word` ã€‚å¦‚æœ `word` å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚

ä¾‹å¦‚ï¼Œåœ¨ä¸‹é¢çš„ 3Ã—4 çš„çŸ©é˜µä¸­åŒ…å«å•è¯ "ABCCED"ï¼ˆå•è¯ä¸­çš„å­—æ¯å·²æ ‡å‡ºï¼‰ã€‚

![img](images/word2.jpg)

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šboard = [["A","B","C","E"],["S","F","C","S"],["A","D","E","E"]], word = "ABCCED"
è¾“å‡ºï¼štrue
```

ã€ç»å…¸çš„çŸ©é˜µDFSï¼šå±äºé€’å½’å›æº¯ç®—æ³•ã€‘

ç”±äºæˆ‘ä»¬è¦è¿›è¡ŒåŒ¹é…å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æœ‰**å›æº¯çš„æ“ä½œ**ï¼Œæ¯”è¾ƒéš¾ï¼ï¼ä½¿ç”¨ **æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰+ å›æº¯** è§£å†³ã€‚æˆ‘ä»¬å°±æ˜¯æš´åŠ›æœç´¢çŸ©é˜µé‡Œé¢çš„æ¯ä¸€ä¸ªç‚¹ï¼Œç„¶åæ¯ä¸ªç‚¹å¯ä»¥å¾€ä»–çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘è¿›è¡ŒæŸ¥æ‰¾ã€‚

<img src="images/35AA173EC13A1BF291A00F890111B937.png" alt="å›¾ç‰‡è¯´æ˜" style="zoom:50%;" />

è¿™ä¸ªç‚¹å¯ä»¥æ˜¯çŸ©å½¢ä¸­çš„ä»»ä½•ä¸€ä¸ªç‚¹ï¼Œæ‰€ä»¥ä»£ç çš„å¤§è‡´è½®å»“æˆ‘ä»¬åº”è¯¥èƒ½å†™å‡ºæ¥ï¼Œå°±æ˜¯éå†çŸ©å½¢æ‰€æœ‰çš„ç‚¹ï¼Œç„¶åä»è¿™ä¸ªç‚¹å¼€å§‹å¾€ä»–çš„4ä¸ªæ–¹å‘èµ°ï¼Œå› ä¸ºæ˜¯äºŒç»´æ•°ç»„ï¼Œæ‰€ä»¥æœ‰ä¸¤ä¸ªforå¾ªç¯ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
public boolean hasPath (char[][] matrix, String word) {
    char[] words = word.toCharArray();
    for (int i = 0; i < matrix.length; i++) {
        for (int j = 0; j < matrix[0].length; j++) {
            //ä»[i,j]è¿™ä¸ªåæ ‡å¼€å§‹æŸ¥æ‰¾ã€‚ä¼šéå†çŸ©é˜µçš„æ¯ä¸€ä¸ªç‚¹
            if (dfs(matrix, words, i, j, 0))
                return true;
        }
    }
    return false;
}
```

è¿™é‡Œå…³é”®ä»£ç æ˜¯dfsè¿™ä¸ªå‡½æ•°ï¼Œå› ä¸ºæ¯ä¸€ä¸ªç‚¹æˆ‘ä»¬éƒ½å¯ä»¥å¾€ä»–çš„4ä¸ªæ–¹å‘æŸ¥æ‰¾ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæƒ³è±¡ä¸ºä¸€æ£µ4å‰æ ‘ï¼Œå°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ‰4ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œæ ‘çš„éå†æˆ‘ä»¬æœ€å®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯é€’å½’ï¼Œæˆ‘ä»¬æ¥å¤§æ¦‚çœ‹ä¸€ä¸‹

```java
// è¿”å›å€¼ï¼šä»å½“å‰çš„ã€iï¼Œjã€‘ä½ç½®å¼€å§‹æœç´¢ï¼Œèƒ½å¦æœåˆ°åŒ¹é…è·¯å¾„
boolean dfs(char[][] board, char[] word, int i, int j, int index) {
    if (è¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­) {
        return;
    }

    ä¸€äº›é€»è¾‘å¤„ç†

    boolean res;
    //å¾€å³
    res = dfs(board, word, i + 1, j, index + 1)
    //å¾€å·¦
    res |= dfs(board, word, i - 1, j, index + 1)
    //å¾€ä¸‹
    res |= dfs(board, word, i, j + 1, index + 1)
    //å¾€ä¸Š
    res |= dfs(board, word, i, j - 1, index + 1)
    //ä¸Šé¢4ä¸ªæ–¹å‘ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½æŸ¥æ‰¾åˆ°ï¼Œå°±è¿”å›trueï¼›
    return res;
}
```



```java
class Solution6 {
    public boolean exist(char[][] board, String word) {
        //çŸ©é˜µæœç´¢è·¯å¾„ç±»å‹ï¼Œæ¯ä¸ªç‚¹å¯ä»¥ä¸Šä¸‹å·¦å³æœç´¢ã€‚é‡‡ç”¨ä¸¤ä¸ªforå»æš´åŠ›æœç´¢
        // dfsçš„è¿”å›å€¼æ„ä¹‰æ˜¯ï¼šä»å½“å‰ã€iï¼Œjã€‘èŠ‚ç‚¹å¼€å§‹æœç´¢ï¼Œæœ‰æ²¡æœ‰å®Œæˆå­—ç¬¦ä¸²çš„åŒ¹é…
        int m = board.length;
        int n = board[0].length;
        int index = 0;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                boolean dfs = dfs(board, i, j, word, index);
                if (dfs) return true; //æœ‰ä¸€ä¸ªä¸ºtrueå³å¯
            }
        }
        //
        return false;
    }

    //index è¡¨ç¤ºå½“å‰åŒ¹é…çš„å­—ç¬¦ç´¢å¼•ï¼Œiï¼Œjæ˜¯å½“å‰æ‰€åœ¨æ ¼å­ï¼Œ
    private boolean dfs(char[][] board, int i, int j, String word, int index) {
        //å¦‚æœiã€jè¶Šç•Œäº†return falseï¼›å¦‚æœå½“å‰å­—ç¬¦å’ŒçŸ©é˜µiï¼Œjå­—ç¬¦ä¸åŒ¹é… return false
        if (i<0||i>board.length-1 || j<0||j>board[0].length-1
        || word.charAt(index)!=board[i][j]){
            return false;
        }
        //å¦‚æœå…¨éƒ¨åŒ¹é…ä¸Šï¼Œè¿”å›true
        if (index == word.length()-1){
            return true;
        }
        //å¤„ç†ã€é€’å½’ã€å›æº¯;
        char temp = board[i][j];//æå‰è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿å›æº¯æ—¶å€™ä¿®æ”¹å›æ¥
        board[i][j] = '.'; //é˜²æ­¢é‡å¤åŒ¹é…ï¼Œæ ‡è®°å·²è®¿é—®
        boolean res = dfs(board, i+1, j, word, index+1)  //å‘ä¸Šä¸‹å·¦å³æœç´¢
                || dfs(board, i-1, j, word, index+1)
                || dfs(board, i, j+1, word, index+1)
                || dfs(board, i, j-1, word, index+1);
        board[i][j] = temp;//å›æº¯ï¼Œä¿®æ”¹å›æ¥ï¼Œè¡¨ç¤ºæœªè®¿é—®è¿‡
        return res;

    }
}
```



# ==10ã€é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´==

åœ°ä¸Šæœ‰ä¸€ä¸ªmè¡Œnåˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ `[0,0]` åˆ°åæ ‡ `[m-1,n-1]` ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ `[0, 0] `çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äºkçš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“kä¸º18æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º3+5+3+7=18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º3+5+3+8=19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ



ã€å…¸å‹çš„çŸ©é˜µæœç´¢é—®é¢˜â€”â€”DFSã€‘é‡‡ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢è§£å†³ï¼›

æˆ‘ä»¬åªéœ€è¦ä»çŸ©é˜µçš„å·¦ä¸Šè§’ã€0ï¼Œ0ã€‘å¼€å§‹æœç´¢ï¼ŒæŒ¨ä¸ªå»åˆ¤æ–­ä»–çš„é‚»æ¥ç‚¹èƒ½ä¸èƒ½åˆ°è¾¾ï¼Œç„¶åé€’å½’å³å¯ã€‚å¹¶ä¸”ä½¿ç”¨ä¸€ä¸ªå˜é‡è®°å½•åˆ°è¾¾çš„ç‚¹æ•°é‡ã€‚ä¸éœ€è¦è¿›è¡ŒåŒ¹é…ï¼Œæ²¡æœ‰å›æº¯çš„æ“ä½œï¼Œæ¯”ä¸Šé¢é‚£ä¸ªé¢˜ç›®ç®€å•ä¸€ç‚¹ã€‚

[é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/solutions/191527/ji-qi-ren-de-yun-dong-fan-wei-by-leetcode-solution/)

[é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/solutions/1448376/by-da-fei-de-tian-kong-dhms/)



```java
class Solution {
    // m,nâ€”â€”çŸ©é˜µçš„å¤§å°ï¼Œkéšœç¢ç‰©æ ‡è®°
    public int movingCount(int m, int n, int k) {
        boolean[][] visited = new boolean[m][n];
        //ä»è¿™ä¸ªã€0ï¼Œ0ã€‘ä½ç½®å¼€å§‹æœç´¢å³å¯
        dfs(m,n,k,0,0,visited);
        return result;
    }

    //éœ€è¦ä¸€ä¸ªvisitedæ•°ç»„ï¼Œæ ‡è¯†å·²ç»åˆ°è¾¾è¿‡çš„ç‚¹ï¼Œé˜²æ­¢é‡å¤åˆ°è¾¾ï¼Œå› ä¸ºæ¯ä¸ªç‚¹å‡å¯ä»¥ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘æœç´¢
    //i,jè¡¨ç¤ºå½“å‰æœºå™¨äººæƒ³åˆ°è¾¾çš„ç‚¹ï¼Œ
    int result = 0;
    public void dfs(int m, int n, int k, int i, int j, boolean[][] visited) {
        //2.ç»ˆæ­¢æ¡ä»¶ã€‚å¦‚æœè¯¥ç‚¹è¶Šç•Œæˆ–è€…æœ‰éšœç¢ç‰©æˆ–å·²ç»åˆ°è¾¾è¿‡ï¼Œé‚£ä¹ˆå°±æ— æ³•åˆ°è¾¾ï¼Œreturn
        if (i < 0 || i > m - 1 || j < 0 || j > n - 1 || getSum(i)+getSum(j)>k
        || visited[i][j]==true){
            return;
        }
        //åˆ°è¿™ä¸€æ­¥ï¼Œè¯´æ˜è¯¥ç‚¹å¯ä»¥åˆ°è¾¾ã€‚ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
        visited[i][j] = true;
        result++;
        dfs(m, n, k, i+1, j, visited);
        dfs(m, n, k, i-1, j, visited);
        dfs(m, n, k, i, j+1, visited);
        dfs(m, n, k, i, j-1, visited);
    }

    //å‡½æ•°ï¼šè·å–æŸä¸ªæ•°çš„æ•°ä½ä¹‹å’Œ
    public int getSum(int num) {
        int sum = 0;
        while (num != 0) {
            int i = num % 10;
            sum += i;
            num = num / 10;
        }
        return sum;
    }
}
```



# 11ã€é‡å»ºäºŒå‰æ ‘

è¾“å…¥æŸäºŒå‰æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœï¼Œè¯·æ„å»ºè¯¥äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚

å‡è®¾è¾“å…¥çš„å‰åºéå†å’Œä¸­åºéå†çš„ç»“æœä¸­éƒ½ä¸å«é‡å¤çš„æ•°å­—ã€‚

**ç¤ºä¾‹ 1:**

<img src="images/tree-16800680876621.jpg" alt="img" style="zoom:67%;" />

```
Input: preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]
Output: [3,9,20,null,null,15,7]
```

```java
class Solution {
    //å‰åºéå†å’Œä¸­åºéå†
    public TreeNode buildTree(int[] preorder, int[] inorder) {
        //1ã€ç»ˆæ­¢æ¡ä»¶ï¼Œå½“æ•°ç»„é•¿åº¦ä¸º0æ—¶ï¼Œè¿”å›æŒ‚è½½çš„èŠ‚ç‚¹ä¸ºnull
        //2ã€ååºæ‰¾åˆ°æ ¹èŠ‚ç‚¹
        //3.æ ¹æ®æ ¹èŠ‚ç‚¹çš„æ•°å€¼åˆ’åˆ†ä¸­åºéå†ï¼Œå¾—åˆ°å·¦å­æ ‘ä¸­åºéå†ã€å³å­æ ‘ä¸­åºéå†
        //4.æ ¹æ®å·¦å­æ ‘ä¸­åºéå†é•¿åº¦ï¼Œåˆ’åˆ†ååºæ•°ç»„ï¼Œå¾—åˆ°å·¦å­æ ‘ååºéå†ã€å³å­æ ‘ååºéå†
        //5.é€’å½’å·¦å­æ ‘æ„å»ºï¼Œé€’å½’å³å­æ ‘æ„å»ºï¼Œå¾—åˆ°å·¦å­æ ‘ã€å³å­æ ‘
        //6.å°†å·¦å­æ ‘ã€å³å­æ ‘æŒ‚è½½åˆ°æ ¹èŠ‚ç‚¹
        if (preorder.length==0){
            return null;
        }
        //1.
        int rootValue = preorder[0];
        TreeNode root = new TreeNode(rootValue);
        //2.
        int index = 0; //æ ¹èŠ‚ç‚¹åœ¨ä¸­åºæ•°ç»„çš„ç´¢å¼•
        for (int i = 0; i < inorder.length; i++) {
            if (inorder[i] == rootValue) {
                index = i;
                break;
            }
        }
        int[] leftInorder = Arrays.copyOfRange(inorder, 0, index);
        int[] rightInorder = Arrays.copyOfRange(inorder, index + 1, inorder.length);
        //3.
        int[] leftPreorder = Arrays.copyOfRange(preorder, 1, 1 + leftInorder.length);//å·¦é—­å³å¼€
        int[] rightPreorder = Arrays.copyOfRange(preorder, 1 + leftPreorder.length, preorder.length);
        //4.
        TreeNode left = buildTree(leftPreorder, leftInorder);
        TreeNode right = buildTree(rightPreorder, rightInorder);
        //5.
        root.left = left;
        root.right = right;
        return root;
    }
}

class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;

    TreeNode(int x) {
        val = x;
    }
}
```





# 12ã€å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­

ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º `n` çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ `m` æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn>1å¹¶ä¸”m>1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º `k[0],k[1]...k[m-1]` ã€‚è¯·é—® `k[0]*k[1]*...*k[m-1]` å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚

- `2 <= n <= 58`

ã€è´ªå¿ƒå°±æ˜¯ï¼šå½“nå¤§äº4æ—¶ï¼ŒæŒç»­æ‹†åˆ†æˆå¤šä¸ª3ï¼Œå‡å¦‚æœ€åå‰©ä¸‹1ã€2ã€3ã€4å°±ä¸å†æ‹†åˆ†äº†ã€‘

```java
class Solution {
    //è¿™å°±æ˜¯ä¸€ä¸ªæ•´æ•°æ‹†åˆ†çš„é¢˜ç›®å•Šï¼Œæ ¹æ®è´ªå¿ƒå°±æ˜¯ æ‹†åˆ†æˆnä¸ª3ï¼Œå¦‚æœæœ€åä¸€ä¸ªæ•°æ˜¯4å°±ä¿ç•™ä¸‹æ¥ï¼Œä¸å†æ‹†åˆ†ï¼›
    public int cuttingRope(int n) {
        if (n<2) return -1;
        //dpç®—æ³•ï¼Œé€’æ¨å…¬å¼æ˜¯ä¸¤ä¸ªforï¼Œjæ˜¯æ‹†åˆ†å‡ºçš„ç¬¬ä¸€ä¸ªæ­£æ•´æ•°ï¼Œ1<=j<nçš„ï¼Œå› ä¸ºæœ€å°‘æ‹†åˆ†æˆä¸¤ä¸ªå•Š,
        //é‚£ä¹ˆå°±æ˜¯jã€i-jè¿™ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åªçœ‹ä¸€ä¸ª i-j èƒ½ä¸èƒ½ç»§ç»­æ‹†åˆ†å³å¯ï¼Œä¸¤ç§æƒ…å†µ+è‡ªèº«çš„dp[i]ä¸‰ä¸ªè¿›è¡Œå¯¹æ¯”
        int[] dp = new int[n + 1];
        //3.
        dp[0] = 0;
        dp[1] = 0;
        dp[2] = 1;
        //2.dp[i] = MAX( j*(i-j), j*dp[i-j] )
        for (int i = 3; i < dp.length; i++) {
            for (int j = 1; j < i; j++) {
                //ä¸ºä»€ä¹ˆè¦å’Œdp[j]æ¯”è¾ƒï¼Œå› ä¸ºè¿™ä¸ªè¦è¢«æ‰§è¡Œå¾ˆå¤šæ¬¡ï¼Œåœ¨forjçš„å¾ªç¯ä¸‹
                dp[i] = Math.max(dp[i], Math.max( j * (i - j), j * dp[i - j]));
            }
        }
        return dp[n];
    }
}
```

```java
public int cuttingRope2(int n) {
    if (n<2) return -1;
    if (n==2) return 1;
    if (n==3) return 2;
    if (n==4) return 4;
    //å¤§äº3çš„æ—¶å€™å»æ‹†åˆ†ä¸‹é¢çš„
    int res = 1;
    while (n>4){
        n = n-3;
        res = res * 3;
    }
    res = res * n;
    return res;
}
```



# 13ã€å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II

ç»™ä½ ä¸€æ ¹é•¿åº¦ä¸º `n` çš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿åº¦çš„ `m` æ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn>1å¹¶ä¸”m>1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸º `k[0],k[1]...k[m - 1]` ã€‚è¯·é—® `k[0]*k[1]*...*k[m - 1]` å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚

- `2 <= n <= 1000`

æ­¤é¢˜ä¸ é¢è¯•é¢˜14- I. å‰ªç»³å­ ä¸»ä½“ç­‰ä»·ï¼Œå”¯ä¸€ä¸åŒåœ¨äº**æœ¬é¢˜ç›®æ¶‰åŠ â€œå¤§æ•°è¶Šç•Œæƒ…å†µä¸‹çš„æ±‚ä½™é—®é¢˜â€** ã€‚ å»ºè®®å…ˆåšä¸Šä¸€é“é¢˜ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†ç ”ç©¶æ­¤é¢˜ç›®çš„å¤§æ•°æ±‚ä½™æ–¹æ³•ã€‚ä¹ä¸€çœ‹å»é¢˜ç›®æ²¡æœ‰å¤šå¤§å˜åŒ–ï¼Œæˆ‘ç›´æ¥å¥—ç”¨ä¸Šä¸€é¢˜çš„ä»£ç ï¼Œæœ€åç»“æœå–ä½™ï¼Œæ²¡æƒ³åˆ°ç›´æ¥ç­”æ¡ˆé”™è¯¯ã€‚åŸæ¥æœ¬é¢˜nçš„èŒƒå›´å˜å¤§äº†ï¼Œå¯¼è‡´intç±»å‹èŒƒå›´æ— æ³•å­˜å‚¨ï¼Œ

**å¦å¤–ï¼Œ10 ^ 9+7è¿™ä¸ªæ•°å¥½åƒç»å¸¸ç”¨ç”¨äºå–æ¨¡ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¹ˆæ•°å­—ï¼Œæˆ‘æŸ¥äº†ä¸€ä¸‹å¤§æ¦‚æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œä¸€æ–¹é¢ï¼Œè¯¥æ•°å­—è¦è¶³å¤Ÿå¤§ï¼Œå¦ä¸€æ–¹é¢ï¼Œéœ€è¦æ˜¯ä¸€ä¸ªå¤§çš„è´¨æ•°æ¥å‡å°‘å†²çªã€‚è€Œ10^9+7è¿™ä¸ªæ•°å­—ï¼Œç›¸åŠ ä¸è¶…è¿‡ int32ï¼Œç›¸ä¹˜ä¸è¶…è¿‡ int64. ä¸€èˆ¬æ¥è¯´xçš„é€‰å–åªè¦10^xï¼‹7ä¿è¯æ¯”åˆå§‹è¾“å…¥æ•°æ®çš„èŒƒå›´å¤§å°±å¯ä»¥ã€‚æ¯”å¦‚æœ‰äº›æ•°æ®èŒƒå›´å°çš„é¢˜ä¸ºäº†é¿å…ç”¨long longè€ŒæŠŠæ¨¡æ•°è®¾å®šä¸º10007ã€‚**å†™çš„æœ‰ç‚¹å‡Œä¹±ï¼Œä½†å¤§æ¦‚æ˜¯æ˜ç™½äº†ã€‚è¿™é“é¢˜ä¸­ä¸»è¦ç”¨åˆ° 10^9+7 ç›¸ä¹˜ä¸è¶…è¿‡ int64ã€‚



ã€è´ªå¿ƒã€‘

```java
class Solution {
    public int cuttingRope(int n) {
        if (n<2) return -1;
        if (n==2) return 1;
        if (n==3) return 2;
        if (n==4) return 4;
				//å¿…é¡»æ˜¯longè¿™é‡Œ
        long res = 1;
        while (n>4){
            n = n-3;
            res = res * 3 %1000000007;
        }
        res = res * n %1000000007;
        return (int)res; //æœ€åè½¬æˆint
    }
}
```



# ==14ã€å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨==

è¾“å…¥ä¸¤ä¸ªé€’å¢æ’åºçš„é“¾è¡¨ï¼Œåˆå¹¶è¿™ä¸¤ä¸ªé“¾è¡¨å¹¶ä½¿æ–°é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ä»ç„¶æ˜¯é€’å¢æ’åºçš„ã€‚

**ç¤ºä¾‹1ï¼š**

```
è¾“å…¥ï¼š1->2->4, 1->3->4
è¾“å‡ºï¼š1->1->2->3->4->4
```

**é™åˆ¶ï¼š**

```
0 <= é“¾è¡¨é•¿åº¦ <= 1000
```

ã€æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹æ—¶ã€‘ï¼Œæˆ‘ä»¬ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š``while (temp.next != null) { //åˆ°è¾¾å°¾èŠ‚ç‚¹æ—¶ï¼Œå·²ç»å…¨éƒ¨éå†äº†ä¸€é``ï¼Œå…ˆå¤„ç† `temp.next`èŠ‚ç‚¹ï¼Œç„¶åå†ç§»åŠ¨tempæŒ‡é’ˆï¼ŒtempæŒ‡é’ˆæ¯æ¬¡æ‰§è¡Œçš„æ˜¯è¢«å¤„ç†èŠ‚ç‚¹çš„å‰ä¸€ä¸ªä½ç½®ï¼›

ã€ä¸æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹æ—¶ã€‘ï¼Œæˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹éå†ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š`while (temp!=null){// åˆ°è¾¾å°¾èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªnullæ—¶ï¼Œå…¨éƒ¨éå†ä¸€é`ï¼Œå…ˆå¤„ç†å½“å‰ `temp`èŠ‚ç‚¹ï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆï¼›tempæŒ‡é’ˆæŒ‡å‘è¢«å¤„ç†çš„å½“å‰èŠ‚ç‚¹

```java
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        //å¦‚æœä¸¤ä¸ªé“¾è¡¨é•¿åº¦ä¸º0
        if (l1==null) return l2;
        if (l2==null) return l1;
        //1.æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹
        ListNode rhead = new ListNode(-1);
        ListNode temp = rhead;
        //2.ä¾æ¬¡æ¯”è¾ƒä¸¤ä¸ªé“¾è¡¨èŠ‚ç‚¹,è¿™é‡Œå°±ä¸æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹äº†
        while (l1!=null && l2!=null){
            if (l1.val<=l2.val){
                temp.next = l1;
                temp = temp.next;
                l1 = l1.next;
            }else {
                temp.next = l2;
                temp = temp.next;
                l2 = l2.next;
            }
        }
        //æ­¤æ—¶æœ‰ä¸€ä¸ªä¸ä¸ºç©ºï¼Œ
        while (l1!=null){
            temp.next = l1;
            temp = temp.next;
            l1 = l1.next;
        }
        while (l2!=null){
            temp.next = l2;
            temp = temp.next;
            l2 = l2.next;
        }
        return rhead.next;
    }
}
```

# ==15ã€å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„==

è¾“å…¥ä¸¤æ£µäºŒå‰æ ‘Aå’ŒBï¼Œåˆ¤æ–­Bæ˜¯ä¸æ˜¯Açš„å­ç»“æ„ã€‚(çº¦å®šç©ºæ ‘ä¸æ˜¯ä»»æ„ä¸€ä¸ªæ ‘çš„å­ç»“æ„)

Bæ˜¯Açš„å­ç»“æ„ï¼Œ å³ Aä¸­æœ‰å‡ºç°å’ŒBç›¸åŒçš„ç»“æ„å’ŒèŠ‚ç‚¹å€¼ã€‚

<img src="images/image-20230329161210401.png" alt="image-20230329161210401" style="zoom: 80%;" />



ã€éš¾ã€‘å±äºæ˜¯ä½¿ç”¨äº†ä¸¤æ¬¡é€’å½’ï¼Œåˆ†åˆ«æ˜¯ä¸¤ä¸ªå‡½æ•°ã€‚å…¶å®å°±æ˜¯æ‹¿ç€Aæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå’ŒBæ ‘å»ä¸€ä¸€åŒ¹é…ç›¸ç­‰ï¼Œé‡‡ç”¨ååºéå†çš„æ–¹å¼ï¼Œä¸€å®šæ˜¯éå†äº†Açš„æ¯ä¸ªèŠ‚ç‚¹å“¦ï¼ˆå³æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘å’ŒBå»åŒ¹é…ï¼Œå°±æ˜¯ä¸¤æ£µæ ‘çš„åŒ¹é…é—®é¢˜ï¼ŒåŒ¹é…è§„åˆ™æ˜¯å®Œå…¨ä¸€æ ·ï¼‰

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 * int val;
 * TreeNode left;
 * TreeNode right;
 * TreeNode(int x) { val = x; }
 * }
 */
class Solution11 {
    /*
    æ­»æ­»è®°ä½isSubStructure()çš„å®šä¹‰:åˆ¤æ–­Bæ˜¯å¦ä¸ºAçš„å­ç»“æ„
    */
    public boolean isSubStructure(TreeNode A, TreeNode B) {
        // è‹¥Aä¸Bå…¶ä¸­ä¸€ä¸ªä¸ºç©º,ç«‹å³è¿”å›false
        if (A == null || B == null) {
            return false;
        }
        // Bä¸ºAçš„å­ç»“æ„æœ‰3ç§æƒ…å†µ,æ»¡è¶³ä»»æ„ä¸€ç§å³å¯:
        // 1.Bçš„å­ç»“æ„èµ·ç‚¹ä¸ºAçš„æ ¹èŠ‚ç‚¹,æ­¤æ—¶ç»“æœä¸ºrecur(A,B)
        // 2.Bçš„å­ç»“æ„èµ·ç‚¹éšè—åœ¨Açš„å·¦å­æ ‘ä¸­,è€Œä¸æ˜¯ç›´æ¥ä¸ºAçš„æ ¹èŠ‚ç‚¹,æ­¤æ—¶ç»“æœä¸ºisSubStructure(A.left, B)
        // 3.Bçš„å­ç»“æ„èµ·ç‚¹éšè—åœ¨Açš„å³å­æ ‘ä¸­,æ­¤æ—¶ç»“æœä¸ºisSubStructure(A.right, B)
        return recur(A, B) || isSubStructure(A.left, B) || isSubStructure(A.right, B);
    }

    /*
    åˆ¤æ–­Bæ˜¯å¦ä¸ºAçš„å­ç»“æ„,å…¶ä¸­Bå­ç»“æ„çš„èµ·ç‚¹ä¸ºAçš„æ ¹èŠ‚ç‚¹
    */
    private boolean recur(TreeNode A, TreeNode B) {
        // è‹¥Bèµ°å®Œäº†,è¯´æ˜æŸ¥æ‰¾å®Œæ¯•,Bä¸ºAçš„å­ç»“æ„ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Œå› ä¸ºBç¬¬ä¸€æ¬¡ä¼ å…¥è¿›æ¥è‚¯å®šä¸ä¸ºnullçš„ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢é‚£ä¸ªå‡½æ•°å·²ç»åˆ¤æ–­äº†
        if (A == null && B == null) return true;
        if (A != null && B == null) return true;
        // è‹¥Bä¸ä¸ºç©ºå¹¶ä¸”Aä¸ºç©ºï¼Œå¯ä»¥åˆ¤æ–­Bä¸æ˜¯Açš„å­ç»“æ„
        if (A == null && B != null) return false;
        // if (A.val != B.val) return false; //è¿™é‡Œæ˜¯æå‰åˆ¤æ–­â€”â€”å±äºå‰ªæï¼ŒæŒ‰ç…§ååºéå†é€»è¾‘åº”è¯¥æ”¾åœ¨ä¸­çš„

        // å½“Aä¸Bå½“å‰èŠ‚ç‚¹å€¼ç›¸ç­‰,è‹¥è¦åˆ¤æ–­Bä¸ºAçš„å­ç»“æ„
        // è¿˜éœ€è¦åˆ¤æ–­Bçš„å·¦å­æ ‘æ˜¯å¦ä¸ºAå·¦å­æ ‘çš„å­ç»“æ„ && Bçš„å³å­æ ‘æ˜¯å¦ä¸ºAå³å­æ ‘çš„å­ç»“æ„
        // è‹¥ä¸¤è€…éƒ½æ»¡è¶³å°±è¯´æ˜Bæ˜¯Açš„å­ç»“æ„,å¹¶ä¸”è¯¥å­ç»“æ„ä»¥Aæ ¹èŠ‚ç‚¹ä¸ºèµ·ç‚¹
        return recur(A.left, B.left) && recur(A.right, B.right) &&(A.val == B.val);
        // return recur(A.left, B.left) && recur(A.right, B.right);
    }
}
```

# 16ã€å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ

<img src="images/image-20230329162640893.png" alt="image-20230329162640893" style="zoom:80%;" />

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution12 {
    // å°†æ¯ä¸ªèŠ‚ç‚¹å·¦å­æ ‘å’Œå³å­æ ‘äº¤æ¢ä½ç½®å³å¯ï¼›é€’å½’æŒ‚è½½ / å‰åºéå†éƒ½å¯ä»¥
    public TreeNode mirrorTree(TreeNode root) {
        if (root==null) return null;
        TreeNode leftTree = mirrorTree(root.left);
        TreeNode rightTree = mirrorTree(root.right);
        root.left = rightTree;
        root.right = leftTree;
        return root;
    }
		
  // æ–¹æ³•äºŒï¼šå‰åºéå†
    public TreeNode mirrorTree2(TreeNode root) {
        preOrder(root);
        return root;
    }
    //å‰åºéå†
    public void preOrder(TreeNode node){
        if (node==null)return;
        TreeNode temp = node.left;
        node.left = node.right;
        node.right = temp;
        preOrder(node.left);
        preOrder(node.right);
    }
}
```



# ==17ã€å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘==

<img src="images/image-20230329163912264.png" alt="image-20230329163912264" style="zoom:80%;" />



```java
//å…¥å£ï¼šé‡‡ç”¨å‰åºéå†
public boolean getRes(TreeNode root){
    preOrder(root.left,root.right);
    return isOK;
}

// å‰åºæˆ‘çœ‹çœ‹
boolean isOK = true;
public void preOrder(TreeNode leftTree, TreeNode rightTree){
    if (leftTree==null && rightTree ==null){ //åŒæ—¶ä¸ºnull
        return;
    }
    if (leftTree==null || rightTree ==null){ //åªæœ‰ä¸€ä¸ªä¸ºnull
        isOK = false; return;
    }
    if (leftTree.val != rightTree.val) {
        isOK = false; return;
    }
    //
    preOrder(leftTree.left, rightTree.right);
    preOrder(leftTree.right, rightTree.left);
}
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    // ååºéå†ï¼›éœ€è¦æ‹¿åˆ°å·¦å³å­©å­çš„ä¿¡æ¯ï¼Œæ‰å¯ä»¥åˆ¤æ–­ï¼›
    // ä¸ç”¨ç®¡æ ¹èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿å·¦å­æ ‘ã€å³å­æ ‘ä¸¤æ£µæ ‘å»åŒ¹é…åˆ¤æ–­å³å¯
    public boolean isSymmetric(TreeNode root) {
        if (root==null) return true;
        return isOK(root.left,root.right);
    }

    //å‡½æ•°è¿”å›å€¼æ„ä¹‰ï¼šè¿™ä¸¤é¢—æ ‘æ˜¯å¦å¯¹ç§°
    public boolean isOK(TreeNode leftTree, TreeNode rightTree){
        if (leftTree==null && rightTree==null) return true;
        if (leftTree!=null && rightTree==null) return false;
        if (leftTree==null && rightTree!=null) return false;
        // å‰ªæ
        if (leftTree.val != rightTree.val) return false;
        boolean outSide = isOK(leftTree.left, rightTree.right); //æ ¹æ®æ¯”è¾ƒè§„åˆ™
        boolean inSide = isOK(leftTree.right, rightTree.left);
        return outSide&&inSide;
    }

}
```



# 18ã€å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²

è¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦è¡¨ç¤º**æ•°å€¼**ï¼ˆåŒ…æ‹¬æ•´æ•°å’Œå°æ•°ï¼‰ã€‚

**æ•°å€¼**ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. è‹¥å¹²ç©ºæ ¼
2. ä¸€ä¸ª **å°æ•°** æˆ–è€… **æ•´æ•°**
3. ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ª `'e'` æˆ– `'E'` ï¼Œåé¢è·Ÿç€ä¸€ä¸ª **æ•´æ•°**
4. è‹¥å¹²ç©ºæ ¼

**å°æ•°**ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ`'+'` æˆ– `'-'`ï¼‰
2. ä¸‹è¿°æ ¼å¼ä¹‹ä¸€ï¼š
   1. è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ `'.'`
   2. è‡³å°‘ä¸€ä½æ•°å­—ï¼Œåé¢è·Ÿç€ä¸€ä¸ªç‚¹ `'.'` ï¼Œåé¢å†è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—
   3. ä¸€ä¸ªç‚¹ `'.'` ï¼Œåé¢è·Ÿç€è‡³å°‘ä¸€ä½æ•°å­—

**æ•´æ•°**ï¼ˆæŒ‰é¡ºåºï¼‰å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

1. ï¼ˆå¯é€‰ï¼‰ä¸€ä¸ªç¬¦å·å­—ç¬¦ï¼ˆ`'+'` æˆ– `'-'`ï¼‰
2. è‡³å°‘ä¸€ä½æ•°å­—

éƒ¨åˆ†**æ•°å€¼**åˆ—ä¸¾å¦‚ä¸‹ï¼š

- `["+100", "5e2", "-123", "3.1416", "-1E-16", "0123"]`

éƒ¨åˆ†**éæ•°å€¼**åˆ—ä¸¾å¦‚ä¸‹ï¼š

- `["12e", "1a3.14", "1.2.3", "+-5", "12e+5.4"]`



```java
public boolean isNumber(String s){
    //é¢„å¤„ç†ï¼Œå»æ‰ç©ºæ ¼
    if (s==null || s.length()==0) return false;
    char[] chars = s.trim().toCharArray();

    //æŒ¨ä¸ªåˆ¤æ–­ï¼›
    //1ã€å¯¹äºç‚¹. åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œä¸€ç§æ˜¯çº¯å°æ•°ï¼Œä¸€ç§æ˜¯å‡ºç°åœ¨eçš„å‰é¢ï¼›
    //2ã€å¯¹äºeï¼Œåªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œeçš„å‰é¢å¿…é¡»å‡ºç°æ•°ï¼Œeçš„åé¢å¿…é¡»å‡ºç°æ•´æ•°ï¼ˆå¯ä»¥å¸¦ç¬¦å·ï¼‰
    //3ã€å¯¹äº+-ï¼Œåªèƒ½å‡ºç°åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œæˆ–è€…å‡ºç°åœ¨eçš„åé¢ç¬¬ä¸€ä¸ªä½ç½®
    //4ã€å¯¹äºæ•°å­—ï¼Œåªèƒ½æ˜¯0-9
    boolean numFlag = false;
    boolean dotFlag = false;
    boolean eFlag = false;
    for (int i = 0; i < chars.length; i++) {
        if (chars[i]=='.'){
            // è¿™é‡Œåªåˆ¤æ–­ä¸æˆç«‹çš„æƒ…å†µï¼›ç‚¹å‰é¢ä¸èƒ½å‡ºç°eï¼Œä¹Ÿä¸èƒ½å†å‡ºç°ç‚¹
            if (eFlag || dotFlag) {
                return false;
            }
            dotFlag = true;
        }else if (chars[i]=='e' || chars[i]=='E'){
            //è¿™é‡Œåªåˆ¤æ–­ä¸æˆç«‹çš„æƒ…å†µï¼›eå‰é¢ä¸èƒ½å‡ºç°eï¼Œä¸”å‰é¢å¿…é¡»å‡ºç°äº†æ•°å­—
            if (eFlag || !numFlag){
                return false;
            }
            eFlag = true;
            numFlag = false; //å‡ºç°äº†eä¹‹åï¼Œåé¢å¿…é¡»å†å‡ºç°æ•´æ•°ã€‚å‡ºç°äº†ç‚¹åé¢ä¸ä¸€å®šè¦å‡ºç°æ•´æ•°
        }else if (chars[i]=='+' || chars[i]=='-'){
            //åªæœ‰ä¸¤ç§æƒ…å†µæ‰æ˜¯å¯¹çš„ï¼Œå…¶ä»–éƒ½æ˜¯ä¸æˆç«‹
            if (i!=0 && chars[i-1]!='e' && chars[i-1]!='E'){
                return false;
            }
        }else if (chars[i]>='0' && chars[i]<='9'){
            numFlag = true;
        }else { //å‡ºç°å…¶ä»–å­—ç¬¦å‡é”™è¯¯
            return false;
        }
    }
    return numFlag; //è¿™é‡Œå¾ˆé‡è¦å“¦ï¼Œä¸€å®šæ˜¯è¿”å›numFlagï¼Œ
}
```



# 19ã€å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ç°ä¸€ä¸ªå‡½æ•°æ¥è°ƒæ•´è¯¥æ•°ç»„ä¸­æ•°å­—çš„é¡ºåºï¼Œä½¿å¾—æ‰€æœ‰å¥‡æ•°åœ¨æ•°ç»„çš„å‰åŠéƒ¨åˆ†ï¼Œæ‰€æœ‰å¶æ•°åœ¨æ•°ç»„çš„ååŠéƒ¨åˆ†ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3,4]
è¾“å‡ºï¼š[1,3,2,4] 
æ³¨ï¼š[3,1,2,4] ä¹Ÿæ˜¯æ­£ç¡®çš„ç­”æ¡ˆä¹‹ä¸€ã€‚
```

**æç¤ºï¼š**

1. `0 <= nums.length <= 50000`
2. `0 <= nums[i] <= 10000`

```java
class Solution19 {
    // å¾ˆç®€å•ï¼ŒåŒæŒ‡é’ˆå³å¯ï¼ŒæŠŠæ‰€æœ‰çš„å¥‡æ•°ç§»åŠ¨åˆ°æ•°ç»„å‰é¢ã€‚é‡‡ç”¨å•ç§»åŠ¨ç‰ˆæœ¬
    public int[] exchange(int[] nums) {
        if (nums.length==0) return nums;
        int fast = 0;
        int slow = 0;
        int temp;
        while (fast<= nums.length-1){
            if (isOdd(nums[fast])){
              //
                temp = nums[fast];
                nums[fast] = nums[slow];
                nums[slow] = temp;
              //
                slow++;
                fast++;
            }else {
                fast++;
            }
        }
        return nums;
    }

    // ç´ æ•°æ˜¯ä¸€ä¸ªå¤§äº1 çš„è‡ªç„¶æ•°
    public boolean isPrime(int n){
        if (n<2) return false; //å‡ä¸æ˜¯ç´ æ•°
        for (int i = 2; i <= Math.sqrt(n); i++) {
            if (n % i == 0){
                return false;
            }
        }
        return true;
    }

    // å¥‡æ•°æœ‰æ­£ã€è´Ÿä¹‹åˆ†ã€‚ä¸€ä¸ªä¸èƒ½è¢«2æ•´é™¤çš„æ•´æ•°
    public boolean isOdd(int n){
        return n%2!=0;
    }
}
```



# ==20ã€å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°==

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆä»¥äºŒè¿›åˆ¶ä¸²çš„å½¢å¼ï¼‰ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º '1' çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º [æ±‰æ˜é‡é‡](http://en.wikipedia.org/wiki/Hamming_weight)).ï¼‰ã€‚



ã€å°±æ˜¯ä½è¿ç®—ã€‘è¾“å…¥çš„æ˜¯ä¸€ä¸ªintç±»å‹ï¼Œä¸€å…±4ä¸ªå­—èŠ‚ï¼Œ32ä¸ªæ¯”ç‰¹ä½ï¼ŒæŒ¨ä¸ªåˆ¤æ–­å³å¯ã€‚ä»ç¬¬1ä¸ªæ¯”ç‰¹å¼€å§‹åˆ¤æ–­ï¼Œå®ƒæ˜¯ä¸æ˜¯1ã€‚



```java
// you need to treat n as an unsigned value
public int hammingWeight(int n) {
    int res = 0;
    for (int i = 0; i < 32; i++) {
        int t = 1 << i; // æ•°å­—1ä¾æ¬¡å³ç§»ï¼Œåˆ¤æ–­32ä¸ªæ¯”ç‰¹ä½
        if ((n & t) !=0) { //åˆ¤æ–­ç¬¬1ä½æ¯”ç‰¹ä½æ˜¯ä¸æ˜¯1ï¼Œå‡å¦‚ç»“æœä¸ä¸º0ï¼Œåˆ™æ˜¯1
            res++;
        }
    }
    return res;
}
```



# 21ã€å‰‘æŒ‡ Offer 29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ

è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```java
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

ã€å°±æ˜¯èºæ—‹çŸ©é˜µæ’’ï¼Œä¹‹å‰å†™è¿‡å¡«å……ç‰ˆæœ¬ï¼Œè¿™æ˜¯è¯»å–ç‰ˆæœ¬ã€‘

```java
public int[] spiralOrder(int[][] matrix) {
    if (matrix==null) return null;
    if (matrix.length==0) return new int[0];
    if (matrix[0].length==0) return new int[0];
    // è‡³å°‘æœ‰ä¸€è¡Œä¸€åˆ—ï¼Œé˜²æ­¢ç´¢å¼•è¶Šç•Œ
    // é‡ç‚¹å°±æ˜¯ å®šä¹‰4ä¸ªè¾¹ç•Œå‡ºæ¥
    int m = matrix.length;
    int n = matrix[0].length;
    int l = 0;
    int r = n-1;
    int t = 0;
    int b = m-1;
    int k = 0;
    int[] nums = new int[m*n];
    // å¾ªç¯ç»“æŸæ¡ä»¶ï¼Œæ¯æ¬¡è¾¹ç•Œå‘ç”Ÿå˜åŒ–éƒ½è¦åˆ¤æ–­ï¼Œæ˜¯l>r || t>b ã€‚
    while (true){
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = l; i <=r ; i++) {
            nums[k] = matrix[t][i];
            k++;
        }
        t++;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = t; i <=b ; i++) {
            nums[k] = matrix[i][r];
            k++;
        }
        r--;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = r; i >=l ; i--) {
            nums[k] = matrix[b][i];
            k++;
        }
        b--;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = b; i >=t ; i--) {
            nums[k] = matrix[i][l];
            k++;
        }
        l++;
        if (l>r||t>b) break;
    }
    return nums;
}
```



# 22ã€èºæ—‹çŸ©é˜µ

ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« `1` åˆ° `n2` æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„ `n x n` æ­£æ–¹å½¢çŸ©é˜µ `matrix` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](images/spiraln.jpg)

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š[[1,2,3],[8,9,4],[7,6,5]]
```



```java
public int[][] generateMatrix(int n) {
    if (n<1) return new int[0][0];
    // è‡³å°‘æœ‰ä¸€è¡Œä¸€åˆ—ï¼Œé˜²æ­¢ç´¢å¼•è¶Šç•Œã€‚ä¸€å…±æœ‰ n*nä¸ªæ•°å­—
    int[][] matrix = new int[n][n];
    // é‡ç‚¹å°±æ˜¯ å®šä¹‰4ä¸ªè¾¹ç•Œå‡ºæ¥
    int l = 0;
    int r = matrix[0].length-1;
    int t = 0;
    int b = matrix.length-1;
    // å¾ªç¯ç»“æŸæ¡ä»¶ï¼Œæ¯æ¬¡è¾¹ç•Œå‘ç”Ÿå˜åŒ–éƒ½è¦åˆ¤æ–­ï¼Œæ˜¯l>r || t>b ã€‚
    int num = 1;
    while (true){
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = l; i <=r ; i++) {
            matrix[t][i] = num;
            num++;
        }
        t++;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = t; i <=b ; i++) {
            matrix[i][r] = num;
            num++;
        }
        r--;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = r; i >=l ; i--) {
            matrix[b][i] = num;
            num++;
        }
        b--;
        if (l>r||t>b) break;
        //å·¦åˆ°å³ã€ä¸Šåˆ°ä¸‹ã€å³åˆ°å·¦ã€ä¸‹åˆ°ä¸Š
        for (int i = b; i >=t ; i--) {
            matrix[i][l] = num;
            num++;
        }
        l++;
        if (l>r||t>b) break;
    }
    return matrix;
}
```

# 23ã€å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹

è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œè¾“å‡ºè¯¥é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ã€‚ä¸ºäº†ç¬¦åˆå¤§å¤šæ•°äººçš„ä¹ æƒ¯ï¼Œæœ¬é¢˜ä»1å¼€å§‹è®¡æ•°ï¼Œå³é“¾è¡¨çš„å°¾èŠ‚ç‚¹æ˜¯å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ªé“¾è¡¨æœ‰ `6` ä¸ªèŠ‚ç‚¹ï¼Œä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼Œå®ƒä»¬çš„å€¼ä¾æ¬¡æ˜¯ `1ã€2ã€3ã€4ã€5ã€6`ã€‚è¿™ä¸ªé“¾è¡¨çš„å€’æ•°ç¬¬ `3` ä¸ªèŠ‚ç‚¹æ˜¯å€¼ä¸º `4` çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ï¼š**

```
ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ k = 2.

è¿”å›é“¾è¡¨ 4->5.
```

ã€æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹æ—¶ã€‘ï¼Œæˆ‘ä»¬ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š``while (temp.next != null) { //åˆ°è¾¾å°¾èŠ‚ç‚¹æ—¶ï¼Œå·²ç»å…¨éƒ¨éå†äº†ä¸€é``ï¼Œå…ˆå¤„ç† `temp.next`èŠ‚ç‚¹ï¼Œç„¶åå†ç§»åŠ¨tempæŒ‡é’ˆï¼ŒtempæŒ‡é’ˆæ¯æ¬¡æ‰§è¡Œçš„æ˜¯è¢«å¤„ç†èŠ‚ç‚¹çš„å‰ä¸€ä¸ªä½ç½®ï¼›

ã€ä¸æ–°å»ºè™šæ‹Ÿå¤´èŠ‚ç‚¹æ—¶ã€‘ï¼Œæˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹éå†ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ï¼š`while (temp!=null){// åˆ°è¾¾å°¾èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªnullæ—¶ï¼Œå…¨éƒ¨éå†ä¸€é`ï¼Œå…ˆå¤„ç†å½“å‰ `temp`èŠ‚ç‚¹ï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆï¼›tempæŒ‡é’ˆæŒ‡å‘è¢«å¤„ç†çš„å½“å‰èŠ‚ç‚¹

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public ListNode getKthFromEnd(ListNode head, int k) {
        // è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œé‡‡ç”¨é—´éš”æŒ‡é’ˆå³å¯
        ListNode rhead = new ListNode(-1);
        rhead.next = head;
        //å¿«æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œæ…¢æŒ‡é’ˆå°‘ç§»åŠ¨k-1æ¬¡ï¼Œå€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹
        ListNode fast = rhead;
        ListNode slow = rhead;
        for (int i = 0; i < k-1; i++) {
            fast = fast.next; //å…ˆç§»åŠ¨k-1æ¬¡
        }
        while (fast.next!=null){
            //å…ˆå¤„ç†å†ç§»åŠ¨ï¼Œè¿™é‡Œæ²¡æœ‰è¦å¤„ç†çš„
            fast = fast.next;
            slow = slow.next;
        }
        //æ­¤æ—¶slowæŒ‡å‘å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹
        return slow;
    }
}
```



# 24ã€å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹

å®ç° [pow(*x*, *n*)](https://www.cplusplus.com/reference/valarray/pow/) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ï¼ˆå³ï¼Œxnï¼‰ã€‚ä¸å¾—ä½¿ç”¨åº“å‡½æ•°ï¼ŒåŒæ—¶ä¸éœ€è¦è€ƒè™‘å¤§æ•°é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šx = 2.00000, n = 10
è¾“å‡ºï¼š1024.00000
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šx = 2.10000, n = 3
è¾“å‡ºï¼š9.26100
```

ã€æš´åŠ›è§£æ³•ã€‘

```java
public double getResult(double x, int n) {
    if (x == 1.0) return 1.0;
    if (x == 0) return 0;
    if (n == 0) return 1;
    double res = 1.0;
    for (int i = 0; i < Math.abs(n); i++) {
        res = res * x;
    }
    return n < 0 ? 1.0 / res : res;
}
```

ã€æ­£ç¡®è§£æ³•ã€‘

[å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/solutions/1398793/shu-zhi-de-zheng-shu-ci-fang-by-leetcode-yoqr/)

[å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/solutions/373629/fei-di-gui-he-di-gui-de-liang-chong-jie-jue-fang-s/)

```java
public double myPow(double x, int n) {
    double result = 1.0;
    for (int i = n; i != 0; i /= 2) {
        x *= x;
        if (i % 2 != 0) {
            //iæ˜¯å¥‡æ•°
            result *= x;
        }
    }
    return n < 0 ? 1.0 / result : result;
}
```





# 25ã€å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•°

è¾“å…¥æ•°å­— `n`ï¼ŒæŒ‰é¡ºåºæ‰“å°å‡ºä» 1 åˆ°æœ€å¤§çš„ n ä½åè¿›åˆ¶æ•°ã€‚æ¯”å¦‚è¾“å…¥ 3ï¼Œåˆ™æ‰“å°å‡º 1ã€2ã€3 ä¸€ç›´åˆ°æœ€å¤§çš„ 3 ä½æ•° 999ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: n = 1
è¾“å‡º: [1,2,3,4,5,6,7,8,9]
```

è¯´æ˜ï¼š

- ç”¨è¿”å›ä¸€ä¸ªæ•´æ•°åˆ—è¡¨æ¥ä»£æ›¿æ‰“å°
- n ä¸ºæ­£æ•´æ•°

ã€æš´åŠ›è§£æ³•ã€‘

```java
class Solution25{
    public int[] getResult(int n){
        //2--ä¸¤ä¸ª9
        StringBuilder stringBuilder = new StringBuilder();//åˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²
        for (int i = 0; i < n; i++) {
            stringBuilder.append(9);
        }
        int Maxnum = Integer.parseInt(String.valueOf(stringBuilder));
        int[] nums = new  int[Maxnum];
        for (int i = 1; i <= Maxnum; i++) {
            nums[i-1]  = i;
        }
        return nums;
    }
}
```



# ==26ã€å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨==

å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬è¯¥é“¾è¡¨å¹¶è¾“å‡ºåè½¬åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

ã€ä¸€ä½¿ç”¨åŒæŒ‡é’ˆäº¤æ¢æ³•ï¼Œæ³¨æ„ç¬¬ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘nullï¼Œä¸éœ€è¦è™šæ‹Ÿå¤´èŠ‚ç‚¹ã€‘

ã€äºŒä½¿ç”¨æ ˆï¼Œæ³¨æ„å…¥æ ˆåï¼Œè¦å°†è¯¥èŠ‚ç‚¹çš„nextæŒ‡å‘nullï¼Œå¦åˆ™ä¼šå‡ºç°ç¯ã€‘

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
class Solution26{
  // åŒæŒ‡é’ˆè§£æ³•ï¼šç®€å•
      public ListNode getResult1(ListNode head){
        ListNode left = null;
        ListNode right = head;

        while (right!=null){
            //å…ˆå¤„ç†åç§»åŠ¨
            ListNode temp = right.next;
            right.next = left;
            //move
            left = right;
            right = temp;
        }
        return left;
    }
  
  // Stackçš„è§£æ³•
    public ListNode getResult(ListNode head){
        Stack<ListNode> stack = new Stack<>();
        ListNode temp = head;
        while (temp!=null){
            //å…ˆå¤„ç†åç§»åŠ¨ï¼›
            stack.push(temp);
            //æ³¨æ„ç§»åŠ¨æ—¶çš„é—®é¢˜ï¼šè¦å°†æ¯ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘nullï¼Œå¦åˆ™ä¼šå‡ºç°ç¯
            ListNode p = temp.next;
            temp.next = null;
            temp = p;
        }

        ListNode rhead = new ListNode(-1);
        ListNode tt = rhead;
        while (!stack.isEmpty()){
            tt.next = stack.pop();
            tt = tt.next;
        }
        return rhead.next;
    }
}
```

# 27ã€å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹

ç»™å®šå•å‘é“¾è¡¨çš„å¤´æŒ‡é’ˆå’Œä¸€ä¸ªè¦åˆ é™¤çš„èŠ‚ç‚¹çš„å€¼ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°åˆ é™¤è¯¥èŠ‚ç‚¹ã€‚

è¿”å›åˆ é™¤åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚

é¢˜ç›®ä¿è¯é“¾è¡¨ä¸­èŠ‚ç‚¹çš„å€¼äº’ä¸ç›¸åŒã€‚

**æ³¨æ„ï¼š**æ­¤é¢˜å¯¹æ¯”åŸé¢˜æœ‰æ”¹åŠ¨

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: head = [4,5,1,9], val = 5
è¾“å‡º: [4,1,9]
è§£é‡Š: ç»™å®šä½ é“¾è¡¨ä¸­å€¼ä¸º 5 çš„ç¬¬äºŒä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨äº†ä½ çš„å‡½æ•°ä¹‹åï¼Œè¯¥é“¾è¡¨åº”å˜ä¸º 4 -> 1 -> 9.
```

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 * int val;
 * ListNode next;
 * ListNode(int x) { val = x; }
 * }
 */
class Solution {
    public ListNode getResult(ListNode head, int val) {
        ListNode rhead = new ListNode(-1);
        rhead.next = head;
        ListNode temp = rhead;
        //
        while (temp.next != null) {
            //å…ˆå¤„ç†åç§»åŠ¨
            if (temp.next.val == val) { //åˆ é™¤åï¼Œä¸è¦ç§»åŠ¨tempèŠ‚ç‚¹ï¼Œéœ€è¦æ¥ç€åˆ¤æ–­æ–°æ¥å…¥çš„èŠ‚ç‚¹
                temp.next = temp.next.next;
                continue;
            }
            temp = temp.next;
        }
        return rhead.next;

    }
}
```

# ==28ã€å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶==

è¯·å®ç° `copyRandomList` å‡½æ•°ï¼Œå¤åˆ¶ä¸€ä¸ªå¤æ‚é“¾è¡¨ã€‚åœ¨å¤æ‚é“¾è¡¨ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é™¤äº†æœ‰ä¸€ä¸ª `next` æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿˜æœ‰ä¸€ä¸ª `random` æŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹æˆ–è€… `null`ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](images/e1.png)

```
è¾“å…¥ï¼šhead = [[7,null],[13,0],[11,4],[10,2],[1,0]]
è¾“å‡ºï¼š[[7,null],[13,0],[11,4],[10,2],[1,0]]
```

ã€MIDã€‘

è€Œæœ¬é¢˜ä¸­å› ä¸ºéšæœºæŒ‡é’ˆçš„å­˜åœ¨ï¼Œå½“æˆ‘ä»¬æ‹·è´èŠ‚ç‚¹æ—¶ï¼Œã€Œå½“å‰èŠ‚ç‚¹çš„éšæœºæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹ã€å¯èƒ½è¿˜æ²¡åˆ›å»ºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å˜æ¢æ€è·¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªmapé›†åˆå­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹ï¼Œkeyâ€”åŸé“¾è¡¨èŠ‚ç‚¹ï¼Œvalueâ€”å¯¹åº”çš„æ–°é“¾è¡¨èŠ‚ç‚¹ï¼›è¿™æ ·æˆ‘ä»¬åœ¨ç»™randomæŒ‡é’ˆèµ‹å€¼æ—¶å°±ç›´æ¥ä»mapé›†åˆé‡Œé¢å»getå°±è¡Œäº†ï¼›

æ‰€ä»¥éœ€è¦éå†ä¸¤éï¼Œç¬¬ä¸€æ¬¡éå†åŸé“¾è¡¨ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹éƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ–°èŠ‚ç‚¹ï¼Œå¹¶ä¸”èµ‹å€¼nextæŒ‡é’ˆï¼›ä¹Ÿå°±æ˜¯ç›´æ¥å¤åˆ¶è¿™ä¸ªå•é“¾è¡¨ï¼Œå¹¶ä¸”å°†åŸèŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹å…³ç³»éƒ½æ”¾å…¥åˆ°mapé›†åˆé‡Œé¢ï¼›

ç¬¬äºŒéï¼šå†æ¬¡éå†åŸé“¾è¡¨ï¼ŒåŒä¸€æ—¶åˆ»éå†æ–°é“¾è¡¨ï¼Œç„¶åå–å‡ºåŸé“¾è¡¨èŠ‚ç‚¹çš„randomå€¼å¯¹åº”èŠ‚ç‚¹ï¼Œä»mapé›†åˆå†…è·å–è¿™ä¸ªrandomèŠ‚ç‚¹å¯¹åº”çš„æ–°èŠ‚ç‚¹ï¼Œèµ‹å€¼ç»™æˆ‘ä»¬çš„æ–°èŠ‚ç‚¹çš„randomå€¼å³å¯ï¼›ï¼ˆå¦‚æœåŸé“¾è¡¨çš„èŠ‚ç‚¹çš„randomä¸ºnullï¼Œ

```java
class Solution28 {
    public Node copyRandomList(Node head) {
        //mapé›†åˆå­˜å‚¨oldèŠ‚ç‚¹å’Œå®ƒå¤åˆ¶çš„æ–°èŠ‚ç‚¹
        Map<Node,Node> map = new HashMap<>();
        //åŸé“¾è¡¨ç›´æ¥éå†ï¼Œä¸éœ€è¦è™šæ‹Ÿå¤´èŠ‚ç‚¹äº†ï¼›
        //æ–°é“¾è¡¨éœ€è¦è™šæ‹Ÿå¤´èŠ‚ç‚¹
        Node newhead = new Node(-1); //è™šæ‹Ÿ
        Node oldtemp = head;
        Node newtemp = newhead;
        while (oldtemp!=null){
            //å…ˆå¤„ç†åmove
            Node node = new Node(oldtemp.val);
            newtemp.next = node;
            map.put(oldtemp,node); //è€èŠ‚ç‚¹ï¼šå¯¹åº”å¤åˆ¶å‡ºæ¥çš„æ–°èŠ‚ç‚¹
            //move
            newtemp = newtemp.next;
            oldtemp = oldtemp.next;
        }
        // ç¬¬äºŒæ¬¡éå†å®Œæˆæ–°èŠ‚ç‚¹çš„randomå¤åˆ¶
        oldtemp = head;
        newtemp = newhead.next; //è¿™é‡Œä¹Ÿå¯ä»¥ä»è™šæ‹Ÿå¤´èŠ‚ç‚¹å¼€å§‹ï¼Œæ— æ‰€è°“
        while (oldtemp!=null){
            //å…ˆå¤„ç†åmove
            Node random = oldtemp.random;
            newtemp.random = map.get(random);
            //
            oldtemp = oldtemp.next;
            newtemp = newtemp.next;
        }
        return newhead.next;
    }
}
class Node {
    int val;
    Node next;
    Node random;
    public Node(int val) {
        this.val = val;
        this.next = null;
        this.random = null;
    }
}
```



# 29ã€å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•°

è¾“å…¥æ•´æ•°æ•°ç»„ `arr` ï¼Œæ‰¾å‡ºå…¶ä¸­æœ€å°çš„ `k` ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥4ã€5ã€1ã€6ã€2ã€7ã€3ã€8è¿™8ä¸ªæ•°å­—ï¼Œåˆ™æœ€å°çš„4ä¸ªæ•°å­—æ˜¯1ã€2ã€3ã€4ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šarr = [3,2,1], k = 2
è¾“å‡ºï¼š[1,2] æˆ–è€… [2,1]
```

ã€EASYã€‘

åŒæŒ‡é’ˆå•Šï¼Œå°†æœ€å°çš„kä¸ªæ•°æ”¾åˆ°æ•°ç»„æœ€å‰é¢å»ï¼›æˆ–è€…ä¼˜å…ˆé˜Ÿåˆ—å•Šï¼Œå•è°ƒé˜Ÿåˆ—ä¸è¡Œå“¦ï¼Œä»–æ˜¯ä¸€ä¸ªæ»‘åŠ¨çš„è¿ç»­èŒƒå›´å†…çš„é€‰å–æœ€å¤§å€¼ï¼›

ä¸å¯¹ä¸å¯¹ä¸å¯¹ï¼ŒåŒæŒ‡é’ˆä¸è¡Œã€‚åªèƒ½è¦ä¹ˆæ’åºï¼Œè¦ä¹ˆä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ã€‚

```java
class Solution29 {
    public int[] getResult(int[] arr, int k) {
        //æœ€å¿«è§£æ³•ï¼Œä¼˜å…ˆé˜Ÿåˆ—
        Queue<Integer> queue = new PriorityQueue<>((o1, o2) -> o1 - o2); //å‡åºæ’åˆ—ï¼Œå°æ ¹å †
        for (int i : arr) {
            queue.offer(i);
        }
        int[] res= new int[k];
        for (int i = 0; i < k; i++) {
            res[i] = queue.poll();
        }
        return res;
    }
}
```

# ==30ã€å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆï¼ˆæ‰‹å†™æ•°æ®ç»“æ„ï¼‰==

å®šä¹‰æ ˆçš„æ•°æ®ç»“æ„ï¼Œè¯·åœ¨è¯¥ç±»å‹ä¸­å®ç°ä¸€ä¸ªèƒ½å¤Ÿå¾—åˆ°æ ˆçš„æœ€å°å…ƒç´ çš„ min å‡½æ•°åœ¨è¯¥æ ˆä¸­ï¼Œè°ƒç”¨ minã€push åŠ pop çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O(1)ã€‚

**ç¤ºä¾‹:**

```
MinStack minStack = new MinStack();
minStack.push(-2);
minStack.push(0);
minStack.push(-3);
minStack.min();   --> è¿”å› -3.
minStack.pop();
minStack.top();      --> è¿”å› 0.
minStack.min();   --> è¿”å› -2.
```

ã€å¯¹æ¯”ç«è½¦è¿›ç«™1ã€‘å¾ˆç›¸ä¼¼çš„é¢˜ç›®ï¼Œç¥éŸµåˆ°ä½ã€‚

ã€ä¸€ã€‘ä½¿ç”¨ä¸¤ä¸ªæ ˆå»åšï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æ™®é€šçš„æ ˆä½¿ç”¨å³å¯ï¼Œç¬¬äºŒä¸ªå­˜æ”¾å½“å‰Aæ ˆå†…çš„æœ€å°å…ƒç´ ã€‚æ¯æ¬¡å…¥Aæ ˆæ—¶ï¼Œå’ŒBæ ˆçš„topå»æ¯”è¾ƒï¼Œå°†ä¸¤è€…çš„è¾ƒå°å€¼å­˜å…¥Bæ ˆã€‚é‚£ä¹ˆå°±å¾—åˆ°äº†æ­¤æ—¶Aæ ˆå†…çš„æœ€å°å€¼ã€‚Aå‡ºæ ˆæ—¶Bä¹Ÿè·Ÿç€å‡ºæ ˆå³å¯ï¼›ä¸¤ä¸ªæ ˆçš„å…ƒç´ ä¸ªæ•°æ˜¯ç›¸åŒçš„ã€‚

<img src="images/image-20230331131849709.png" alt="image-20230331131849709" style="zoom:80%;" />

```java
class Solution30{
    //è¿˜æ˜¯ä¸€ä¸ªæ ˆï¼Œè‡³å°‘å¤šäº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥æ±‚å‡ºæ ˆé‡Œé¢çš„æœ€å°å€¼
    class MinStack {
        Stack<Integer> stack1;
        Stack<Integer> stack2;
        public MinStack() {
            stack1 = new Stack<>();
            stack2 = new Stack<>();
        }

        public void push(int x) {
            stack1.push(x);
            if (stack2.isEmpty()){
                stack2.push(x);
            }else {
                stack2.push(Math.min(stack2.peek(),x));
            }
        }

        public void pop() {
            stack1.pop();
            stack2.pop();
        }

        public int top() {
            return stack1.peek();
        }

        public int min() {
            return stack2.peek();
        }
    }
}
```



# ==31ã€å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼ˆæ‰‹å†™æ•°æ®ç»“æ„ï¼‰==

å¦‚ä½•å¾—åˆ°ä¸€ä¸ªæ•°æ®æµä¸­çš„ä¸­ä½æ•°ï¼Ÿå¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¥‡æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä½äºä¸­é—´çš„æ•°å€¼ã€‚å¦‚æœä»æ•°æ®æµä¸­è¯»å‡ºå¶æ•°ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆä¸­ä½æ•°å°±æ˜¯æ‰€æœ‰æ•°å€¼æ’åºä¹‹åä¸­é—´ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ã€‚

ä¾‹å¦‚ï¼Œ

[2,3,4] çš„ä¸­ä½æ•°æ˜¯ 3

[2,3] çš„ä¸­ä½æ•°æ˜¯ (2 + 3) / 2 = 2.5

è®¾è®¡ä¸€ä¸ªæ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œçš„æ•°æ®ç»“æ„ï¼š

- void addNum(int num) - ä»æ•°æ®æµä¸­æ·»åŠ ä¸€ä¸ªæ•´æ•°åˆ°æ•°æ®ç»“æ„ä¸­ã€‚
- double findMedian() - è¿”å›ç›®å‰æ‰€æœ‰å…ƒç´ çš„ä¸­ä½æ•°ã€‚



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š
["MedianFinder","addNum","addNum","findMedian","addNum","findMedian"]
[[],[1],[2],[],[3],[]]
è¾“å‡ºï¼š[null,null,null,1.50000,null,2.00000]
```

```java
class MedianFinder {
    /** initialize your data structure here. */
    public MedianFinder() {

    }
    
    public void addNum(int num) {

    }
    
    public double findMedian() {

    }
}
/**
 * Your MedianFinder object will be instantiated and called as such:
 * MedianFinder obj = new MedianFinder();
 * obj.addNum(num);
 * double param_2 = obj.findMedian();
 */
```

ã€éš¾é¢˜ï¼Œçµæ´»ä½¿ç”¨ç°æœ‰çš„æ•°æ®ç»“æ„ã€‘

<img src="images/image-20230331140758688.png" alt="image-20230331140758688" style="zoom:80%;" />

- ä½¿ç”¨ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå³å¤§æ ¹å †ã€å°æ ¹å †å»ç»´æŠ¤ï¼‰ï¼Œå¤§æ ¹å †åˆ°å°æ ¹å †æ˜¯æœ‰åºçš„ï¼Œä¸”å¤§æ ¹å †çš„æ•°é‡å¥‡æ•°æ˜¯å¤š1
- å³è¾¹å¤§æ ¹å †ï¼Œå·¦è¾¹å°æ ¹å †ï¼›å¤§æ ¹å †å­˜æ”¾æ•°ç»„çš„å‰ä¸€åŠæ•°æ®ï¼ˆnã€n+1ï¼‰ï¼Œå°æ ¹å †å­˜æ”¾ååŠæ®µæ•°ï¼ˆnã€nï¼‰
- å½“ä¸¤ä¸ªå †çš„æ•°é‡ç›¸ç­‰æ—¶ï¼Œå³ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆmid = ï¼ˆå¤§æ ¹å †å †é¡¶+å°æ ¹å †å †é¡¶ï¼‰/2
- ä¸ç›¸ç­‰ï¼Œå³å¥‡æ•°ï¼Œé‚£ä¹ˆmid = å¤§æ ¹å †å †é¡¶ï¼›
-  æ’å…¥æ—¶æ•°æ®æ—¶ï¼Œåˆ†ä¸ºæ•°ç»„æ•´ä½“å¤§å°å¥‡æ•°ã€å¶æ•°ä¸¤ç§æƒ…å†µï¼Œ
- å¥‡æ•°æ—¶ï¼šè‚¯å®šæ˜¯å³è¾¹å°æ ¹å †å…ƒç´ åŠ 1ã€‚å…ˆæŠŠnumåŠ å…¥å¤§æ ¹å †å†…æ’åºï¼Œç„¶åæŠŠå¤§æ ¹å †æœ€å¤§å€¼å¼¹å‡ºåŠ å…¥å³è¾¹
- å¶æ•°æ—¶ï¼šè‚¯å®šæ˜¯å·¦è¾¹å¤§æ ¹å †å…ƒç´ åŠ 1ã€‚å…ˆæŠŠnumåŠ å…¥å³è¾¹å°æ ¹å †å†…æ’åºï¼Œç„¶åæŠŠå°æ ¹å †æœ€å°å€¼å¼¹å‡ºåŠ å…¥å·¦è¾¹

```java
class MedianFinder {
    /** initialize your data structure here. */

    Queue<Integer> queue1 = new PriorityQueue<>((o1,o2)-> o2-o1); //å·¦è¾¹ï¼Œå¤§æ ¹å †
    Queue<Integer> queue2 = new PriorityQueue<>(); //å³è¾¹ï¼Œå°æ ¹å †

    public MedianFinder() {

    }

    public void addNum(int num) {
        //å¶æ•°æ—¶ï¼Œä¸¤ä¸ªå †æ•°é‡ç›¸ç­‰ã€‚æœ€åå…¥å·¦è¾¹çš„å¤§æ ¹å †
        if (queue1.size()==queue2.size()){
            queue2.add(num);
            queue1.add(queue2.poll());
        }else {
            //å¥‡æ•°æ—¶ï¼Œæœ€åå…¥å³è¾¹å°æ ¹å †
            queue1.add(num);
            queue2.add(queue1.poll());
        }
    }

    public double findMedian() {
        if (queue1.size()==0) return 0;
        //
        if (queue1.size()==queue2.size()){
            return (queue1.peek()+queue2.peek())/2.0; //è¿ç®—ç¬¦æœ€åç»“æœç±»å‹å’Œå‰é¢çš„é‚£ä¸ªæ•°æ®ç±»å‹ä¿æŒä¸€è‡´
        }else {
            return queue1.peek();
        }
    }
}
```



# 32ã€å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ

è¾“å…¥ä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„ä¸€ä¸ªæˆ–è¿ç»­å¤šä¸ªæ•´æ•°ç»„æˆä¸€ä¸ªå­æ•°ç»„ã€‚æ±‚æ‰€æœ‰å­æ•°ç»„çš„å’Œçš„æœ€å¤§å€¼ã€‚

è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚

**ç¤ºä¾‹1:**

```
è¾“å…¥: nums = [-2,1,-3,4,-1,2,1,-5,4]
è¾“å‡º: 6
è§£é‡Š: è¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
```

ã€åˆ†æåŠå¤©ã€‘

ã€å•ä¸ªæ•°ç»„ã€å­åºåˆ—ã€è¿ç»­ã€åªè¦ç»“æœã€‘æ»¡è¶³dpæ¡ä»¶ï¼Œå±äºå­åºåˆ—é—®é¢˜ã€‚

```java
class Solution32{
    //æ±‚æ‰€æœ‰çš„è¿ç»­å­æ•°ç»„ä¸­ï¼Œæœ€å¤§å’Œã€‚å‡å¦‚ç”¨æš´åŠ›è‚¯å®šä¸è¡Œï¼Œè¿™é‡Œåªè¦å’Œï¼Œä¸è¦å…·ä½“çš„æ•°ç»„ï¼Œè€ƒè™‘ä¸€ä¸‹dp
    public int getResult(int[] nums){
        if (nums.length==0) return 0;
        if (nums.length==1) return nums[0];
        //æœç„¶æ˜¯dpçš„é¢˜ç›®å•Š
        //1.dpæ•°ç»„å«ä¹‰
        // dp[i]ï¼šä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾çš„å­æ•°ç»„ï¼Œæœ€å¤§å’Œä¸ºå¤šå°‘ã€‚dp[n]
        int[] dp = new int[nums.length+1];
        //3.dpåˆå§‹åŒ–
        dp[0] = 0;
        dp[1] = nums[0];
        //2.

        //4.éå†é¡ºåº;
        for (int i = 2; i < dp.length; i++) {
            if (nums[i-1]>0){
                // 1ã€ç¬¬iä¸ªå…ƒç´ çš„å€¼å¤§äº0
                if (dp[i-1]<=0){
                    dp[i] = nums[i-1];
                }else {
                    dp[i] = dp[i-1] + nums[i-1];
                }
            }else {
                // 2ã€ç¬¬iä¸ªå…ƒç´ çš„å€¼å°äº0
                if (dp[i-1]<=0){
                    dp[i] = nums[i-1];
                }else {
                    dp[i] = dp[i-1] + nums[i-1];
                }
            }
        }
        //è¿”å›ç»“æœæ˜¯dpæ•°ç»„å†…æœ€å¤§å€¼
        int res = dp[1];
        for (int i = 1; i < dp.length; i++) {
            res = Math.max(res,dp[i]);
        }
        return res;
    }
}
```

# 33ã€å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨

![image-20230331143234459](images/image-20230331143234459.png)

![image-20230331143248486](images/image-20230331143248486.png)

ã€å°±æ˜¯æŒ‰ç…§ä¸­åºéå†æ¥æ„å»ºã€‘

æŒ‰ç…§ä¸­åºéå†ä¿æŒå„ä¸ªèŠ‚ç‚¹åˆ°Listé›†åˆï¼Œç„¶åä¸€ä¸ªä¸ªæ”¹å˜èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆå³æŒ‡é’ˆæŒ‡å‘å³å¯ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹å·¦æŒ‡é’ˆæŒ‡å‘nullï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹å³æŒ‡é’ˆæŒ‡å‘nullã€‚

```java
/**
public class TreeNode {
    int val = 0;
    TreeNode left = null;
    TreeNode right = null;

    public TreeNode(int val) {
        this.val = val;
    }
}
*/

import java.util.*;
class Solution33 {
  
    List<TreeNode> list = new ArrayList<>();
  
    public TreeNode Convert(TreeNode pRootOfTree) {
        inOrder(pRootOfTree);
        if (list.size() == 0) return null;
        // 1ã€ä¸­åºéå†ä¿æŒå„ä¸ªèŠ‚ç‚¹
        // å…ˆæ‹¿åˆ°å¤´èŠ‚ç‚¹ï¼Œè¿™é‡Œå°±å¼„ä¸€ä¸ªè™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæœ€åå†å»æ‰
        TreeNode rhead = new TreeNode(-1);
        TreeNode temp = rhead;
        for (int i = 0; i < list.size(); i++) {
            //
            temp.right = list.get(i);
            list.get(i).left = temp;
            //
            temp = temp.right;
        }
        // æœ€ååšä¸€ä¸‹æ‰«å°¾å·¥ä½œ;
        // å¤„ç†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚æ­¤æ—¶tempåœ¨æœ€åä¸€ä¸ªèŠ‚ç‚¹
        TreeNode head = rhead.right;
        head.left = null;
        rhead.right = null;
        temp.right = null;
        return head;

    }

    public void inOrder(TreeNode TreeNode) {
        if (TreeNode == null) {
            return;
        }
        inOrder(TreeNode.left);
        list.add(TreeNode);
        inOrder(TreeNode.right);
    }
}
```



# 34ã€å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘ï¼ˆä¸ä¼šï¼‰

åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚

è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚

**ç¤ºä¾‹ï¼š**

<img src="images/serdeser.jpg" alt="img" style="zoom:67%;" />

```
è¾“å…¥ï¼šroot = [1,2,3,null,null,4,5]
è¾“å‡ºï¼š[1,2,3,null,null,4,5]
```

ã€è¿™é‡Œè¦æ ¹æ®ä¸€ä¸ªåºåˆ—å®ŒæˆäºŒå‰æ ‘çš„æ„å»ºï¼Œæ·±åº¦ä¼˜å…ˆçš„è¯éœ€è¦å‰åº+ä¸­åº æˆ– ååº+ä¸­åºï¼Œä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‘ã€æ‰€ä»¥è¿™é‡Œåªèƒ½ä½¿ç”¨å±‚åºéå†ã€‘

å°†nullèŠ‚ç‚¹ä¹ŸåŠ å…¥é˜Ÿåˆ—å“¦ï¼ï¼æ‰å¯ä»¥å®Œæˆæ„å»ºã€‚



```java
class Codec {
    public String serialize(TreeNode root) {
        if(root == null) return "[]";
        StringBuilder res = new StringBuilder("[");
        Queue<TreeNode> queue = new LinkedList<>() ;
        queue.add(root);
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            if(node != null) {
                res.append(node.val + ",");
                queue.add(node.left);
                queue.add(node.right);
            }
            else res.append("null,");
        }
        res.deleteCharAt(res.length() - 1);
        res.append("]");
        return res.toString();
    }

    public TreeNode deserialize(String data) {
        if(data.equals("[]")) return null;
        String[] vals = data.substring(1, data.length() - 1).split(",");
        TreeNode root = new TreeNode(Integer.parseInt(vals[0]));
        Queue<TreeNode> queue = new LinkedList<>() ;
        queue.add(root);
        int i = 1;
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            if(!vals[i].equals("null")) {
                node.left = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.left);
            }
            i++;
            if(!vals[i].equals("null")) {
                node.right = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.right);
            }
            i++;
        }
        return root;
    }
}
```



# 35ã€å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—

è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æ’åˆ—ã€‚

ä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œä½†é‡Œé¢ä¸èƒ½æœ‰é‡å¤å…ƒç´ ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼š["abc","acb","bac","bca","cab","cba"]
```



ã€å»é‡ç¬¬ä¸€æ­¥æ’åºå•Šã€‘

1ã€ä½¿ç”¨Seté˜²æ­¢å…ƒç´ é‡å¤ä½¿ç”¨, `usedIndex.contains(i)`

2ã€æ ‘å±‚å»é‡ï¼š``i>0 && nums[i]==nums[i-1] && !set.contain(i-1)``

```java
class Solution35 {
    // æ’åˆ—çš„æ ‘å±‚å»é‡ç‰ˆæœ¬ã€‚ä½¿ç”¨Seté˜²æ­¢å…ƒç´ é‡å¤ä½¿ç”¨ã€‚ç¬¬ä¸€æ­¥æ’åº
    // æ ‘å±‚å»é‡ï¼ši>0 && nums[i]==nums[i-1] && !set.contain(i-1)
    public String[] getResult(String s){
        //å»é‡ç¬¬ä¸€æ­¥æ’åºå•Šæˆ‘è‰
        char[] chars = s.toCharArray();
        Arrays.sort(chars);
        s = String.valueOf(chars);
        backTracking(s);
        String[] res = new String[pathList.size()];
        for (int i = 0; i < pathList.size(); i++) {
            res[i] = pathList.get(i);
        }
        return res;
    }

    //å›æº¯
    StringBuilder path = new StringBuilder();
    List<String> pathList = new ArrayList<>();
    Set<Integer> usedIndex = new HashSet<>();
    public void backTracking(String s){
        //ç»ˆæ­¢æ¡ä»¶
        if (path.length()==s.length()){
            pathList.add(path.toString());
            return;
        }
        // å›æº¯æœç´¢
        for (int i = 0; i < s.length(); i++) {
            // é˜²æ­¢åŒä¸€ä¸ªå…ƒç´ é‡å¤ä½¿ç”¨
            if (usedIndex.contains(i)){
                continue;
            }
            // è¿›è¡Œæ ‘å±‚å»é‡ï¼ˆå…ƒç´ ç´¢å¼•ä¸åŒï¼Œä½†æ•°å€¼ç›¸åŒï¼‰
            if (i>0 && s.charAt(i)==s.charAt(i-1)
                    && !usedIndex.contains(i-1)){
                continue;
            }
            //
            path.append(s.charAt(i));
            usedIndex.add(i);
            backTracking(s);
            usedIndex.remove(i);
            path.deleteCharAt(path.length()-1);
        }

    }
}
```



# 36ã€å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•°ï¼ˆå®ä¹ -ç¾çš„ï¼‰

è¾“å…¥ä¸€ä¸ªæ•´æ•° `n` ï¼Œæ±‚1ï½nè¿™nä¸ªæ•´æ•°çš„åè¿›åˆ¶è¡¨ç¤ºä¸­1å‡ºç°çš„æ¬¡æ•°ã€‚

ä¾‹å¦‚ï¼Œè¾“å…¥12ï¼Œ1ï½12è¿™äº›æ•´æ•°ä¸­åŒ…å«1 çš„æ•°å­—æœ‰1ã€10ã€11å’Œ12ï¼Œ1ä¸€å…±å‡ºç°äº†5æ¬¡ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 12
è¾“å‡ºï¼š5
```

```java
class Solution36{
    public int getResult(int n){
        int[] nums = new int[n];
        int x = 1;
        for (int i = 0; i < nums.length; i++) {
            nums[i] = x;
            x++;
        }
        //
        int count = 0;
        StringBuilder s = new StringBuilder();
        for (int num : nums) {
            s.append(num);
            for (int i = 0; i < s.length(); i++) {
                if (s.charAt(i)=='1'){
                    count++;
                }
            }
            s.delete(0,s.length());
        }
        return count;
    }
}
```



# 37ã€å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—

æ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1, 2, 3, 2, 2, 2, 5, 4, 2]
è¾“å‡º: 2
```



```java
class Solution37{
    public int getResult(int[] nums){
        //ç»Ÿè®¡æ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ å‡ºç°æ¬¡æ•°å³å¯ã€‚å“ˆå¸Œè¡¨
        // ä¸çŸ¥é“ä¼šå‡ºç°å“ªäº›å…ƒç´ ï¼Œä½¿ç”¨mapè¿‡
        Map<Integer,Integer> map = new HashMap<>();
        for (int num : nums) {
            if (map.containsKey(num)){
                map.put(num,map.get(num)+1);
            }else {
                map.put(num,1);
            }
        }
        //éå†mapé›†åˆå³å¯ï¼›
        // ä¸‰ç§æ–¹å¼éå†ï¼Œä¸€ç§æ˜¯keySetï¼Œä¸€ç§æ˜¯Map.entrySetï¼Œä¸€ç§æ˜¯lambda
        int res = 0;
        Set<Map.Entry<Integer, Integer>> entries = map.entrySet();
        for (Map.Entry<Integer, Integer> entry : entries) {
            if (entry.getValue()> nums.length/2){
                res = entry.getKey();break;
            }
        }
        return res;
    }
}
```



# 38ã€å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘

ä»ä¸Šåˆ°ä¸‹æ‰“å°å‡ºäºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ã€‚

**æç¤ºï¼š**`èŠ‚ç‚¹æ€»æ•° <= 1000`

ä¾‹å¦‚:

ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›ï¼š

```
[3,9,20,15,7
```



```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution38{
    // å±‚åºéå†å•Š
    public int[] getResult(TreeNode root){
        if (root==null) return new int[0];
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);
        List<TreeNode> list = new ArrayList<>();
        List<Integer> dataLIst = new ArrayList<>();
        while (!queue.isEmpty()){
            while (!queue.isEmpty()){
                list.add(queue.poll());
            }
            for (TreeNode node : list) {
                dataLIst.add(node.val);
                if (node.left!=null) queue.offer(node.left);
                if (node.right!=null) queue.offer(node.right);
            }
            list.clear();
        }
        int[] res = new int[dataLIst.size()];
        for (int i = 0; i < dataLIst.size(); i++) {
            res[i] = dataLIst.get(i);
        }
        return res;

    }

}
```



# 39ã€å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II

ä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚çš„èŠ‚ç‚¹æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œæ¯ä¸€å±‚æ‰“å°åˆ°ä¸€è¡Œã€‚

ä¾‹å¦‚:
ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š

```
[
  [3],
  [9,20],
  [15,7]
]
```

 

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution39{
    public List<List<Integer>> getResult(TreeNode root){
        //1.
        List<List<Integer>> resList = new ArrayList<>();
        if (root==null) return resList;

        //2.
        Queue<TreeNode> queue = new LinkedList<>();
        queue.add(root);
        //3.
        List<TreeNode> nodeList = new ArrayList<>();
        while (!queue.isEmpty()){
            //æŒ‰ç…§å±‚å–å‡ºè¯¥å±‚çš„æ‰€æœ‰èŠ‚ç‚¹
            while (!queue.isEmpty()){
                nodeList.add(queue.poll());
            }
            //å°†ä¸‹ä¸€å±‚èŠ‚ç‚¹å…¨éƒ¨æ”¾å…¥queueï¼Œå¹¶ä¸”å°è£…ç»“æœ
            List<Integer> list = new ArrayList<>();
            for (TreeNode node : nodeList) {
                list.add(node.val);
                if (node.left!=null) queue.offer(node.left);
                if (node.right!=null) queue.offer(node.right);
            }
            nodeList.clear();
            resList.add(list);
        }
        return resList;

    }
}
```



# ==40ã€å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—==



æ•°å­—ä»¥0123456789101112131415â€¦çš„æ ¼å¼åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦åºåˆ—ä¸­ã€‚åœ¨è¿™ä¸ªåºåˆ—ä¸­ï¼Œç¬¬5ä½ï¼ˆä»ä¸‹æ ‡0å¼€å§‹è®¡æ•°ï¼‰æ˜¯5ï¼Œç¬¬13ä½æ˜¯1ï¼Œç¬¬19ä½æ˜¯4ï¼Œç­‰ç­‰ã€‚

è¯·å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä»»æ„ç¬¬nä½å¯¹åº”çš„æ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 11
è¾“å‡ºï¼š0
```



[å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/solutions/1262747/js-5xing-dai-ma-ji-shi-xing-zhu-shi-by-o-2skd/)

é¦–å…ˆæˆ‘ä»¬åº”è¯¥æ‰¾åˆ°å®ƒçš„è™šæ‹Ÿéš”é—´ä½ç½®ï¼Œæ­¤ä¾‹ä¸­æŒ‰ç…§æ¯ 2 æ•°ä½ä¸€éš”é—´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ 21/2 = 10 å¾—åˆ°ï¼Œå®ƒåœ¨ç¬¬ 10 ä¸ªéš”é—´ ï¼ˆä¸‹æ ‡å‡ä»0å¼€å§‹)

ä¹‹åæˆ‘ä»¬éœ€è¦ç¡®å®šå®ƒåœ¨éš”é—´çš„ä½ç½®ï¼Œå¾ˆç®€å•ï¼Œæ±‚ä½™å³å¯ï¼Œ21 % 2 = 1

        // æ¯ä¸ªæ•°å­—å­—ç¬¦å®½åº¦éƒ½è¡¥æˆå½“å‰ä½æ•°i, é‚£ä¹ˆæœ€åæˆ‘ä»¬è¦æ‰¾çš„æ•°å­—åŒºé—´çš„æ•°æ˜¯ k/i ,åŒºé—´å†…æœ€åå¾—åˆ°çš„æ•°æ˜¯ k%i.
        // ä¾‹å¦‚iä¸º3æ—¶ï¼Œæ•°å­—åºåˆ—è¡¥ä¸º 000 001 002 003 004 005 006 007 008 009 010 011... å‰é¢è¡¥0ånè¦å³ç§»å¯¹åº”çš„é•¿åº¦
        // ä¾‹å¦‚æ±‚n=11æ—¶ï¼Œç”±äº11>10,æ‰€ä»¥æŠŠå‰é¢çš„0..9éƒ½è¡¥ä¸€ä¸ª0ï¼Œn=21ï¼Œé‚£ä¹ˆå°±æ˜¯å…ˆå¾—åˆ°10è¿™ä¸ªæ•°å­—ï¼ˆ21/2ï¼‰ï¼Œç„¶åç´¢å¼•æ˜¯1ï¼ˆ21%2ï¼‰ã€‚
        // å¦‚ä½•åˆ¤æ–­é—´éš”å®½åº¦ï¼Œå³æ¯ä¸ªæ•°å­—æ–°å¢å¤šå°‘ä¸ª0ï¼Ÿ
        // ä¸€ä½æ•°çš„å‡æƒ³åºåˆ—é•¿åº¦ä¸º10ï¼ŒäºŒä½æ•°çš„å‡æƒ³åºåˆ—ä¸º200ï¼ˆ000102...9899ï¼‰ï¼Œä¸‰ä½æ•°3000ä»¥æ­¤ç±»æ¨ï¼Œæ‰€ä»¥å‡æƒ³åºåˆ—çš„é•¿åº¦ä¸º i*10^i
        // è€Œå®é™…çš„ n åº”è¯¥è½åœ¨è¿™ä¸ªå‡æƒ³åºåˆ—çš„èŒƒå›´å†…ã€‚å½“ i*10^i < n æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ–°å¢æ•°ä½æ“ä½œï¼Œæ¥æ»¡è¶³æ¡ä»¶ã€‚

```java
 public int findNthDigit(int n) {
        // æ ¸å¿ƒå°±æ˜¯å¡«å……0
        //ç¬¬ä¸€æ­¥æ‰¾åˆ°nä½çš„å…ƒç´ ï¼Œç°åœ¨å¯¹åº”çš„æ˜¯çœŸå®çš„å‡ ä½æ•°äº†ï¼Œå¦‚122ï¼ˆä¸‰ä½æ•°å­—ï¼‰
        //æœ€å¤§æ•°å­—æ˜¯ä¸€ä½æ•°æ—¶ï¼Œn <=10çš„ï¼Œæœ€å¤§æ•°å­—æ˜¯ä¸¤ä½æ•°å­—æ—¶ï¼ˆ0-99ï¼‰ï¼Œæˆ‘ä»¬å°†æ¯ä¸€ä¸ªé2ä½çš„æ•°å­—å‰é¢è¡¥ä¸Š0ï¼Œï¼ˆ000102ï¼Œ99ï¼‰å®ƒçš„é•¿åº¦æœ€å¤§æ˜¯200ï¼Œå¹¶ä¸”æˆ‘åŸæ¥çš„ç¬¬nä½éœ€è¦åç§»10^(i-1)ï¼Œiæ˜¯å½“å‰æœ€å¤§æ•°çš„ä½æ•°ã€‚
        //ç¡®å®šäº†æ±‚çš„é‚£ä¸ªæ•°å­—çš„ä½æ•°åã€‚ä½¿ç”¨ï¼ˆk / i )å°±å¯ä»¥å¾—åˆ°æˆ‘çš„é‚£ä¸ªæ•°å­—ï¼Œå…·ä½“æ˜¯å“ªä¸€ä½å‘¢ï¼Œä½¿ç”¨k%iå¾—åˆ°ã€‚
  
        long k = n; //n æ˜¯è¦å˜åŒ–çš„,è¿™é‡Œå¿…é¡»æ˜¯longï¼Œå› ä¸ºkä¼šå¢å¤§çš„ï¼Œè¶…å‡ºintçš„è¡¨ç¤ºèŒƒå›´
        int i = 1; //æœ€å¤§æ•°å­—çš„ä½æ•°ã€‚
        long numSum = i * (long)Math.pow(10, i);//10,200,3000
        while (true) {
            if (k <= numSum) {
                String s = String.valueOf(k / i);
                return s.charAt( (int)k % i ) - '0';
            } else {
                i++; //åŠ ä¸€ä½
                numSum = i *(long) Math.pow(10, i); //å½“å‰ä½æ•°è¡¥0åæœ€å¤§çš„æ•°å­—é•¿åº¦
                k += Math.pow(10, i - 1); //åç§»
            }
        }
}
```



# 41ã€å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III

è¯·å®ç°ä¸€ä¸ªå‡½æ•°æŒ‰ç…§ä¹‹å­—å½¢é¡ºåºæ‰“å°äºŒå‰æ ‘ï¼Œå³ç¬¬ä¸€è¡ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œç¬¬äºŒå±‚æŒ‰ç…§ä»å³åˆ°å·¦çš„é¡ºåºæ‰“å°ï¼Œç¬¬ä¸‰è¡Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ‰“å°ï¼Œå…¶ä»–è¡Œä»¥æ­¤ç±»æ¨ã€‚

ä¾‹å¦‚:
ç»™å®šäºŒå‰æ ‘: `[3,9,20,null,null,15,7]`,

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å…¶å±‚æ¬¡éå†ç»“æœï¼š

```
[
  [3],
  [20,9],
  [15,7]
]
```



```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution41 {
    public List<List<Integer>> getResult(TreeNode root) {
        //å¾ˆç®€å•ï¼Œå¼„ä¸€ä¸ªè®¡æ•°å™¨ï¼Œè®°å½•æ“ä½œçš„æ˜¯ç¬¬å‡ å±‚å³å¯ã€‚å¶æ•°å±‚å°±é€†åºä¸€ä¸‹list
        List<List<Integer>> resList = new ArrayList<>();
        if (root==null) return resList;
        //
        Queue<TreeNode> queue = new LinkedList<>();
        queue.offer(root);
        //
        List<TreeNode> nodeList = new ArrayList<>();
        int k = 1; //è®°å½•å¤„ç†çš„æ˜¯ç¬¬å‡ å±‚
        while (!queue.isEmpty()){
            while (!queue.isEmpty()){
                nodeList.add(queue.poll());
            }
            List<Integer> dataList = new ArrayList<>();  //å­˜æ”¾æ¯ä¸€å±‚éå†çš„å­˜å‚¨èŠ‚ç‚¹å€¼
            for (TreeNode node : nodeList) {
                //å…ˆæ”¾å…¥ä¸‹ä¸€å±‚èŠ‚ç‚¹
                if (node.left!=null) queue.offer(node.left);
                if (node.right!=null) queue.offer(node.right);
                //å¤„ç†è¯¥å±‚ç»“æœ
                dataList.add(node.val);
            }
            nodeList.clear(); //æ³¨æ„è¿™é‡Œç½—
            //æ”¾å…¥ç»“æœé›†ï¼Œåˆ¤æ–­æ˜¯å¦é€†åº,å¶æ•°é€†åº
            if (k%2==0){
                Collections.reverse(dataList);
                resList.add(dataList);
            }else {
                resList.add(dataList);
            }
            k++;
        }
        return resList;
    }
}
```



# ==42ã€å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—==

è¾“å…¥ä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåˆ¤æ–­è¯¥æ•°ç»„æ˜¯ä¸æ˜¯æŸäºŒå‰æœç´¢æ ‘çš„ååºéå†ç»“æœã€‚å¦‚æœæ˜¯åˆ™è¿”å› `true`ï¼Œå¦åˆ™è¿”å› `false`ã€‚å‡è®¾è¾“å…¥çš„æ•°ç»„çš„ä»»æ„ä¸¤ä¸ªæ•°å­—éƒ½äº’ä¸ç›¸åŒã€‚

å‚è€ƒä»¥ä¸‹è¿™é¢—äºŒå‰æœç´¢æ ‘ï¼š

```
     5
    / \
   2   6
  / \
 1   3
```

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: [1,6,3,2,5]
è¾“å‡º: false
```



ã€å› ä¸ºæ˜¯äºŒå‰æœç´¢æ ‘ã€‘æ‰€ä»¥çŸ¥é“äº†ååºï¼Œä¹Ÿå°±çŸ¥é“äº†ä¸­åºï¼Œè¿˜åŸå°±æ˜¯æ ¹æ®ååº+ä¸­åºåˆ¤æ–­æ„å»ºå‡ºæ¥çš„äºŒå‰æ ‘ï¼Œæ˜¯ä¸æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘ã€‚æš´åŠ›ä¸€ç‚¹çš„åŠæ³•å°±æ˜¯ï¼Œç›´æ¥å…ˆæ„å»ºï¼Œç„¶åå†å†™ä¸€ä¸ªéªŒè¯äºŒå‰æœç´¢æ ‘çš„æ–¹æ³•ï¼Œä½†ä¹‹å‰æˆ‘ä»¬çš„éªŒè¯äºŒå‰æœç´¢æ ‘æ˜¯é€šè¿‡è·å–æ ‘ä¸­åºéå†åˆ¤æ–­æ˜¯å¦ä¸¥æ ¼é€’å¢å®ç°çš„ï¼Œè¿™é‡Œå°±æœ‰é—®é¢˜ï¼Œæ‰€ä»¥è¯´ï¼Œå¦‚æœå¯ä»¥æˆåŠŸæ„å»ºå‡ºæ¥é‚£ä¹ˆå°±è‚¯å®šæ˜¯åˆç†çš„ååºï¼Œä¸èƒ½æ„å»ºå‡ºæ¥å°±æ˜¯ä¸åˆç†çš„ï¼›é‚£ä¸åˆç†çš„æ¡ä»¶åœ¨æ„å»ºè¿‡ç¨‹ä¸­æ€ä¹ˆåˆ¤æ–­å‘¢ï¼Œè¿™é‡Œæ˜¯ä¸å¾—è¡Œçš„ï¼ï¼ï¼æ‰€ä»¥è¿™ç§æ„é€ çš„åŠæ³•å»åˆ¤æ–­ä¸è¡Œã€‚è€Œä¸”éº»çƒ¦å‘¢ã€‚

**ã€é‡‡ç”¨ååºéå†é€’å½’è§£å†³ã€‘**é¦–å…ˆçŸ¥é“æ ¹èŠ‚ç‚¹æ˜¯æœ€åä¸€ä¸ªï¼Œå…¶å€¼æ˜¯rootValueï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‹¿ç€æ•°ç»„éå†ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºrootValueçš„å€¼ï¼Œè¿™ä¸ªå€¼å‰é¢çš„å°±æ˜¯å·¦å­æ ‘çš„ååºéå†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å³å­æ ‘çš„ååºéå†ï¼Œæ­¤æ—¶åˆ¤æ–­è¿™ä¸ªå³å­æ ‘çš„ååºæ˜¯ä¸æ˜¯å…¨éƒ¨å¤§äºrootValueï¼Œå¦‚æœå‡ºç°ä¸æ˜¯çš„æƒ…å†µï¼Œè¯´æ˜ä¸æ˜¯åˆç†çš„ååºreturn falseï¼Œå¦‚æœå…¨éƒ¨éƒ½æ»¡è¶³å°±é€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ã€‚é€’å½’çš„ç»“æŸæ¡ä»¶æ˜¯ ä¼ å…¥çš„ååºæ•°ç»„é•¿åº¦ä¸º0æ—¶ï¼Œreturn trueï¼ˆç©ºæ ‘çš„ååºéå†å°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„å•Šï¼Œæˆ–è€…ç»ˆæ­¢æ¡ä»¶æ”¹æˆ1ä¹Ÿå¯ä»¥ï¼‰ã€‚æ•´ä¸ªé€’å½’å‡½æ•°çš„æ„ä¹‰æ˜¯ï¼šè¯¥ååºæ•°ç»„æ˜¯å¦ä¸ºä¸€ä¸ªåˆç†çš„äºŒå‰æœç´¢æ ‘çš„ååºã€‚

 **ã€å¤§ä½¬çš„è§£é¢˜æ€è·¯ã€‘**

1. å®é™…ä¸ŠäºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†å’Œååºéå†å¯¹åº”ç€ä¸€ç§æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ—, è€Œå¯¹ååºéå†åºåˆ—ä»å°åˆ°å¤§æ’åºå°±å¾—åˆ°äº†ä¸­åºéå†åºåˆ—
2. æˆ‘ä»¬å¾—åˆ°ä¸­åºéå†åºåˆ—å, å°†å…¶ä½œä¸ºå…¥æ ˆåºåˆ—, æ£€æŸ¥ååºéå†åºåˆ—æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„å‡ºæ ˆåºåˆ—å³å¯

```java
class Solution43 {
    // é€’å½’å‡½æ•°æ„ä¹‰ï¼šåˆ¤æ–­ä¼ å…¥åºåˆ—æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„äºŒå‰æœç´¢æ ‘ååºéå†ã€‚
    public boolean getResult(int[] postorder) {
        //.é€’å½’ç»ˆæ­¢æ¡ä»¶
        if (postorder.length == 0) return true;
        //1.æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼ŒrootValue
        int rootValue = postorder[postorder.length - 1];
        //2.æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºrootValueçš„æ•°
        int leftIndex = postorder.length-1; //å¦‚æœå…¨éƒ¨å°äºäº†ï¼Œé˜²æ­¢è¯¥å€¼ä¸è¢«è¦†ç›–ï¼
        for (int i = 0; i < postorder.length - 1; i++) {
            if (postorder[i] > rootValue){
                leftIndex = i;break;
            }
        }
        //3.åˆ¤æ–­å‰©ä¸‹çš„å³å­æ ‘ååºæ•°ç»„ï¼Œæ˜¯ä¸æ˜¯æ»¡è¶³è¦æ±‚
        for (int i = leftIndex; i < postorder.length - 1; i++) {
            if (postorder[i] < rootValue) return false;
        }
        int[] leftpost = Arrays.copyOfRange(postorder, 0, leftIndex);
        int[] rightpost = Arrays.copyOfRange(postorder, leftIndex, postorder.length - 1);
        boolean leftResult = getResult(leftpost); //é€’å½’å·¦åŒºé—´
        boolean rightResult = getResult(rightpost);
        return leftResult && rightResult; 
    }
}
```

```java
public class Solution {
    public boolean VerifySquenceOfBST(int [] sequence) {
        //äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†ï¼Œå¯¹åº”å‹æ ˆé¡ºåºï¼Œåˆ¤æ–­ååºéå†æ˜¯å¦ä¸ºä¸€ç§åˆæ ¼çš„å‡ºæ ˆé¡ºåº
        int[] postOrder = Arrays.copyOfRange(sequence, 0, sequence.length);
        int[] inOrder = sequence;
        Arrays.sort(sequence);
        Stack<Integer> stack = new Stack<>();
        int p = 0;
        for (int i = 0; i < inOrder.length; i++) {
            stack.push(inOrder[i]);
            while (!stack.isEmpty() && stack.peek() == postOrder[p]) {
                stack.pop();
                p++;
            }
        }

        return stack.isEmpty();
    }
}
```





# 43ã€1008. å‰åºéå†æ„é€ äºŒå‰æœç´¢æ ‘

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œå®ƒè¡¨ç¤ºBST(å³ **äºŒå‰æœç´¢æ ‘** )çš„ **å…ˆ****åºéå†** ï¼Œæ„é€ æ ‘å¹¶è¿”å›å…¶æ ¹ã€‚

**ä¿è¯** å¯¹äºç»™å®šçš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ€»æ˜¯æœ‰å¯èƒ½æ‰¾åˆ°å…·æœ‰ç»™å®šéœ€æ±‚çš„äºŒå‰æœç´¢æ ‘ã€‚

**äºŒå‰æœç´¢æ ‘** æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ï¼Œ `Node.left` çš„ä»»ä½•åä»£çš„å€¼ **ä¸¥æ ¼å°äº** `Node.val` , `Node.right` çš„ä»»ä½•åä»£çš„å€¼ **ä¸¥æ ¼å¤§äº** `Node.val`ã€‚

äºŒå‰æ ‘çš„ **å‰åºéå†** é¦–å…ˆæ˜¾ç¤ºèŠ‚ç‚¹çš„å€¼ï¼Œç„¶åéå†`Node.left`ï¼Œæœ€åéå†`Node.right`ã€‚

**ç¤ºä¾‹ 1ï¼š**

<img src="images/1266.png" alt="img" style="zoom:80%;" />

```
è¾“å…¥ï¼špreorder = [8,5,1,7,10,12]
è¾“å‡ºï¼š[8,5,10,1,7,null,12]
```

ã€ä¹‹å‰å­¦è¿‡æ™®é€šçš„äºŒå‰æ ‘ï¼Œæ„å»ºéœ€è¦æœ€å°‘ä¸¤ä¸ªéå†æ•°ç»„ã€‘ä½†æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œåªéœ€è¦å‰åºã€ååºå°±å¯ä»¥å®Œæˆæ„å»ºï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å¯¹ã€Œå‰åºéå†ã€çš„ç»“æœ **æ’åº** å¾—åˆ°ã€Œä¸­åºéå†ã€çš„ç»“æœã€‚å°±æŠŠé—®é¢˜è¿˜åŸäº†ã€‚



# 44ã€å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦

åœ¨å­—ç¬¦ä¸² s ä¸­æ‰¾å‡ºç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¿”å›ä¸€ä¸ªå•ç©ºæ ¼ã€‚ s åªåŒ…å«å°å†™å­—æ¯ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥ï¼šs = "abaccdeff"
è¾“å‡ºï¼š'b'
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥ï¼šs = "" 
è¾“å‡ºï¼š' '
```

**é™åˆ¶ï¼š**

```
0 <= s çš„é•¿åº¦ <= 50000
```



```java
class Solution44{
    public char getResult(String s){
        if (s.equals("")) return ' ';
        //ä½¿ç”¨mapç»Ÿè®¡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç”±äºè¿™é‡Œå·²çŸ¥äº†åªä¼šå‡ºç°26ä¸ªå°å†™å­—æ¯
        //æ‰€ä»¥å¯ä»¥ä½¿ç”¨æ•°ç»„åšå“ˆå¸Œè¡¨ï¼Œé™ä½å¤æ‚åº¦
        int[] nums = new int[26]; // 'a'--0ç´¢å¼•
        for (int i = 0; i < s.length(); i++) {
            int index = s.charAt(i) - 'a'; //è¯¥å­—ç¬¦çš„å“ˆå¸Œè¡¨ç´¢å¼•
            nums[index] ++;
        }
        // æ³¨æ„å“¦ï¼Œå¯èƒ½æœ‰å¤šä¸ªå­—ç¬¦å‡åªå‡ºç°ä¸€æ¬¡ï¼Œè¿™é‡Œæ˜¯æ‰¾å‡ºç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œè¿˜è¦æœ‰é¡ºåºæˆ‘å»ã€‚
        // å“¦ï¼Œé‚£æˆ‘ä»¬å°±å†æ¬¡éå†å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”åŒæ—¶getå‡ºæ¯ä¸ªå­—ç¬¦çš„é¢‘æ¬¡åˆ¤æ–­å³å¯
        for (int i = 0; i < s.length(); i++) {
            int index = s.charAt(i) - 'a'; //è¯¥å­—ç¬¦çš„å“ˆå¸Œè¡¨ç´¢å¼•
            if (nums[index] ==1) return s.charAt(i);
        }
        return ' '; //å¦‚æœæ²¡æœ‰ä¸€ä¸ªå­—ç¬¦åªå‡ºç°ä¸€æ¬¡
    }
}

// MAP ä¹Ÿå¯ä»¥
    public int FirstNotRepeatingChar(String str) {
        Map<Character, Integer> map = new HashMap<>();
        for (int i = 0; i < str.length(); i++) {
            if (map.containsKey(str.charAt(i))) {
                map.put(str.charAt(i), map.get(str.charAt(i)) + 1);
            } else {
                map.put(str.charAt(i),1);
            }
        }
        // ç›´æ¥ä¼˜å…ˆé˜Ÿåˆ—å³å¯å•Šï¼Œå°æ ¹å †ï¼Œä¸å¯¹æœ‰å¯èƒ½å‡ºç°å¤šä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚
        //å†æ¥ä¸€æ¬¡for
        for (int i = 0; i < str.length(); i++) {
            if(map.get(str.charAt(i))==1){
                return i;
            }
        }
        return -1;
    }
```



# ==45ã€å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„==

ç»™ä½ äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å’Œ `targetSum` ï¼Œæ‰¾å‡ºæ‰€æœ‰ **ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹** è·¯å¾„æ€»å’Œç­‰äºç»™å®šç›®æ ‡å’Œçš„è·¯å¾„ã€‚

**å¶å­èŠ‚ç‚¹** æ˜¯æŒ‡æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 1ï¼š**

<img src="images/pathsumii1.jpg" alt="img" style="zoom: 50%;" />

```
è¾“å…¥ï¼šroot = [5,4,8,11,null,13,4,7,2,null,null,5,1], targetSum = 22
è¾“å‡ºï¼š[[5,4,11,2],[5,8,4,5]]
```

```
è¾“å…¥ï¼šroot = [1,2], targetSum = 0
è¾“å‡ºï¼š[]
```

ã€é‡‡ç”¨åŠæš´åŠ›è§£æ³•ï¼Œ**ä¸è¦å‰ªæäº†**ï¼Œç›´æ¥å…ˆè·å–äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„å†è¯´ï¼Œç„¶åå†æ¥ä¸€æ¬¡æ‰€æœ‰è·¯å¾„çš„éå†ã€‘è¿™æ ·æœ€ç®€å•ï¼Œè€Œä¸”ä¸ä¼šå¿˜è®°ï¼Œæˆ‘è¯•äº†ä¼˜è´¨è§£æ³•ï¼Œå¤ªéº»äº†ï¼Œå¾ˆå¤šç»†èŠ‚è¦æ³¨æ„ï¼ï¼ï¼

ã€å…¶æ¬¡ã€‘**pathå’ŒpathListåœ¨äºŒå‰æ ‘è¿™å—ï¼Œå‡é‡‡ç”¨ List< TreeNode>**ï¼Œå¿…é¡»çš„è‚¯å®šè¿™æ ·åšï¼Œè€Œä¸”ä¸ä¼šå‡ºé”™ï¼Œç©ºé—´å¤æ‚åº¦å¤šä¸äº†å¤šå°‘ï¼Œå®æµ‹ã€‚è¿™æ ·åšä¹‹åï¼Œæˆ‘ä»¬è·å–äºŒå‰æ ‘æ‰€æœ‰è·¯å¾„çš„ä»£ç å°±å¾ˆç®€çŸ­ï¼Œæ— éæ˜¯åœ¨ä¸»å‡½æ•°é‡Œé¢å¤šå†™ä¸€ç‚¹ï¼Œä½†é€»è¾‘å°±å¾ˆç®€å•äº†ã€‚

```java
class Solution45 {
    // äºŒå‰æ ‘çš„è·¯å¾„é—®é¢˜ï¼Œç›´æ¥æš´åŠ›å‰åºéå†å³å¯,æ³¨æ„ä¸­é—´æœ‰å›æº¯
    public List<List<Integer>> pathSum(TreeNode root, int targetSum) {
        getAllPaths(root);
        List<List<Integer>> resList = new ArrayList<>();
        int sum = 0;
        List<Integer> dataList = new ArrayList<>();
        for (List<TreeNode> path : pathList) {
            // éå†ä¸€æ¡è·¯å¾„æƒ…å†µ
            sum = 0;
            dataList.clear();
            for (TreeNode node : path) {
                sum +=node.val;
                dataList.add(node.val);
            }
            if (sum == targetSum) {
                resList.add(new ArrayList<>(dataList));
            }
        }
        return resList;
    }

    // ç›´æ¥é€’å½’å‰åº+å›æº¯
    List<List<TreeNode>> pathList = new ArrayList<>();
    List<TreeNode> path = new ArrayList<>();
    public void getAllPaths(TreeNode node) {
        path.add(node); //è¿™ä¸ªå†™åœ¨ç¬¬ä¸€è¡Œ
        //2.stop
        if (node == null) {
            return;
        }
        // æ”¶é›†åˆ°ä¸€æ¡å®Œæ•´è·¯å¾„
        if (node.left == null && node.right == null) {
            pathList.add(new ArrayList<>(path));
        }
        //3.å•å±‚é€’å½’é€»è¾‘;æ ¹å·¦å³
        getAllPaths(node.left);
        path.remove(path.size() - 1); //æ¯æ¬¡é€’å½’å®Œä¸€æ¬¡åéœ€è¦å›æº¯ä¸€ä¸‹
        getAllPaths(node.right);
        path.remove(path.size() - 1);
    }
}
```



# ==46ã€å‰‘æŒ‡ Offer II 031. æœ€è¿‘æœ€å°‘ä½¿ç”¨ç¼“å­˜ï¼ˆæ‰‹å†™æ•°æ®ç»“æ„ï¼‰==

è¿ç”¨æ‰€æŒæ¡çš„æ•°æ®ç»“æ„ï¼Œè®¾è®¡å’Œå®ç°ä¸€ä¸ª [LRU (Least Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨) ç¼“å­˜æœºåˆ¶](https://baike.baidu.com/item/LRU) ã€‚

å®ç° `LRUCache` ç±»ï¼š

- `LRUCache(int capacity)` ä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ `capacity` åˆå§‹åŒ– LRU ç¼“å­˜

- `int get(int key)` å¦‚æœå…³é”®å­— `key` å­˜åœ¨äºç¼“å­˜ä¸­ï¼Œåˆ™è¿”å›å…³é”®å­—çš„å€¼ï¼Œå¦åˆ™è¿”å› `-1` ã€‚

- `void put(int key, int value)` å¦‚æœå…³é”®å­—å·²ç»å­˜åœ¨ï¼Œåˆ™å˜æ›´å…¶æ•°æ®å€¼ï¼›å¦‚æœå…³é”®å­—ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥è¯¥ç»„ã€Œå…³é”®å­—-å€¼ã€ã€‚å½“ç¼“å­˜å®¹é‡è¾¾åˆ°ä¸Šé™æ—¶ï¼Œå®ƒåº”è¯¥åœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰åˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„æ•°æ®å€¼ï¼Œä»è€Œä¸ºæ–°çš„æ•°æ®å€¼ç•™å‡ºç©ºé—´ã€‚

- å‡½æ•° `get` å’Œ `put` å¿…é¡»ä»¥ `O(1)` çš„å¹³å‡æ—¶é—´å¤æ‚åº¦è¿è¡Œã€‚

  

 **ç¤ºä¾‹ï¼š**

```java
è¾“å…¥
["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]
[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]
è¾“å‡º
[null, null, null, 1, null, -1, null, -1, 3, 4]

è§£é‡Š
LRUCache lRUCache = new LRUCache(2);
lRUCache.put(1, 1); // ç¼“å­˜æ˜¯ {1=1}
lRUCache.put(2, 2); // ç¼“å­˜æ˜¯ {1=1, 2=2}
lRUCache.get(1);    // è¿”å› 1
lRUCache.put(3, 3); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 2 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {1=1, 3=3}
lRUCache.get(2);    // è¿”å› -1 (æœªæ‰¾åˆ°)
lRUCache.put(4, 4); // è¯¥æ“ä½œä¼šä½¿å¾—å…³é”®å­— 1 ä½œåºŸï¼Œç¼“å­˜æ˜¯ {4=4, 3=3}
lRUCache.get(1);    // è¿”å› -1 (æœªæ‰¾åˆ°)
lRUCache.get(3);    // è¿”å› 3
lRUCache.get(4);    // è¿”å› 4
```



ã€åˆ†æã€‘åªä½¿ç”¨åŒå‘é“¾è¡¨ä¹Ÿå¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯getæ“ä½œå°±ä¸æ˜¯Oï¼ˆ1ï¼‰è¿è¡Œäº†ï¼Œå¯¹äºputæ“ä½œæ˜¯O(1)ã€‚åªä½¿ç”¨ä¸€ä¸ªMAPçš„è¯ï¼Œå¯ä»¥åšåˆ°getä¸ºOï¼ˆ1ï¼‰ï¼Œputä¸ºOï¼ˆ1ï¼‰ï¼Œä½†æ— æ³•çŸ¥é“é‡Œé¢keyçš„ä½¿ç”¨é¡ºåºã€‚å•å‘é“¾è¡¨ä¸è¡Œå“¦ï¼Œå› ä¸ºåŒå‘åˆ é™¤æŸä¸ªå·²çŸ¥èŠ‚ç‚¹æ—¶å¤æ‚åº¦ä¸ºO(1)ï¼Œåˆ é™¤å°¾èŠ‚ç‚¹ä¹Ÿæ˜¯O(1)ï¼Œè€Œå•å‘æ˜¯O(n)ï¼Œä»–ä¸èƒ½ç›´æ¥è·å–è¢«åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚

æ‰€ä»¥æˆ‘ä»¬ç»“åˆè¿™ä¸¤ç‚¹çš„ä¼˜åŠ¿ï¼Œå°†**æ¯ä¸ªkeyçš„ä½¿ç”¨é¡ºåºä¿¡æ¯å­˜å‚¨åœ¨åŒå‘é“¾è¡¨é‡Œé¢ï¼Œå¤´èŠ‚ç‚¹æ˜¯æœ€è¿‘ä½¿ç”¨çš„ï¼Œå°¾èŠ‚ç‚¹æ˜¯æœ€ä¹…æ²¡æœ‰ä½¿ç”¨çš„**ï¼Œ**MAPå­˜å‚¨çš„é”®å€¼å¯¹æ˜¯ `key: è¯¥keyçš„é“¾è¡¨èŠ‚ç‚¹`ï¼**

**å¯¹äºGETæ“ä½œï¼š**å…ˆå»MAPæ‰¾è¿™ä¸ªkeyï¼Œç›´æ¥O(1)å¾—åˆ°é“¾è¡¨èŠ‚ç‚¹ï¼Œç„¶åè·å–valueå€¼ï¼Œæœ€åå°†è¿™ä¸ªèŠ‚ç‚¹ä»é“¾è¡¨é‡Œåˆ é™¤å†æ’å…¥åˆ°å¤´éƒ¨ä½ç½®ï¼›ä¸€ç³»åˆ—æ“ä½œéƒ½æ˜¯Oï¼ˆ1ï¼‰å¤æ‚åº¦ã€‚

**å¯¹äºPUTæ“ä½œï¼š**å…ˆå»MAPæ‰¾è¿™ä¸ªkeyï¼Œ

- å¦‚æœå·²ç»å­˜åœ¨åˆ™è¦è¦†ç›–å…¶valueï¼Œç›´æ¥O(1)å¾—åˆ°é“¾è¡¨èŠ‚ç‚¹ï¼Œç„¶åä¿®æ”¹valueå€¼ï¼Œæœ€åå°†è¿™ä¸ªèŠ‚ç‚¹ä»é“¾è¡¨é‡Œåˆ é™¤å†æ’å…¥åˆ°å¤´éƒ¨ä½ç½®ï¼›
- å¦‚æœä¸å­˜åœ¨åˆ™å­˜å…¥æ–°ç¼“å­˜æ•°æ®ï¼Œæ–°å»ºä¸€ä¸ªèŠ‚ç‚¹listNodeï¼Œå­˜å…¥MAPé‡Œé¢ï¼Œå†å°†èŠ‚ç‚¹æ’å…¥é“¾è¡¨å¤´éƒ¨ä½ç½®ã€‚æœ€ååˆ¤æ–­æ˜¯å¦è¶…å‡ºå®¹é‡ï¼Œå¦‚æœè¶…å‡ºäº†å®¹é‡ï¼Œåˆ™åˆ é™¤å°¾å·´èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä»å°¾èŠ‚ç‚¹è·å–keyå»MAPé‡Œé¢åˆ é™¤å¯¹åº”çš„key-valueã€‚

ã€æ³¨æ„æ˜“é”™ç‚¹ã€‘

- 1ã€åŒå‘é“¾è¡¨èŠ‚ç‚¹è¦å­˜å‚¨ keyã€valueä¸¤ä¸ªå€¼ï¼Œå› ä¸ºåœ¨è¶…å‡ºå®¹é‡æ—¶éœ€è¦æŠŠmapé›†åˆå†…çš„é‚£ä¸ªkeyä¹Ÿè¦ç§»é™¤å‡ºå»ï¼›

- 2ã€å°†å·²å­˜åœ¨çš„èŠ‚ç‚¹ï¼Œç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªä½ç½®æ—¶ï¼Œè¦å…ˆåˆ é™¤èŠ‚ç‚¹åæ‰æ’å…¥èŠ‚ç‚¹ï¼ï¼ï¼å¦åˆ™ä¸­é—´å°±æ–­å¼€äº†ï¼Œå¾ˆéš¾æ’é™¤å‡ºæ¥é—®é¢˜ï¼›

- 3ã€ä¸ç”¨è€ƒè™‘nullçš„äºŒä¹‰æ€§é—®é¢˜äº†ï¼Œè¾“å…¥éƒ½æ˜¯åˆç†çš„ï¼Œä¸å¯èƒ½å­˜å‚¨nullçš„keyå’Œvalueï¼›

- 4ã€èŠ‚ç‚¹çš„ç§»åŠ¨åˆ é™¤æ“ä½œï¼Œå¯ä»¥å•ç‹¬æŠ½å‡ºæ¥ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ ·ä¸ä¼šå†™é”™ï¼›ä¸€å…±å°±ä¸‰ä¸ªæ–¹æ³•ï¼›

  - å°†èŠ‚ç‚¹æ’å…¥å¤´éƒ¨ä½ç½®ï¼›
  - å°†èŠ‚ç‚¹åˆ é™¤ï¼›
  - ç§»é™¤å°¾éƒ¨çš„èŠ‚ç‚¹ï¼›

  ã€æ³¨æ„ã€‘æ–°å»ºçš„èŠ‚ç‚¹æ’å…¥åˆ°å¤´éƒ¨ä½ç½®åªç”¨è°ƒä¸€ä¸ªæ–¹æ³•ï¼›

  â€‹				å·²ç»å­˜åœ¨èŠ‚ç‚¹ç§»åŠ¨åˆ°å¤´éƒ¨ä½ç½®ï¼Œéœ€è¦å…ˆåˆ é™¤ã€å†æ’å…¥ï¼Œè°ƒç”¨ä¸¤ä¸ªæ–¹æ³•ï¼›

```java
//å­˜é”®å€¼å¯¹ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨â€”â€”mapï¼Œä½†mapæ˜¯æ— åºçš„ï¼Œéœ€è¦æƒ³åŠæ³•è®©å…¶æœ‰åºæ‰è¡Œï¼Œè‚¯å®šä¸å¯èƒ½è®©è¿™ä¸ªé›†åˆæœ‰åºï¼Œåªèƒ½æƒ³ä¸€äº›å…¶ä»–åŠæ³•ï¼›
//linkedHashMapï¼šhashMap+åŒå‘é“¾è¡¨ã€‚å®ƒå¯ä»¥æŒ‰ä¸¤ç§é¡ºåºæ’åˆ—ï¼Œä¸€ç§æ˜¯æŒ‰ç…§æ’å…¥çš„é¡ºåºï¼Œä¸€ç§æ˜¯æŒ‰ç…§è¯»å–çš„é¡ºåºï¼›
//é€»è¾‘ï¼šputã€getè°ƒç”¨çš„ç¼“å­˜å°±æ˜¯æœ€æ–°çš„ç¼“å­˜ï¼Œéœ€è¦æ”¾åˆ°é“¾è¡¨çš„å¤´éƒ¨ï¼›
// mapé›†åˆï¼Œkeyâ€”â€”å­˜å…¥çš„keyï¼Œvalueâ€”â€”é“¾è¡¨èŠ‚ç‚¹ï¼ˆèŠ‚ç‚¹å†…å­˜äº†çœŸæ­£çš„valueï¼‰ï¼›ä¹‹æ‰€ä»¥ä½¿ç”¨åŒå‘é“¾è¡¨ï¼Œå› ä¸ºå®ƒåœ¨å·²çŸ¥äº†æŸä¸ªèŠ‚ç‚¹çš„åœ°å€åï¼Œå¯ä»¥O(1)æ“ä½œå®Œæˆç§»åŠ¨
class doubleListNode {
    public int val;
    public int key;
    public doubleListNode pre;
    public doubleListNode next;

    public doubleListNode(int key, int val) {
        this.key = key;
        this.val = val;
    }
}

public class LRUCache {

    //1. æˆå‘˜å˜é‡
    public int capacity; //ç¼“å­˜å®¹é‡
    public int size; //ç›®å‰å­˜å‚¨çš„æ•°æ®é‡
    private Map<Integer, doubleListNode> mapcache;
    private doubleListNode rhead;
    private doubleListNode tail;

    public LRUCache(int capacity) {
        this.capacity = capacity;
        this.size = 0;
        mapcache = new HashMap<>();
        //æˆ‘è‰ï¼Œè¿˜æœ‰ä¸€ä¸ªåŒå‘é“¾è¡¨éœ€è¦å®šä¹‰ï¼Œä½†è¿™ä¸ªé“¾è¡¨å¯¹å¤–å…¶å®æ˜¯ä¸å¯è§çš„ï¼Œæˆ‘ä»¬å°±ç›´æ¥åœ¨å†…éƒ¨å†™å°±è¡Œäº†ï¼Œå¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹
        rhead = new doubleListNode(-1, -1);
        tail = new doubleListNode(-1, -1);
        rhead.next = tail;
        tail.pre = rhead;
    }

    //åŒå‘é“¾è¡¨çš„æ–¹æ³•ï¼ŒæŠ½å‡ºæ¥çš„
    //1ã€ä¼ å…¥è¦æ’å…¥çš„èŠ‚ç‚¹ï¼Œå°†å…¶æ’å…¥åˆ°å¤´éƒ¨ç¬¬ä¸€ä¸ªä½ç½®
    public void addToHead(doubleListNode node){
        doubleListNode temp = rhead.next;
        rhead.next = node;
        node.pre = rhead;
        node.next = temp;
        temp.pre = node;
    }
    //2ã€ä¼ å…¥è¢«åˆ é™¤çš„èŠ‚ç‚¹ï¼Œå°†å…¶åˆ é™¤ï¼Œè¿”å›è¢«åˆ é™¤çš„èŠ‚ç‚¹
    public void removeNode(doubleListNode node){
        node.pre.next = node.next;
        node.next.pre = node.pre;
    }
    //3ã€ç›´æ¥åˆ é™¤å°¾éƒ¨çš„èŠ‚ç‚¹ï¼Œè¿”å›è¢«åˆ é™¤çš„èŠ‚ç‚¹;
    public doubleListNode removeToTail(){
        doubleListNode node = tail.pre;
        removeNode(node);
        return node;
    }

    public int get(int key) {
        doubleListNode node = mapcache.get(key);
        if (node == null) return -1;
        //nodeå­˜åœ¨ï¼Œåˆ™éœ€è¦ç§»åŠ¨å®ƒçš„ä½ç½®åˆ°é“¾è¡¨å¤´éƒ¨
        removeNode(node);
        addToHead(node);
        return node.val;
    }

    public void put(int key, int value) {
        //putæ“ä½œï¼š1ã€åˆ¤æ–­æ˜¯å¦å·²æœ‰ï¼Œæœ‰å°±è¦†ç›–èŠ‚ç‚¹é‡Œé¢çš„valï¼Œå¹¶ä¸”ç§»åŠ¨èŠ‚ç‚¹åˆ°å¤´éƒ¨
        //2ã€æ²¡æœ‰å°±æ–°å»ºèŠ‚ç‚¹ï¼Œå­˜å…¥mapï¼Œå¹¶ä¸”ç§»åŠ¨åˆ°å¤´éƒ¨
        //3ã€æœ€åè¦åˆ¤æ–­æ˜¯å¦è¶…å‡ºå®¹é‡äº†
        doubleListNode node = mapcache.get(key);
        if (node == null) {
            doubleListNode newNode = new doubleListNode(key, value);
            mapcache.put(key, newNode);
            //å°†newNodeæ’åˆ°é“¾è¡¨ç¬¬ä¸€ä¸ªä½ç½®
            addToHead(newNode);
            this.size++;
            //åˆ¤æ–­æ˜¯å¦è¶…å‡ºå®¹é‡ï¼Œè¶…å‡ºåˆ™éœ€è¦è¸¢å‡ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒæ—¶ç§»é™¤mapçš„ç¼“å­˜
            if (size > capacity) {
                doubleListNode removenode = removeToTail();
                mapcache.remove(removenode.key);
                this.size--;
            }
        } else {
            node.val = value;
            //nodeå­˜åœ¨ï¼Œåˆ™éœ€è¦ç§»åŠ¨å®ƒçš„ä½ç½®åˆ°é“¾è¡¨å¤´éƒ¨
            //1.å°†nodeç§»é™¤å‡ºå»
            removeNode(node);
            //2.å°†nodeæ’åˆ°é“¾è¡¨ç¬¬ä¸€ä¸ªä½ç½®
            addToHead(node);
        }
    }

}
```

ã€ç›´æ¥å€Ÿç”¨LinkedHashMapã€‘

```java
class LRUCache extends LinkedHashMap<Integer, Integer>{
    private int capacity;
    
    public LRUCache(int capacity) {
        super(capacity, 0.75F, true);
        this.capacity = capacity;
    }

    public int get(int key) {
        return super.getOrDefault(key, -1);
    }

    public void put(int key, int value) {
        super.put(key, value);
    }

    @Override
    protected boolean removeEldestEntry(Map.Entry<Integer, Integer> eldest) {
        return size() > capacity; 
    }
}
```





# 47ã€621. ä»»åŠ¡è°ƒåº¦å™¨





# 48ã€å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦



è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹ä¾æ¬¡ç»è¿‡çš„èŠ‚ç‚¹ï¼ˆå«æ ¹ã€å¶èŠ‚ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚

ä¾‹å¦‚ï¼š

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`ï¼Œ

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å›å®ƒçš„æœ€å¤§æ·±åº¦ 3 ã€‚

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 * int val;
 * TreeNode left;
 * TreeNode right;
 * TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    //ååºï¼Œè¿”å›å€¼æ˜¯è¯¥èŠ‚ç‚¹çš„é«˜åº¦
    public int maxDepth(TreeNode root) {
        if (root == null) return 0;
        int leftDepth = maxDepth(root.left);
        int rightDepth = maxDepth(root.right);
        int maxDepth = Math.max(leftDepth, rightDepth) + 1;
        return maxDepth;
    }
}
```



# 49ã€å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°

ä¸€ä¸ªæ•´å‹æ•°ç»„ `nums` é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚

**é™åˆ¶ï¼š**

- `2 <= nums.length <= 10000`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [4,1,4,6]
è¾“å‡ºï¼š[1,6] æˆ– [6,1]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,10,4,1,4,3,3]
è¾“å‡ºï¼š[2,10] æˆ– [10,2]
```

```java
class Solution49{
    public int[] getResult(int[] nums){
        //ä¸å¯èƒ½å°äº2
        int[] res = new int[2];
        //
        Map<Integer, Integer> map = new HashMap<>();
        for (int num : nums) {
            if (map.containsKey(num)){
                map.put(num,map.get(num)+1);
            }else {
                map.put(num,1);
            }
        }
        //éå†mapï¼Œå–å‡º
        int i = 0;
        Set<Map.Entry<Integer, Integer>> entries = map.entrySet();
        for (Map.Entry<Integer, Integer> entry : entries) {
            if (entry.getValue()==1){
                res[i++] = entry.getKey();
            }
        }
        return res;
    }
}
```





# 50ã€å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II

åœ¨ä¸€ä¸ªæ•°ç»„ `nums` ä¸­é™¤ä¸€ä¸ªæ•°å­—åªå‡ºç°ä¸€æ¬¡ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸‰æ¬¡ã€‚è¯·æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,4,3,3]
è¾“å‡ºï¼š4
```





# 51ã€å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­—

è¾“å…¥ä¸€ä¸ªé€’å¢æ’åºçš„æ•°ç»„å’Œä¸€ä¸ªæ•°å­—sï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸¤ä¸ªæ•°ï¼Œä½¿å¾—å®ƒä»¬çš„å’Œæ­£å¥½æ˜¯sã€‚å¦‚æœæœ‰å¤šå¯¹æ•°å­—çš„å’Œç­‰äºsï¼Œåˆ™è¾“å‡ºä»»æ„ä¸€å¯¹å³å¯ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [2,7,11,15], target = 9
è¾“å‡ºï¼š[2,7] æˆ–è€… [7,2]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [10,26,30,31,47,60], target = 40
è¾“å‡ºï¼š[10,30] æˆ–è€… [30,10]
```



ã€ä¸¤æ•°ä¹‹å’Œå•Šã€‘å“ˆå¸Œè¡¨åšå³å¯ã€‚

```java
class Solution51{
    public int[] getResult(int[] nums, int target){
        //ä½¿ç”¨å“ˆå¸Œè¡¨åšï¼Œç›´æ¥è¾“å‡ºæ•°å­—å³å¯ï¼Œä½¿ç”¨Setï¼›åŠ æ³•å˜å‡æ³•
        Set<Integer> set = new HashSet<>();
        int[] res = new int[2];
        for (int num : nums) {
            if (num>target) return new int[0];
            if (set.contains(target-num)){
                res[0] = num;
                res[1] = target-num;
                return res;
            }else {
                set.add(num);
            }
        }
        return new int[0];
    }
}
```



# ==52ã€é¢è¯•é¢˜45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•°==

è¾“å…¥ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼ŒæŠŠæ•°ç»„é‡Œæ‰€æœ‰æ•°å­—æ‹¼æ¥èµ·æ¥æ’æˆä¸€ä¸ªæ•°ï¼Œæ‰“å°èƒ½æ‹¼æ¥å‡ºçš„æ‰€æœ‰æ•°å­—ä¸­æœ€å°çš„ä¸€ä¸ªã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [10,2]
è¾“å‡º: "102"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [3,30,34,5,9]
è¾“å‡º: "3033459"
```

**æç¤º:**

- `0 < nums.length <= 100`





ã€æ€è·¯ã€‘å…ˆæ‹¿ä¸€ä¸ªä¾‹å­è¿›è¡Œåˆ†æï¼š

<img src="images/image-20230407231616079.png" alt="image-20230407231616079" style="zoom: 67%;" />

å°±æ˜¯ï¼Œæˆ‘ä»¬è¦æ¯”è¾ƒæ‰€æœ‰æ•°ç»„å…ƒç´ çš„ç¬¬ä¸€ä¸ªæ•°ä½ï¼Œæ‰¾å‡ºæœ€å°çš„é‚£ä¸ªå…ƒç´ å°±æ˜¯æœ€åç»“æœçš„ç¬¬ä¸€ä¸ªä½ç½®ï¼›å‡å¦‚æœ‰å¤šä¸ªå…ƒç´ ç¬¬ä¸€ä¸ªæ•°ä½ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±ä¾æ¬¡ç±»æ¨ï¼Œæ¯”è¾ƒç¬¬äºŒä¸ªæ•°ä½ï¼Œæ‰¾åˆ°æœ€å°çš„ï¼Œæ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ã€‚æ‰€ä»¥æˆ‘ä»¬çŸ¥é“äº†ï¼Œé—®é¢˜çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ’åºï¼Œæ’åºçš„è§„åˆ™æ˜¯ä»é«˜åˆ°ä½æ¯”è¾ƒæ•°ä½ï¼›é‡‡ç”¨é«˜çº§æ’åºç®—æ³•å®ç°ï¼Œå¦‚å¿«æ’ã€å †æ’ã€å½’å¹¶æ’åºã€å¸Œå°”æ’åºã€‚å †æ’æœ‰ä¼˜å…ˆé˜Ÿåˆ—çš„å®ç°ï¼Œè¿˜æœ‰Arrays.sortçš„å®ç°ï¼›

æœ€åæ¯”è¾ƒè§„åˆ™å¦‚ä½•åˆ¶å®šï¼Ÿä¸å¯èƒ½ä¸€ä¸ªä¸ªæ‹†åˆ†æ•°ä½å§ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå¥½çš„åŠæ³•ï¼Œå°±æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²çš„æ¯”è¾ƒå¤§å°è§„åˆ™ï¼ŒString.compareTo(String s)ï¼›"123445" < "2"ï¼Œä»ç¬¬ä¸€ä½å¼€å§‹ä¾æ¬¡æ¯”è¾ƒï¼Œåˆšå¥½æ»¡è¶³æˆ‘ä»¬éœ€è¦çš„æ•°ä½é«˜åˆ°ä½æ¯”è¾ƒï¼

**æ‰€ä»¥æˆ‘ä»¬å°†åŸæ•°å­—æ•°ç»„ï¼Œå˜æˆä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œç„¶åæŒ‰ç…§ä»å°åˆ°å¤§è¿›è¡Œæ’åºåï¼Œæ‹¼æ¥èµ·æ¥å³å¯ã€‚**

ä½†æ˜¯å‡ºé”™äº†

<img src="images/image-20230409231856710.png" alt="image-20230409231856710" style="zoom:80%;" />

åŸå› æ˜¯åœ¨ å­—ç¬¦ä¸²çš„å¤§å°æ¯”è¾ƒä¸­ï¼Œ"3" < "30" çš„ï¼Œä½†æˆ‘ä»¬å®é™…æ˜¯30æ”¾åœ¨å‰é¢ï¼Œå› ä¸º303 å’Œ330è¿™é‡Œåº”è¯¥æ˜¯30æ”¾åœ¨å‰é¢ï¼Œ==æ‰€ä»¥ä¸Šé¢çš„æ’åºè§„åˆ™é”™è¯¯ï¼ï¼ï¼==

==æ’åºè§„åˆ™æ˜¯ï¼šä¸¤ä¸ªç›¸é‚»ä½ç½®o1ã€o2çš„å­—ç¬¦ä¸²ï¼Œå¦‚æœo1+o2å­—ç¬¦ä¸² >o2+o1å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆo1ã€o2è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²åœ¨æ•°ç»„äº¤æ¢ä½ç½®==ï¼ˆå¦‚3ã€30ï¼Œ330>303ï¼Œæ‰€ä»¥äº¤æ¢ä½ç½®å˜æˆ 30ã€3ï¼‰ã€‚ç„¶åä¾æ¬¡æ¯”è¾ƒå®é™…ä¸Šå°±æ˜¯æ’åºç®—æ³•ï¼Œä¾æ¬¡å°†æœ€å¤§çš„æ”¾åœ¨åé¢ã€‚

```java
// æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ’åºï¼Œä½†è¿™ä¸ªæ’åºè§„åˆ™æœ‰å¾ˆå¤šå‘
// æŒ‰ç…§ç‰¹å®šçš„æ’åºè§„åˆ™ä»å°åˆ°å¤§å³å¯ï¼›
// è§„åˆ™å°±æ˜¯ return ("o1"+"o2").compareTo("o2"+"o1")
// æ„æ€å°±æ˜¯ "o1o2"å­—ç¬¦ä¸²å¤§äº"o2o1"çš„è¯å°±äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ã€‚æœ€åå°±æ˜¯å°†æœ€å¤§çš„ç»„åˆå…ƒç´ æ–¹å¼æ‰”åˆ°æœ€åé¢ï¼ˆå†’æ³¡ç±»ä¼¼ï¼‰
// æ³¨æ„åˆ°Arrays.sort()è‡ªå®šä¹‰æ’åºè§„åˆ™åªèƒ½é’ˆå¯¹æ³›å‹è¿›è¡Œæ’åºå“¦ï¼å“å‘€ç›´æ¥stringç±»å‹æ•°ç»„èµ°èµ·

public String getResult(int[] nums){
    List<String> stringList = new ArrayList<>();
    for (int num : nums) {
        stringList.add(""+num);
    }
    Collections.sort(stringList,((o1, o2) -> (o1+o2).compareTo(o2+o1)));
  
  //è¾“å‡º
    StringBuilder stringBuilder = new StringBuilder();
    for (String s : stringList) {
        stringBuilder.append(s);
    }
    return stringBuilder.toString();
}
```





# 53ã€å¿«ä¹æ•°

ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° `n` æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚

**ã€Œå¿«ä¹æ•°ã€** å®šä¹‰ä¸ºï¼š

- å¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚
- ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ **æ— é™å¾ªç¯** ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚
- å¦‚æœè¿™ä¸ªè¿‡ç¨‹ **ç»“æœä¸º** 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚

å¦‚æœ `n` æ˜¯ *å¿«ä¹æ•°* å°±è¿”å› `true` ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› `false` ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 19
è¾“å‡ºï¼štrue
è§£é‡Šï¼š
12 + 92 = 82
82 + 22 = 68
62 + 82 = 100
12 + 02 + 02 = 1
```



# ==54ã€æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²==

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚å­ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­æ˜¯è¿ç»­çš„ã€‚

- `0 <= s.length <= 5 * 104`
- `s` ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```



ã€DPæ³•ï¼Ÿå­åºåˆ—é—®é¢˜ï¼Ÿã€‘

NOï¼Œä»”ç»†åˆ†æä½ ä¼šå‘ç°dpæ³•æ— æ³•è§£å†³ï¼Œå› ä¸ºæ˜¯æ±‚è¿ç»­çš„ï¼Œæ‰€ä»¥ä¸€å®šæ˜¯ä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾çš„æƒ…å†µï¼Œç„¶ååªèƒ½å’Œå‰ä¸€ä¸ªå…ƒç´ çš„dpå¯¹æ¯”ï¼Œä½†æ˜¯è¿™ä¸¤è€…æ²¡æœ‰é€’æ¨å…³ç³»ã€‚

æ‰€ä»¥è¿™é“é¢˜åªèƒ½æš´åŠ›å»è§£ï¼Œä¸¤ä¸ªforçš„ä¼˜åŒ–â€”â€”é‡‡ç”¨æ»‘åŠ¨çª—å£å¯è§£ï¼›

==for + while æˆ–è€… while + while éƒ½å¯ä»¥==

```java
public class æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        String s = sc.nextLine();
        getRes(s);
    }

    //
    public static int getRes(String s) {
        //ä½¿ç”¨ä¸€ä¸ªSetè®°å½•çª—å£å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œæ¥åˆ¤æ–­æ˜¯å¦é‡å¤
        char[] chars = s.toCharArray();
        int left = 0;
        int MaxLen = 0;
        Set<Character> set = new HashSet<>();
      
        for (int i = 0; i < chars.length; i++) {// iâ€”â€”ç»“æŸä½ç½®
            if (!set.contains(chars[i])) {
                set.add(chars[i]);
                MaxLen = Math.max(MaxLen, i - left + 1);
            } else {
                //æ­¤æ—¶iç´¢å¼•å…ƒç´ æ²¡æœ‰åŠ å…¥æ»‘åŠ¨çª—å£ï¼Œè¿™é‡Œéœ€è¦ä¸€ç›´ç§»åŠ¨åˆ°leftæŒ‡é’ˆæ»¡è¶³è¦æ±‚çš„ä½ç½®
                while (set.contains(chars[i])) {
                    set.remove(chars[left]); 
                    left++;
                }
              //æœ€ååŠ å…¥iç´¢å¼•å…ƒç´ 
                set.add(chars[i]);
                Maxlen = Math.max(i - left + 1, Maxlen);
            }
        }
        System.out.println(MaxLen);
        return MaxLen;
    }
}
```



# ==55ã€å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—==

è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° `target` ï¼Œè¾“å‡ºæ‰€æœ‰å’Œä¸º `target` çš„è¿ç»­æ­£æ•´æ•°åºåˆ—ï¼ˆè‡³å°‘å«æœ‰ä¸¤ä¸ªæ•°ï¼‰ã€‚

åºåˆ—å†…çš„æ•°å­—ç”±å°åˆ°å¤§æ’åˆ—ï¼Œä¸åŒåºåˆ—æŒ‰ç…§é¦–ä¸ªæ•°å­—ä»å°åˆ°å¤§æ’åˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štarget = 9
è¾“å‡ºï¼š[[2,3,4],[4,5]]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼štarget = 15
è¾“å‡ºï¼š[[1,2,3,4,5],[4,5,6],[7,8]]
```

**é™åˆ¶ï¼š**

- `1 <= target <= 10^5`

ã€éå›æº¯è§£æ³•ã€‘å›æº¯æ±‚è§£çš„ç»„åˆã€æ’åˆ—ã€å­é›†ã€åˆ†å‰²ã€æ£‹ç›˜éƒ½ä¸æ˜¯è¿ç»­çš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨æ»‘åŠ¨çª—å£è§£æ³•ï¼Œæˆ‘è§‰å¾—å¯ä»¥ï¼

```java
public class å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ— {
    public static void main(String[] args) {
        getRes(15);
    }
    
    public static ArrayList<ArrayList<Integer> > FindContinuousSequence(int sum) {
        //å¯é€‰åŒºèŒƒå›´æ˜¯[1, sum/2 +1]ï¼Œå› ä¸ºæœ€å°‘ä¸¤ä¸ªæ•°
        int[] nums = new int[sum / 2 + 2];
        int x = 1;
        for(int i=0; i<nums.length; i++){
            nums[i] = x++;
        }
        //æ»‘åŠ¨çª—å£å¼€å§‹ï¼Œfor+æŒ‡é’ˆ
        int start = 0;
        int pathSum = 0;
        ArrayList<Integer> path = new ArrayList<>();
        ArrayList<ArrayList<Integer> > pathList = new ArrayList<>();
        for (int i = 0; i < nums.length; i++) { //çª—å£ç»ˆæ­¢ä½ç½®
            pathSum += nums[i];
            path.add(nums[i]);
            if (pathSum == sum && path.size()>=2) {
                pathList.add(new ArrayList<>(path));
            }
            if (pathSum > sum) {
                // å¾ªç¯ç¼©å°å¼€å§‹åŒºé—´
                while (pathSum > sum) {
                    pathSum -= nums[start];
                    path.remove(0);
                    start++;
                }
                //æ³¨æ„ï¼Œè¿™é‡Œå®¹æ˜“æ¼æ‰
                if (pathSum == sum && path.size()>=2) {
                    pathList.add(new ArrayList<>(path));
                }
            }
        }

        return pathList;
    }
}
```





# 56ã€å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²



ç»™å®šä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹è§„åˆ™æŠŠå®ƒç¿»è¯‘ä¸ºå­—ç¬¦ä¸²ï¼š0 ç¿»è¯‘æˆ â€œaâ€ ï¼Œ1 ç¿»è¯‘æˆ â€œbâ€ï¼Œâ€¦â€¦ï¼Œ11 ç¿»è¯‘æˆ â€œlâ€ï¼Œâ€¦â€¦ï¼Œ25 ç¿»è¯‘æˆ â€œzâ€ã€‚ä¸€ä¸ªæ•°å­—å¯èƒ½æœ‰å¤šä¸ªç¿»è¯‘ã€‚è¯·ç¼–ç¨‹å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°å­—æœ‰å¤šå°‘ç§ä¸åŒçš„ç¿»è¯‘æ–¹æ³•ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 12258
è¾“å‡º: 5
è§£é‡Š: 12258æœ‰5ç§ä¸åŒçš„ç¿»è¯‘ï¼Œåˆ†åˆ«æ˜¯"bccfi", "bwfi", "bczi", "mcfi"å’Œ"mzi"
```

**æç¤ºï¼š**

- `0 <= num < 231`

ã€åˆ†å‰²é—®é¢˜ã€‘

- startIndexâ€”â€”åˆ†å‰²çº¿ï¼Œæ¯æ¬¡åˆ†å‰²å‡ºçš„éƒ¨åˆ†ã€startIndex, iã€‘ï¼Œå°†numè½¬æ¢æˆStringåšï¼Œå› ä¸ºæ–¹ä¾¿è·å–substringï¼›
- åˆ†å‰²çº¿å°±æ˜¯æŒ‡çš„ç´¢å¼•ï¼Œæ‰€ä»¥ç»“æŸæ¡ä»¶ä¸ºstartIndex == num.length()ï¼Œç›´æ¥æ”¾å…¥æœ€åç»“æœé›†ï¼Œæ¡ä»¶æ»¡è¶³æ”¾åˆ°å›æº¯çš„foré‡Œé¢ã€‚

```java
public class æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸² {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int num = sc.nextInt();
        getRes(num);
    }

    /**
     * [[5, 0, 6], [5, 06]] ç¬¬äºŒç§æ–¹æ¡ˆä¸æˆç«‹ï¼Œå› ä¸ºæ²¡æœ‰ 06 å¯¹åº”çš„å­—ç¬¦ï¼Œè¿™ä¸ªé¢˜ç›®æ²¡æœ‰æ˜ç¡®è¯´å•Šï¼Œæœ‰é—®é¢˜å‡ºçš„ï¼Œæµ‹è¯•ç”¨ä¾‹æ˜¯è¿™æ ·å†™çš„
     */
    //è¿™æ˜¯ä¸€ä¸ªè¿ç»­åˆ‡å‰²é—®é¢˜å•Šï¼Œé—®å¤šå°‘ç§åˆ‡å‰²æ–¹æ¡ˆè®©åˆ‡å‰²å‡ºçš„å…ƒç´ å‡æ»¡è¶³è¦æ±‚ã€‚å›æº¯æ³•
    //startIndexâ€”â€”åˆ†å‰²çº¿ï¼Œæ¯æ¬¡åˆ†å‰²å‡ºçš„éƒ¨åˆ†ã€startIndex, iã€‘ï¼Œå°†numè½¬æ¢æˆStringåšï¼Œå› ä¸ºæ–¹ä¾¿è·å–substring
    public static int getRes(int num) {
        backTracking(String.valueOf(num),0);
        System.out.println(pathList.size());
        System.out.println(pathList);
        return pathList.size();
    }

    public static List<String> path = new ArrayList<>();
    public static List<List<String>> pathList = new ArrayList<>();

    // startIndexâ€”â€”æ—¢æ˜¯åˆ†å‰²çº¿ï¼Œä¹Ÿæ˜¯æ•°æ®é›†åˆ‡æ¢
    public static void backTracking(String num, int startIndex) {
        //2.stop
        if (startIndex == num.length()) {
            pathList.add(new ArrayList<>(path));
            return;
        }
        //3.å›æº¯è¿‡ç¨‹ï¼ˆå¤„ç†é€’å½’å›æº¯ï¼‰
        for (int i = startIndex; i < num.length(); i++) {
            //åˆ¤æ–­å‰ªæ; æœ€å¤šä¸¤ä½ï¼Œç„¶åå¤§å°ä¸è¶…è¿‡25
            String substring = num.substring(startIndex, i + 1);
            if (Integer.parseInt(substring) > 25 || i - startIndex + 1 > 2) {
                continue;
            }
            //åŠ ä¸€ä¸ªåˆ¤æ–­[[5, 0, 6], [5, 06]]çš„ï¼Œå³ä¸¤ä¸ªæ•°ä½æ˜¯ç¬¬ä¸€ä½ä¸èƒ½ä¸º0
            if (i-startIndex+1 == 2 && num.charAt(startIndex)=='0'){
                continue;
            }
            path.add(substring);
            backTracking(num, i + 1);
            path.remove(path.size()-1);
        }
    }
}
```

ã€è§£æ³•äºŒï¼šDPã€‘å› ä¸ºåªéœ€è¦æ±‚å‡ºæœ€åçš„æ–¹æ¡ˆæ•°ï¼Œä¸éœ€è¦åˆ†å‰²çš„å…·ä½“æ–¹æ¡ˆï¼Œæ‰€ä»¥è¯•è¯•DPèƒ½ä¸èƒ½è¡Œã€‚

è¿™é‡Œæ˜¯è¿ç»­çš„åˆ†å‰²æƒ…å†µå“¦ï¼Œæˆ‘ä»¬è¯•è¯•å“ˆï¼›

```java
/**
 * DP è§£æ³•
 */
public static int getResDP(int num) {
    String s = String.valueOf(num);
    int n = s.length();
    //1ã€dp[i] ï¼šå‰iä¸ªæ•°å­—ä¸åŒçš„ç¿»è¯‘æ–¹æ¡ˆæ•°ï¼›æ±‚dp[n]
    int[] dp = new int[n + 1];

    //3.
    dp[0] = 1; //ä»£å…¥dp[2]æ±‚å‡º
    dp[1] = 1;

    //2ã€
    // ç¬¬iä¸ªæ•°å­—ï¼Œæœ¬èº«å¯ä»¥è‡ªå·±ç¿»è¯‘ï¼Œé‚£ä¹ˆå°±æ˜¯æœ‰ dp[i-1];
    // å¦‚æœç¬¬iä¸ªæ•°å­—å’Œç¬¬i-1ä¸ªæ•°å­—ï¼Œä¸¤ä¸ªç»„åˆä¹Ÿå¯ä»¥æˆåŠŸç¿»è¯‘ï¼Œé‚£ä¹ˆå°±æ˜¯æœ‰ dp[i-2] + dp[i-1]; ä¸å¯ä»¥æˆåŠŸï¼Œé‚£å°±æ˜¯dp[i-1]ï¼›
    for (int i = 2; i < dp.length; i++) {
        // iâ€”â€”å‰iä¸ªæ•°å­—ï¼Œå½“å‰æ•°å­—çš„ç´¢å¼•æ˜¯i-1
        if (Integer.parseInt(s.substring(i - 2, i)) > 25 || s.charAt(i - 2) == '0') {
            //ä¸æ»¡è¶³
            dp[i] = dp[i - 1];
        } else {
            dp[i] = dp[i - 2] + dp[i - 1];
        }
    }
    System.out.println(dp[n]);
    return dp[n];
}
```



# ==57ã€å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹==

è¾“å…¥ä¸¤ä¸ªé“¾è¡¨ï¼Œæ‰¾å‡ºå®ƒä»¬çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ã€‚

å¦‚ä¸‹é¢çš„ä¸¤ä¸ªé“¾è¡¨**ï¼š**

[<img src="images/160_statement.png" alt="img" style="zoom: 67%;" />](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/12/14/160_statement.png)

åœ¨èŠ‚ç‚¹ c1 å¼€å§‹ç›¸äº¤ã€‚

 ã€ç»å…¸é¢˜ç›®ã€‘ä¸¤ä¸ªèŠ‚ç‚¹ä¸€èµ·è·‘ã€‚Aè·‘å®Œæœ‰æ•ˆèŠ‚ç‚¹å**åˆ°è¾¾nullèŠ‚ç‚¹æ—¶ï¼Œä¹Ÿè¦è¿›è¡Œåˆ¤æ–­ï¼Œä¸è¦ç›´æ¥è·³åˆ°Bçš„å¤´èŠ‚ç‚¹äº†ï¼Œå¦åˆ™é™·å…¥æ­»å¾ªç¯äº†ã€‚**

```java
class Solution57{
    public ListNode getRes(ListNode headA, ListNode headB){
        //åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨ä¸ºç©ºæƒ…å†µ
        if (headA==null || headB==null) return null;
        //ä¸¤ä¸ªèŠ‚ç‚¹ä¸€èµ·è·‘ï¼Œå…ˆè·‘è‡ªå·±çš„éƒ¨åˆ†ï¼Œå†è·‘åˆ«äººçš„éƒ¨åˆ†ï¼Œç»ˆæ­¢æ¡ä»¶æ˜¯ä¸¤ä¸ªæŒ‡é’ˆç›¸ç­‰ A==B
        //ç›´æ¥éå†å³å¯ï¼Œå…¶å®ä¸éœ€è¦è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œå¤„ç†tempå³å¯ï¼Œtempï¼=null
        ListNode tempA = headA;
        ListNode tempB = headB;
        while (true){
            if (tempA == tempB){
                //æ‰¾åˆ°äº†ï¼Œè¦ä¹ˆä¸ºä¸€ä¸ªèŠ‚ç‚¹è¦ä¹ˆä¸ºnull
                return tempA;
            }
            if (tempA == null){
                tempA = headB;
            }else {
                tempA = tempA.next;
            }
            if (tempB==null){
                tempB = headA;
            }else {
                tempB = tempB.next;
            }
        }
    }
}
```



# 58ã€å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼

åœ¨ä¸€ä¸ª m*n çš„æ£‹ç›˜çš„æ¯ä¸€æ ¼éƒ½æ”¾æœ‰ä¸€ä¸ªç¤¼ç‰©ï¼Œæ¯ä¸ªç¤¼ç‰©éƒ½æœ‰ä¸€å®šçš„ä»·å€¼ï¼ˆä»·å€¼å¤§äº 0ï¼‰ã€‚ä½ å¯ä»¥ä»æ£‹ç›˜çš„å·¦ä¸Šè§’å¼€å§‹æ‹¿æ ¼å­é‡Œçš„ç¤¼ç‰©ï¼Œå¹¶æ¯æ¬¡å‘å³æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€ç›´åˆ°åˆ°è¾¾æ£‹ç›˜çš„å³ä¸‹è§’ã€‚ç»™å®šä¸€ä¸ªæ£‹ç›˜åŠå…¶ä¸Šé¢çš„ç¤¼ç‰©çš„ä»·å€¼ï¼Œè¯·è®¡ç®—ä½ æœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘ä»·å€¼çš„ç¤¼ç‰©ï¼Ÿ

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 
[
  [1,3,1],
  [1,5,1],
  [4,2,1]
]
è¾“å‡º: 12
è§£é‡Š: è·¯å¾„ 1â†’3â†’5â†’2â†’1 å¯ä»¥æ‹¿åˆ°æœ€å¤šä»·å€¼çš„ç¤¼ç‰©
```

æç¤ºï¼š

- `0 < grid.length <= 200`
- `0 < grid[0].length <= 200`

```java
public class ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ {
    public static void main(String[] args) {
        int[][] grid = new int[][]{
                {1,2},
                {5,6},
                {1,1}
        };
        getRes(grid);
    }

    public static int getRes(int[][] grid) {
        //
        if (grid.length==0 || grid[0].length==0) return 0;
        //1ã€dp[i][j] åˆ°è¾¾è¯¥æ£‹ç›˜ç´¢å¼•[i,j]ä½ç½®èƒ½æ‹¿åˆ°çš„æœ€å¤§ä»·å€¼ï¼›
        int m = grid.length;
        int n = grid[0].length;
        int[][] dp = new int[m][n];

        //3.chushihua
        dp[0][0] = grid[0][0];
        int sum = grid[0][0];
        for (int i = 1; i < n; i++) {
            sum += grid[0][i];
            dp[0][i] = sum;
        }
        sum = grid[0][0];
        for (int i = 1; i < m; i++) {
            sum += grid[i][0];
            dp[i][0] = sum;
        }
        //2ã€dp[i][j]: MAX(dp[i-1][j]+ å½“å‰ä½ç½®çš„ç¤¼ç‰©ï¼Œ(dp[i][j-1]+ å½“å‰ä½ç½®çš„ç¤¼ç‰© ï¼‰
        for (int i = 1; i <dp.length; i++) {
            for (int j =1; j <dp[0].length; j++) {
                dp[i][j] = Math.max(dp[i - 1][j] + grid[i][j], dp[i][j - 1] + grid[i][j]);
            }
        }
        System.out.println(dp[m-1][n-1]);
        return dp[m-1][n-1];
    }
}
```



# 59ã€å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº

è¾“å…¥ä¸€ä¸ªè‹±æ–‡å¥å­ï¼Œç¿»è½¬å¥å­ä¸­å•è¯çš„é¡ºåºï¼Œä½†å•è¯å†…å­—ç¬¦çš„é¡ºåºä¸å˜ã€‚ä¸ºç®€å•èµ·è§ï¼Œæ ‡ç‚¹ç¬¦å·å’Œæ™®é€šå­—æ¯ä¸€æ ·å¤„ç†ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²"I am a student. "ï¼Œåˆ™è¾“å‡º"student. a am I"ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: "the sky is blue"
è¾“å‡º: "blue is sky the"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: "  hello world!  "
è¾“å‡º: "world! hello"
è§£é‡Š: è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚
```

```java
public class ç¿»è½¬å•è¯é¡ºåº {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        String s = sc.nextLine();
        getRes(s);
    }
    //
    public static String getRes(String s){
        //1.
        s = s.trim();
        if (s.length()==0) return "";
        String[] split = s.split(" ");
        StringBuilder stringBuilder = new StringBuilder();
        for (int i = split.length-1; i >=0 ; i--) {
            if (!split[i].equals("")){
                stringBuilder.append(split[i]).append(" ");
            }
        }
        stringBuilder.deleteCharAt(stringBuilder.length()-1);
        String resString = stringBuilder.toString();
        System.out.println(resString);
        return resString;

    }
}
```

ã€

# 60ã€å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I

ç»Ÿè®¡ä¸€ä¸ªæ•°å­—åœ¨æ’åºæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚

 **æç¤ºï¼š**

- `0 <= nums.length <= 105`
- `-109 <= nums[i] <= 109`
- `nums` æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„
- `-109 <= target <= 109`

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [5,7,7,8,8,10], target = 8
è¾“å‡º: 2
```

```java
public class åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—1 {
     public static void main(String[] args) {

     }
     public static int getRes(int[] nums, int target){
          //ç›´æ¥éå†
          int res = 0;
          for (int i = 0; i < nums.length; i++) {
               if (nums[i]==target){
                    res++;
                    i++;
                    while (i<nums.length && nums[i]==target ){
                         res++;
                         i++;
                    }
                    return res;
               }
          }
          return 0;
     }
}
```



# 61ã€å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸²

å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦è½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚è¯·å®šä¹‰ä¸€ä¸ªå‡½æ•°å®ç°å­—ç¬¦ä¸²å·¦æ—‹è½¬æ“ä½œçš„åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œè¾“å…¥å­—ç¬¦ä¸²"abcdefg"å’Œæ•°å­—2ï¼Œè¯¥å‡½æ•°å°†è¿”å›å·¦æ—‹è½¬ä¸¤ä½å¾—åˆ°çš„ç»“æœ"cdefgab"ã€‚

 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: s = "abcdefg", k = 2
è¾“å‡º: "cdefgab"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: s = "lrloseumgh", k = 6
è¾“å‡º: "umghlrlose"
```



# 62ã€å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­—

ä¸€ä¸ªé•¿åº¦ä¸ºn-1çš„é€’å¢æ’åºæ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°å­—éƒ½åœ¨èŒƒå›´0ï½n-1ä¹‹å†…ã€‚åœ¨èŒƒå›´0ï½n-1å†…çš„nä¸ªæ•°å­—ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ•°å­—ä¸åœ¨è¯¥æ•°ç»„ä¸­ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚

-  1 <= æ•°ç»„é•¿åº¦ <= 10000

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [0,1,3]
è¾“å‡º: 2
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,1,2,3,4,5,6,7,9]
è¾“å‡º: 8
```



# ==63ã€å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼ˆæ‰‹æ’•ï¼‰==

è¯·ä»å­—ç¬¦ä¸²ä¸­æ‰¾å‡ºä¸€ä¸ªæœ€é•¿çš„ä¸åŒ…å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²ï¼Œè®¡ç®—è¯¥æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å­ä¸²è¿™é‡Œæ˜¯è¿ç»­çš„å¿…é¡»ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

ã€ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæœ€é•¿è¿ç»­å­åºåˆ—é•¿åº¦ã€‘

å­åºåˆ—é—®é¢˜ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸€ç»´dpï¼Œä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾çš„å­åºåˆ—ï¼Œå®ƒçš„æœ€é•¿ä¸é‡å¤å­ä¸²çš„é•¿åº¦ï¼ˆå¿…é¡»æ˜¯ç¬¬iä¸ªå…ƒç´ ç»“å°¾ï¼‰ï¼Œæœ€åç»“æœéå†dpæ•°ç»„å–æœ€å¤§å€¼ã€‚ä¸å¯¹ï¼Œè¿™ä¸ªå­ä¸²æ˜¯ä¸é‡å¤å•Šï¼Œé‚£dpåšä¸äº†å•Šå“¥ï¼Œå› ä¸ºç¬¬iå“¥å…ƒç´ è¦å’Œå‰é¢æ¯ä¸ªå…ƒç´ æ¯”è¾ƒé‡å¤ï¼›

æ»‘åŠ¨çª—å£ï¼Œæˆ‘ä»¬è¦è®°å½•çª—å£å†…æ‰€æœ‰çš„å…ƒç´ ï¼Œåˆ¤æ–­æ–°æ¥çš„æœ‰æ²¡æœ‰é‡å¤ã€‚

```java
public class æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸² {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        String s = sc.nextLine();
        getRes(s);
    }

    // for + while
    public static int getRes(String s) {
        int n = s.length();
        char[] chars = s.toCharArray();
        Set<Character> set = new HashSet<>();

        int left = 0;
        int Maxlen = 0;
        for (int i = 0; i < n; i++) { //ç»“æŸä½ç½®
            if (!set.contains(chars[i])) {
                set.add(chars[i]);
                Maxlen = Math.max(i - left + 1, Maxlen);
            } else {
                //æ­¤æ—¶iç´¢å¼•å…ƒç´ æ²¡æœ‰åŠ å…¥æ»‘åŠ¨çª—å£ï¼Œå…ˆå°†å·¦æŒ‡é’ˆç§»åŠ¨åˆ°åˆé€‚ä½ç½®
                while (set.contains(chars[i])) {
                    set.remove(chars[left]);
                    left++;
                }
                set.add(chars[i]);
                Maxlen = Math.max(i - left + 1, Maxlen);
            }
        }
        System.out.println(Maxlen);
        return Maxlen;


    }
}
```



# 64ã€å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹ï¼ˆeasyï¼‰

ç»™å®šä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œè¯·æ‰¾å‡ºå…¶ä¸­ç¬¬ `k` å¤§çš„èŠ‚ç‚¹çš„å€¼ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: root = [3,1,4,null,2], k = 1
   3
  / \
 1   4
  \
   2
è¾“å‡º: 4
```

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int kthLargest(TreeNode root, int k) {
        //ä¸­åºéå†ï¼Œé€’å¢åºåˆ—
        inOrder(root);
        return list.get(list.size()-k);

    }
    List<Integer> list = new ArrayList<>();
    public void inOrder(TreeNode root){
        if (root==null){
            return;
        }
        inOrder(root.left);
        list.add(root.val);
        inOrder(root.right);
    }
}
```



# ==65ã€å‰‘æŒ‡ Offer 49. ä¸‘æ•°==

æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ 2ã€3 å’Œ 5 çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ n ä¸ªä¸‘æ•°ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: n = 10
è¾“å‡º: 12
è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚
```

**è¯´æ˜:** 

1. `1` æ˜¯ä¸‘æ•°ã€‚
2. `n` **ä¸è¶…è¿‡**1690ã€‚

ã€è´¨å› å­ã€‘

**è´¨å› å­ï¼Œæ˜¯æŒ‡ä¸€ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°ã€‚**

- å¸¸è§„è§£æ³•ï¼Œå…ˆæ‹¿åˆ°æ¯ä¸ªæ­£æ•´æ•°çš„æ‰€æœ‰è´¨å› å­ï¼Œç„¶ååˆ¤æ–­è´¨å› å­æ˜¯ä¸æ˜¯åªå«æœ‰2ã€3ã€5ä¸‰ä¸ªã€‚â€”â€”â€”â€”â€”â€”â€”â€”è¶…æ—¶
- å…¶å®å¯ä»¥ä¼˜åŒ–ï¼Œåœ¨æ‹¿æ‰€æœ‰è´¨å› å­çš„æ—¶å€™å°±åˆ¤æ–­ï¼ï¼ï¼ä¸è¦æ±‚å‡ºæ‰€æœ‰çš„è´¨å› å­äº†ï¼ï¼

```java
// åˆå§‹ç‰ˆæœ¬â€”â€”TIMEOUTâ€”â€”10%
public class ä¸‘æ•° {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt(); //ç¬¬nä¸ªä¸‘æ•°
        getRes(n);
    }
    public static int getRes(int n){
        //ä½¿ç”¨listå­˜å‚¨nä¸ªä¸‘æ•°å³å¯
        List<Integer> list = new ArrayList<>();
        list.add(1); //ç‰¹æ®Šçš„ä¸‘æ•°å…ˆåŠ è¿›æ¥
        int num = 2;
        while (true){
            if (list.size()==n){
                break; //å·²ç»æ‰¾åˆ°äº†å‰é¢nä¸ªä¸‘æ•°
            }
            Set<Integer> getprimfactor = getprimfactor(num);
            getprimfactor.remove(2);
            getprimfactor.remove(3);
            getprimfactor.remove(5);
            if (getprimfactor.size()==0) {
                //è¯´æ˜numæ˜¯ä¸‘æ•°
                list.add(num);
            }
            num++;
        }
        System.out.println(list.get(n-1));
        return list.get(n-1);
    }

    //è·å–è¾“å…¥æ­£æ•´æ•°nçš„æ‰€æœ‰è´¨å› å­ï¼ˆSetï¼‰
    public static Set<Integer> getprimfactor(int n){
        Set<Integer> list = new HashSet<>();
        for (int i = 2; i <= n; i++) {
            if (!isprim(i)) continue;
            while (n % i == 0) {
                list.add(i);
                n /= i;
            }
        }
        return list;
    }
    //åˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°æ˜¯å¦ä¸ºè´¨æ•°
    public static boolean isprim(int n) {
        if (n==1) return false;
        if (n == 2) return true;
        for (int i = 2; i <= Math.sqrt(n); i++) {
            if (n % i == 0) return false;
        }
        return true;
    }

}
```

ã€ä¼˜åŒ–åâ€”â€”90%ã€‘

```java
public class ä¸‘æ•° {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt(); //ç¬¬nä¸ªä¸‘æ•°
        getRes(n);

    }
    public static int getRes(int n) {
        //ä½¿ç”¨listå­˜å‚¨nä¸ªä¸‘æ•°å³å¯
        List<Integer> list = new ArrayList<>();
        list.add(1); //ç‰¹æ®Šçš„ä¸‘æ•°å…ˆåŠ è¿›æ¥
        int num = 2;
        while (true) {
            if (list.size() == n) {
                break; //å·²ç»æ‰¾åˆ°äº†å‰é¢nä¸ªä¸‘æ•°
            }
            if (isValid(num)){
                list.add(num);
            }
            num++;
        }
        System.out.println(list.get(n - 1));
        return list.get(n - 1);
    }

    //åˆ¤æ–­æ­£æ•´æ•°çš„è´¨å› å­æ˜¯å¦ä»…ä»…åªæœ‰2ã€3ã€5è¿™ä¸‰ä¸ªé‡Œé¢çš„
  // å°±æ˜¯è¯¥æ­£æ•´æ•°æ˜¯å¦èƒ½è¢«2ã€3ã€5è¿™ä¸‰ä¸ªæ•°æ•´é™¤
    public static boolean isValid(int n) {
        int[] num = new int[]{2, 3, 5};
        for (int i = 0; i < num.length; i++) {
            while (n % num[i] == 0) {
                n /= num[i];
            }
        }
        //å¦‚æœæœ€å n==1ï¼Œè¯´æ˜nä»…ä»…å¯ä»¥è¢« 2ã€3ã€5è¿™ä¸‰ä¸ªæ•´é™¤
        return n == 1;
    }
}
```



**dp**

[å‰‘æŒ‡ Offer 49. ä¸‘æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/chou-shu-lcof/solutions/182045/mian-shi-ti-49-chou-shu-dong-tai-gui-hua-qing-xi-t/)

```java
class Solution {
    public int nthUglyNumber(int n) {
        int a = 0, b = 0, c = 0;
        int[] dp = new int[n];
        dp[0] = 1;
        for(int i = 1; i < n; i++) {
            int n2 = dp[a] * 2, n3 = dp[b] * 3, n5 = dp[c] * 5;
            dp[i] = Math.min(Math.min(n2, n3), n5);
            if(dp[i] == n2) a++;
            if(dp[i] == n3) b++;
            if(dp[i] == n5) c++;
        }
        return dp[n - 1];
    }
}
```



#==66ã€å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•==

å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨ â€œ+â€ã€â€œ-â€ã€â€œ*â€ã€â€œ/â€ å››åˆ™è¿ç®—ç¬¦å·ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: a = 1, b = 1
è¾“å‡º: 2
```

**æç¤ºï¼š**

- `a`, `b` å‡å¯èƒ½æ˜¯è´Ÿæ•°æˆ– 0
- ç»“æœä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°



ã€ä½è¿ç®—åš **æ•´æ•°**çš„åŠ å‡ä¹˜é™¤ã€‘

**1ã€åŠ æ³•**

- ä¸&æ“ä½œï¼šä¸¤ä¸ªæ•´æ•°ç›¸ä¸åï¼Œç»“æœä¸ºäºŒè¿›åˆ¶ä¸‹çš„è¿›ä½ï¼Œä½†è¿›ä½ä¿¡æ¯çš„ä½ç½®ä¸å¯¹ï¼Œè¦å¾€å‰ç§»ä¸€ä½ï¼Œä¹Ÿå°±æ˜¯å·¦ç§»ã€‚å³`int t1 = (a&b) <<1; //è¿›ä½`;
- å¼‚æˆ–^æ“ä½œï¼šä¸¤ä¸ªæ•´æ•°å¼‚æˆ–ï¼Œç»“æœä¸ºäºŒè¿›åˆ¶ä¸‹æ— è¿›ä½çš„ç›¸åŠ ï¼Œå°±æ˜¯æŠ¹å»äº†è¿›ä½ä¿¡æ¯ï¼›
- æ‰€ä»¥ç»“åˆ ä¸&æ“ä½œ + å¼‚æˆ–^æ“ä½œï¼Œå°±å¯ä»¥ç›´åˆ°è¿›ä½ä¿¡æ¯å’Œæ— è¿›ä½ç›¸åŠ ä¿¡æ¯ï¼ŒåšåŠ æ³•ï¼ï¼ï¼
- æœ€åå½“è¿›ä½ä¿¡æ¯ä¸º0æ—¶ï¼Œå¯¹åº”çš„å¼‚æˆ–æ“ä½œå°±æ˜¯æœ€åç›¸åŠ ç»“æœã€‚

**2ã€å‡æ³•**

- å¾ˆç®€å•ï¼Œå†™å‡ºæ¥äº†åŠ æ³•åï¼Œå¦‚æœæ±‚`a-b`ç›´æ¥åœ¨è¾“å…¥ä¸Šå˜æˆ `a+(-b)`å³å¯;

![image-20230411150022149](images/image-20230411150022149.png)

![image-20230411150040587](images/image-20230411150040587.png)

```java
public class ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³• {
    public static void main(String[] args) {
        getRes(1,2);
    }

    public static int getRes(int a, int b){
        int t1 = (a&b) <<1; //è¿›ä½
        int t2 = a^b; //éè¿›ä½ç›¸åŠ 
      
        while (t1!=0){ //stopï¼šè¿›ä½ä¸º0å•Šï¼Œå¿…é¡»æ˜¯è¿›ä½
            int tt = (t1&t2) <<1;
            t2 = t1^t2;
            t1 = tt;
        }
        System.out.println(t2);
        return t2;
    }
}
```



# ==67ã€å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ï¼ˆæ‰‹å†™æ•°æ®ç»“æ„ï¼‰==

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums` å’Œæ»‘åŠ¨çª—å£çš„å¤§å° `k`ï¼Œè¯·æ‰¾å‡ºæ‰€æœ‰æ»‘åŠ¨çª—å£é‡Œçš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: nums = [1,3,-1,-3,5,3,6,7], å’Œ k = 3
è¾“å‡º: [3,3,5,5,6,7] 
è§£é‡Š: 

  æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

**æç¤ºï¼š**

ä½ å¯ä»¥å‡è®¾ *k* æ€»æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨è¾“å…¥æ•°ç»„ **ä¸ä¸ºç©º** çš„æƒ…å†µä¸‹ï¼Œ`1 â‰¤ k â‰¤ nums.length`ã€‚



ã€å•è°ƒé˜Ÿåˆ—åšã€‘ä¼˜å…ˆé˜Ÿåˆ—åšä¸äº†ï¼Œå› ä¸ºæ»‘åŠ¨çª—å£æ¯æ¬¡ç§»åŠ¨å‡ºå»çš„éƒ½æ˜¯æœ€å·¦è¾¹çš„é‚£ä¸ªå…ƒç´ ï¼›

åŒç«¯é˜Ÿåˆ—å®ç°å•è°ƒé˜Ÿåˆ—ï¼šåªèƒ½é˜Ÿå°¾æ’å…¥ï¼Œå¯ä»¥ä¸¤ç«¯åˆ é™¤ï¼Œå†…éƒ¨å­˜å‚¨çš„å…ƒç´ å€¼æˆå•è°ƒæ€§ã€‚é˜Ÿåˆ—å†…å…ƒç´ å°äºçª—å£å…ƒç´ ä¸ªæ•°ã€‚æ‰‹å†™æ•°æ®ç»“æ„ï¼Œä¸‰ä¸ªæ“ä½œï¼Œä¸€ä¸ªå±æ€§

- ã€è·å–æœ€å¤§å€¼ã€‘é€šè¿‡ O(1) çš„æ—¶é—´ï¼Œè·å–å®¹å™¨ä¸­å…ƒç´ çš„æœ€å¤§å€¼ã€‚
- ã€åˆ é™¤æŸä¸ªå€¼ã€‘é€šè¿‡ O(1) çš„æ—¶é—´ï¼Œåˆ é™¤æŸä¸ªå…ƒç´ ï¼›
- ã€æ’å…¥æŸä¸ªå€¼ã€‘é€šè¿‡ O(1) çš„æ—¶é—´ï¼Œæ’å…¥æŸä¸ªå…ƒç´ ï¼›

```java
public class æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ {
    public static void main(String[] args) {
        int[] nums = new int[]{1,3,-1,-3,5,3,6,7};
        getRes(nums,3);
    }
    public static int[] getRes(int[] nums, int k){
        //
        MyQueue myQueue = new MyQueue() ;
        //æ”¾å…¥kä¸ªå…ƒç´ å•Š
        for (int i = 0; i < k; i++) {
            myQueue.offer(nums[i]);
        }
        List<Integer> list = new ArrayList<>();
        list.add(myQueue.peek());
        //å†åŠ 
        for (int i = k; i < nums.length; i++) {
            myQueue.poll(nums[i-k]);
            myQueue.offer(nums[i]);
            list.add(myQueue.peek());
        }
        int[] res = new int[list.size()];
        for (int i = 0; i < res.length; i++) {
            res[i] = list.get(i);
        }
        System.out.println(list);
        return res;

    }


}
//æ‰‹å†™ä¸€ä¸ªå•è°ƒé˜Ÿåˆ—ï¼Œå•è°ƒé€’å‡çš„ï¼Œå³é˜Ÿå¤´æ˜¯æœ€å¤§å€¼
class MyQueue{
    private Deque<Integer> deque;

    public MyQueue(){
        this.deque = new ArrayDeque<>();
    }
    //1ã€æ’å…¥æŸä¸ªå…ƒç´ (åªèƒ½é˜Ÿå°¾ï¼‰
    public void offer(int n){
        if (deque.isEmpty()) deque.offer(n);
        else {
            //å› ä¸ºå•è°ƒé€’å‡ï¼Œæ‰€ä»¥æ’å…¥å…ƒç´ è¦åˆ¤æ–­
            if (deque.peekLast() >= n){
                deque.offer(n);
            }else {
                while (!deque.isEmpty() && deque.peekLast()<n){
                    deque.pollLast();
                }
                deque.offer(n);
            }
        }
    }
    //2ã€åˆ é™¤æŸä¸ªå…ƒç´ ï¼ˆåªèƒ½é˜Ÿå¤´åˆ é™¤ï¼‰
    public void poll(int n){
        if (deque.isEmpty()) return;
        if (n == deque.peek()){
            deque.pollFirst();
        }
    }
    //3ã€æŸ¥çœ‹é˜Ÿå¤´å…ƒç´ ï¼Œå³æŸ¥çœ‹æœ€å¤§å€¼
    public int peek(){
        if (deque.isEmpty()) return -1;
        return deque.peek();
    }
}
```



# ==68ã€é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼ï¼ˆæ‰‹å†™æ•°æ®ç»“æ„ï¼‰==

è¯·å®šä¹‰ä¸€ä¸ªé˜Ÿåˆ—å¹¶å®ç°å‡½æ•° `max_value` å¾—åˆ°é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼ï¼Œè¦æ±‚å‡½æ•°`max_value`ã€`push_back` å’Œ `pop_front` çš„**å‡æ‘Š**æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ã€‚

è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œ`pop_front` å’Œ `max_value` éœ€è¦è¿”å› -1

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: 
["MaxQueue","push_back","push_back","max_value","pop_front","max_value"]
[[],[1],[2],[],[],[]]
è¾“å‡º: [null,null,null,2,1,2]
```

![image-20230411161909165](images/image-20230411161909165.png)

ã€å°±æ˜¯å•è°ƒé˜Ÿåˆ—å•Šã€‘

==å•è°ƒé˜Ÿåˆ—Plusç‰ˆæœ¬==ï¼Œä¹‹å‰æˆ‘å°±ä¸€ç›´æƒ³å‰é¢å®ç°çš„å¼¹å‡ºæ“ä½œpollï¼Œéœ€è¦ä¼ å…¥å‚æ•°ï¼Œå°±å¾ˆå¥‡æ€ªï¼Œè¿™é‡Œå°±é™åˆ¶äº†ä¸ä¼ å…¥å‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦å†å¤šä¸€ä¸ªé˜Ÿåˆ—å»å­˜å‚¨æ’å…¥çš„æ¯ä¸€ä¸ªæ•°æ®ï¼Œå°±æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é˜Ÿåˆ—ï¼ï¼

```java
class MaxQueue {

    public Deque<Integer> deque;
    public Deque<Integer> dequeAll;

    public MaxQueue() {
        this.deque = new ArrayDeque<>();
        this.dequeAll = new ArrayDeque<>(); //ç”¨ä¸€ä¸ªé˜Ÿåˆ—è®°å½•æ‰€æœ‰è¢«æ’å…¥çš„å€¼ï¼Œè¿™æ ·åˆ é™¤çš„æ—¶å€™æˆ‘å°±çŸ¥é“åˆ é™¤çš„æ˜¯å“ªä¸ªæ•°
    }

    public int max_value() {
        if (deque.isEmpty()) return -1;
        return deque.peek();
    }

    public void push_back(int value) {
        dequeAll.offer(value);
        if (deque.isEmpty()) deque.offer(value);
        else {
            if (deque.peekLast() >= value) deque.offer(value);
            else {
                while (!deque.isEmpty() && deque.peekLast() < value) {
                    deque.pollLast();
                }
                deque.offer(value);
            }
        }
    }

    // å“¦è±ï¼Œæœ‰ç‚¹é—®é¢˜ï¼Œè¿™é‡Œè¦å¾—åˆ°é˜Ÿå¤´å…ƒç´ ï¼Œä¸æ˜¯å¾—åˆ°æœ€å¤§å€¼ï¼Œä½†æˆ‘ä»¬å·²ç»åˆ é™¤äº†å•Šï¼
    // åŠæ³•ï¼šå†æ¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå­˜æ”¾æ‰€æœ‰è¢«æ’å…¥çš„å€¼ï¼Œå³ä¸€ä¸ªæ­£å¸¸çš„é˜Ÿåˆ—
    public int pop_front() {
        if (dequeAll.isEmpty()) return -1;
        int poll = dequeAll.poll();
        if (poll == deque.peek()){
            deque.poll();
        }
        return poll;
    }
}
```



# ==69ã€å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„==

ç»™å®šä¸€ä¸ªæ•°ç»„ `A[0,1,â€¦,n-1]`ï¼Œè¯·æ„å»ºä¸€ä¸ªæ•°ç»„ `B[0,1,â€¦,n-1]`ï¼Œå…¶ä¸­ `B[i]` çš„å€¼æ˜¯æ•°ç»„ `A` ä¸­é™¤äº†ä¸‹æ ‡ `i` ä»¥å¤–çš„å…ƒç´ çš„ç§¯, å³ `B[i]=A[0]Ã—A[1]Ã—â€¦Ã—A[i-1]Ã—A[i+1]Ã—â€¦Ã—A[n-1]`ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚

**ç¤ºä¾‹:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: [120,60,40,30,24]
```

**æç¤ºï¼š**

- æ‰€æœ‰å…ƒç´ ä¹˜ç§¯ä¹‹å’Œä¸ä¼šæº¢å‡º 32 ä½æ•´æ•°
- `a.length <= 100000`



ã€é‡‡ç”¨æš´åŠ›çš„è¯ã€‘å°±æ˜¯ä¸¤ä¸ªforï¼Œè‚¯å®šä¸è¡Œçš„ï¼ï¼ï¼

ã€æŠ€å·§ã€‘

- ç¬¬ä¸€éä»å‰å¾€åï¼Œè®°å½•æ¯ä¸ªå…ƒç´ å‰é¢æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼›
- ç¬¬äºŒéä»åå¾€å‰ï¼Œè®°å½•æ¯ä¸ªå…ƒç´ åé¢æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ï¼›
- ç¬¬ä¸‰ééå†å‰é¢è®°å½•çš„ä¸¤ä¸ªé›†åˆæˆ–æ•°ç»„ï¼Œå¾—åˆ°ç»“æœï¼›
- ä¸‰ä¸ªforå¾ªç¯è§£å†³é—®é¢˜ã€‚

```java
public class æ„å»ºä¹˜ç§¯æ•°ç»„ {
    public static void main(String[] args) {

    }

    public static int[] getRes(int[] a){
        //1ã€ä»å‰å¾€å
        int[] nums1 = new int[a.length];
        int mulptiply = 1;
        for (int i = 0; i < a.length; i++) {
            nums1[i] = mulptiply;
            mulptiply *= a[i];
        }
        //2ã€ä»åå¾€å‰
        int[] nums2 = new int[a.length];
        mulptiply = 1;
        for (int i =  a.length-1; i >=0; i--) {
            nums2[i] = mulptiply;
            mulptiply *= a[i];
        }
        //3ã€å¯¹åº”ç›¸ä¹˜
        int[] res = new int[a.length];
        for (int i = 0; i < res.length; i++) {
            res[i] = nums1[i] * nums2[i];
        }
        System.out.println(Arrays.toString(res));
        return res;
    }
}
```



# 70ã€å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°

æŠŠnä¸ªéª°å­æ‰”åœ¨åœ°ä¸Šï¼Œæ‰€æœ‰éª°å­æœä¸Šä¸€é¢çš„ç‚¹æ•°ä¹‹å’Œä¸ºsã€‚è¾“å…¥nï¼Œæ‰“å°å‡ºsçš„æ‰€æœ‰å¯èƒ½çš„å€¼å‡ºç°çš„æ¦‚ç‡ã€‚

ä½ éœ€è¦ç”¨ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„è¿”å›ç­”æ¡ˆï¼Œå…¶ä¸­ç¬¬ i ä¸ªå…ƒç´ ä»£è¡¨è¿™ n ä¸ªéª°å­æ‰€èƒ½æ·å‡ºçš„ç‚¹æ•°é›†åˆä¸­ç¬¬ i å°çš„é‚£ä¸ªçš„æ¦‚ç‡ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: 1
è¾“å‡º: [0.16667,0.16667,0.16667,0.16667,0.16667,0.16667]
```

â€‹	**ç¤ºä¾‹ 2:**

```
è¾“å…¥: 2
è¾“å‡º: [0.02778,0.05556,0.08333,0.11111,0.13889,0.16667,0.13889,0.11111,0.08333,0.05556,0.02778]
```



```java
public class nä¸ªéª°å­çš„ç‚¹æ•° {
    public static void main(String[] args) {
        dicesProbability(2);
    }

    public static double[] dicesProbability(int n){
        //ç»„åˆé—®é¢˜ï¼Œç»„åˆnä¸ªæ•°å³å¯ï¼Œæ±‚æ¯ä¸ªå’Œæœ‰å¤šå°‘ç§ç»„åˆï¼Œã€23ã€‘ã€32ã€‘æ˜¯ä¸¤ç§å“¦ï¼Œä¸åŒçš„é›†åˆå»å–ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸å±äºæ’åˆ—
        backTracking( n,0);
        int mapvalueSum = 0;
        mapvalueSum = (int)Math.pow(6,n);
        Set<Map.Entry<Integer,Integer>> entries = map.entrySet();
        double[] res = new double[map.size()];
        int i = 0;
        for (Map.Entry<Integer,Integer> entry: entries){
            // è¿™é‡Œæˆ‘ä»¬æ±‚ç»„åˆçš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§ä»å°å¤§å¤§æ¥çš„ï¼Œä¸ç”¨å†æ’åºäº†
            double v = (double) entry.getValue() / (double) mapvalueSum;
            v = Double.parseDouble(String.format("%.5f",v));
            res[i++] = v;
        }
        System.out.println(Arrays.toString(res));
        return res;
    }

    // indexï¼šåˆ‡æ¢ä¸åŒæ•°æ®é›†, ä»0å¼€å§‹
    // map å­˜æ”¾æ¯ä¸ªå¯èƒ½å‡ºç°çš„ç‚¹æ•°å’Œï¼Œå®ƒå‡ºç°çš„æ¬¡æ•°
    static Map<Integer,Integer> map = new HashMap<>();
    static int sum = 0;
    static int[] nums = new int[]{1,2,3,4,5,6};
    public static void backTracking(int n, int index){
        if (index == n){
            if (map.containsKey(sum)){
                map.put(sum, map.get(sum)+1);
            }else {
                map.put(sum,1);
            }
            return;
        }
        //
        for (int i = 0; i < nums.length ; i++) {
            sum += nums[i];
            backTracking(n,index+1);
            sum -= nums[i];
        }
    }
}
```



[å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•° - åŠ›æ‰£ï¼ˆLeetcodeï¼‰](https://leetcode.cn/problems/nge-tou-zi-de-dian-shu-lcof/solutions/1333417/by-smooth-b-t2ez/)



# ==71ã€é¢è¯•é¢˜67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°==

å†™ä¸€ä¸ªå‡½æ•° StrToIntï¼Œå®ç°æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°è¿™ä¸ªåŠŸèƒ½ã€‚ä¸èƒ½ä½¿ç”¨ atoi æˆ–è€…å…¶ä»–ç±»ä¼¼çš„åº“å‡½æ•°ã€‚

 

é¦–å…ˆï¼Œè¯¥å‡½æ•°ä¼šæ ¹æ®éœ€è¦ä¸¢å¼ƒæ— ç”¨çš„å¼€å¤´ç©ºæ ¼å­—ç¬¦ï¼Œç›´åˆ°å¯»æ‰¾åˆ°ç¬¬ä¸€ä¸ªéç©ºæ ¼çš„å­—ç¬¦ä¸ºæ­¢ã€‚

å½“æˆ‘ä»¬å¯»æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦ä¸ºæ­£æˆ–è€…è´Ÿå·æ—¶ï¼Œåˆ™å°†è¯¥ç¬¦å·ä¸ä¹‹åé¢å°½å¯èƒ½å¤šçš„è¿ç»­æ•°å­—ç»„åˆèµ·æ¥ï¼Œä½œä¸ºè¯¥æ•´æ•°çš„æ­£è´Ÿå·ï¼›å‡å¦‚ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™ç›´æ¥å°†å…¶ä¸ä¹‹åè¿ç»­çš„æ•°å­—å­—ç¬¦ç»„åˆèµ·æ¥ï¼Œå½¢æˆæ•´æ•°ã€‚

è¯¥å­—ç¬¦ä¸²é™¤äº†æœ‰æ•ˆçš„æ•´æ•°éƒ¨åˆ†ä¹‹åä¹Ÿå¯èƒ½ä¼šå­˜åœ¨å¤šä½™çš„å­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦å¯ä»¥è¢«å¿½ç•¥ï¼Œå®ƒä»¬å¯¹äºå‡½æ•°ä¸åº”è¯¥é€ æˆå½±å“ã€‚

æ³¨æ„ï¼šå‡å¦‚è¯¥å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºæ ¼å­—ç¬¦ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆæ•´æ•°å­—ç¬¦ã€å­—ç¬¦ä¸²ä¸ºç©ºæˆ–å­—ç¬¦ä¸²ä»…åŒ…å«ç©ºç™½å­—ç¬¦æ—¶ï¼Œåˆ™ä½ çš„å‡½æ•°ä¸éœ€è¦è¿›è¡Œè½¬æ¢ã€‚

åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè‹¥å‡½æ•°ä¸èƒ½è¿›è¡Œæœ‰æ•ˆçš„è½¬æ¢æ—¶ï¼Œè¯·è¿”å› 0ã€‚

**è¯´æ˜ï¼š**

å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½å¤§å°çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œé‚£ä¹ˆå…¶æ•°å€¼èŒƒå›´ä¸º [âˆ’231, 231 âˆ’ 1]ã€‚å¦‚æœæ•°å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œè¯·è¿”å›  INT_MAX (231 âˆ’ 1) æˆ– INT_MIN (âˆ’231) ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: "42"
è¾“å‡º: 42
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: "   -42"
è¾“å‡º: -42
è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º '-', å®ƒæ˜¯ä¸€ä¸ªè´Ÿå·ã€‚
     æˆ‘ä»¬å°½å¯èƒ½å°†è´Ÿå·ä¸åé¢æ‰€æœ‰è¿ç»­å‡ºç°çš„æ•°å­—ç»„åˆèµ·æ¥ï¼Œæœ€åå¾—åˆ° -42 ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: "4193 with words"
è¾“å‡º: 4193
è§£é‡Š: è½¬æ¢æˆªæ­¢äºæ•°å­— '3' ï¼Œå› ä¸ºå®ƒçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸ä¸ºæ•°å­—ã€‚
```

**ç¤ºä¾‹ 4:**

```
è¾“å…¥: "words and 987"
è¾“å‡º: 0
è§£é‡Š: ç¬¬ä¸€ä¸ªéç©ºå­—ç¬¦æ˜¯ 'w', ä½†å®ƒä¸æ˜¯æ•°å­—æˆ–æ­£ã€è´Ÿå·ã€‚
     å› æ­¤æ— æ³•æ‰§è¡Œæœ‰æ•ˆçš„è½¬æ¢ã€‚
```

**ç¤ºä¾‹ 5:**

```
è¾“å…¥: "-91283472332"
è¾“å‡º: -2147483648
è§£é‡Š: æ•°å­— "-91283472332" è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ã€‚ 
     å› æ­¤è¿”å› INT_MIN (âˆ’231) ã€‚
```



å¡åœ¨äº†å»é™¤å‰å¯¼0çš„è·¯ä¸Šï¼Œä¸ç”¨å»é™¤äº†ï¼Œå¾ˆéº»çƒ¦å•Š

<img src="images/image-20230412224220546.png" alt="image-20230412224220546" style="zoom:80%;" />

```java

public class æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•° {
    public static void main(String[] args) {
        //è¾“å…¥ä¼šæœ‰å°æ•°ï¼Œä½†å°æ•°ç‚¹é‚£é‡Œä¼šè¢«åˆ¤æ–­çš„æ—¶å€™å»æ‰
        Scanner sc = new Scanner(System.in);
        while (true) {
            String s = sc.nextLine();
            System.out.println(getRes(s));
        }

    }

    //
    public static int getRes(String s) {

        String trim = s.trim();
        if (Objects.equals(trim, "")) {
            return 0; //æ— æ³•è½¬æ¢
        }
        char c1 = trim.charAt(0);
        StringBuilder stringBuilder = new StringBuilder();
        if (c1 == '+') {
            /**
             * 1ã€ä¹‹å‰æ²¡æœ‰è€ƒè™‘ç´¢å¼•è¶Šç•Œæƒ…å†µã€‚åªæœ‰ä¸€ä¸ªå­—ç¬¦+
             */
            if (trim.length() == 1) return 0;
            if (trim.charAt(1) < '0' || trim.charAt(1) > '9') return 0;
            stringBuilder.append('+');
            for (int i = 1; i < trim.length(); i++) {
                if (trim.charAt(i) >= '0' && trim.charAt(i) <= '9') {
                    stringBuilder.append(trim.charAt(i));
                } else break;
            }
        } else if (c1 == '-') {
            if (trim.length() == 1) return 0;
            stringBuilder.append('-');
            if (trim.charAt(1) < '0' || trim.charAt(1) > '9') return 0;
            for (int i = 1; i < trim.length(); i++) {
                if (trim.charAt(i) >= '0' && trim.charAt(i) <= '9') {
                    stringBuilder.append(trim.charAt(i));
                } else break;
            }
        } else if (c1 >= '0' && c1 <= '9') {
            stringBuilder.append('+');
            for (int i = 0; i < trim.length(); i++) {
                if (trim.charAt(i) >= '0' && trim.charAt(i) <= '9') {
                    stringBuilder.append(trim.charAt(i));
                } else break;
            }
        } else {
            return 0;
        }
        // æœ€åintèŒƒå›´åˆ¤æ–­ã€‚
        /**
         * å»é™¤å‰å¯¼0ï¼ŒçœŸçš„éº»çƒ¦ ã€-0000000000012345678ã€‘
         */
        int index = -1;  //æ±‚å‡ºç¬¬ä¸€ä¸ªé0æ•´æ•°çš„ç´¢å¼•ä½ç½®
        for (int i = 1; i < stringBuilder.length(); i++) {
            if (stringBuilder.charAt(i) != '0') {
                index = i;
                break;
            }
        }
        String resString;
        if (index == -1) return 0;
        else {
            resString = stringBuilder.charAt(0)+ stringBuilder.substring(index,stringBuilder.length());
        }
        //
        /**
         * 2ã€å¦ˆçš„ï¼Œè¾“å…¥å­—ç¬¦ä¸²æ¯”longéƒ½é•¿ï¼Œè¿™æ€ä¹ˆæï¼Œå…ˆç›´æ¥åˆ¤æ–­ä½æ•°å§ï¼Œintæœ€å¤šè¡¨ç¤º10ä½åè¿›åˆ¶
         */
        if (resString.length() > 15) {
            if (resString.charAt(0) == '-') return Integer.MIN_VALUE;
            else return Integer.MAX_VALUE;
        }
        long l = Long.parseLong(resString);
        if (l >= Integer.MAX_VALUE) return Integer.MAX_VALUE;
        if (l <= Integer.MIN_VALUE) return Integer.MIN_VALUE;
        return (int) l;
    }
}
```



# ==71ã€é¢è¯•é¢˜61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­==

ä»**è‹¥å¹²å‰¯æ‰‘å…‹ç‰Œ**ä¸­éšæœºæŠ½ `5` å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªé¡ºå­ï¼Œå³è¿™5å¼ ç‰Œæ˜¯ä¸æ˜¯è¿ç»­çš„ã€‚2ï½10ä¸ºæ•°å­—æœ¬èº«ï¼ŒAä¸º1ï¼ŒJä¸º11ï¼ŒQä¸º12ï¼ŒKä¸º13ï¼Œè€Œå¤§ã€å°ç‹ä¸º 0 ï¼Œå¯ä»¥çœ‹æˆä»»æ„æ•°å­—ã€‚A ä¸èƒ½è§†ä¸º 14ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,2,3,4,5]
è¾“å‡º: True
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [0,0,1,2,5]
è¾“å‡º: True
```

**é™åˆ¶ï¼š**

æ•°ç»„é•¿åº¦ä¸º 5 ï¼›æ•°ç»„çš„æ•°å–å€¼ä¸º [0, 13] .



ã€åˆ†æã€‘A2345678910JQKï¼Œ0ä¸‡èƒ½ç‰Œï¼Œå¹¶ä¸”è¾“å…¥çš„æ•°å¯ä»¥é‡å¤ï¼Œæ˜¯ä»è‹¥å¹²å‰¯æ‰‘å…‹ç‰ŒæŠ½å–ï¼›

è¿™é‡Œåªéœ€è¦ä¿è¯ï¼Œè¾“å…¥çš„æ•°ç»„æ˜¯æœ‰åºçš„å°±è¡Œäº†è€¶ï¼Œä¸éœ€è¦å¯¹åº”å’Œæ‰‘å…‹ç‰Œçš„å…³ç³»ï¼Œç„¶å0å¯ä»¥å¡«å……ä»»æ„æ•°ä¸Šå»ï¼›

**ã€è¿›é˜¶ã€‘æˆ‘è¦æ˜¯è¾“å…¥çš„æ˜¯çœŸå®çš„æ‰‘å…‹ç‰Œå‘¢ï¼Œå°±ç›´æ¥é—®ï¼Œè¾“å…¥çš„5å¼ æ‰‘å…‹ç‰Œæ˜¯ä¸æ˜¯é¡ºå­ï¼Ÿè¿™å°±éš¾äº†å•Š**

- è¿™é“é¢˜å…¶å®æ˜¯åšäº†ç®€åŒ–ï¼Œå‘Šè¯‰æˆ‘ä»¬å…ˆè¦è¿›è¡Œæœ‰æ•ˆçš„æ•°å­—å¯¹åº”å…³ç³»è½¬æ¢ï¼Œå°±ç®€å•äº†ã€‚



```java
public class æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ {
    public static void main(String[] args) {
        int[] nums = new int[]{0, 0, 1, 2, 5};
        System.out.println(getRes(nums));
    }

    public static boolean getRes(int[] nums) {
        //é¢˜ç›®å·²ç»æå‰ç»™æˆ‘ä»¬åšäº†è½¬æ¢ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ¤æ–­æ•°ç»„æ˜¯ä¸æ˜¯ä¸¥æ ¼é€’å¢å³å¯ã€‚0æ˜¯ç‰¹æ®Šå­—ç¬¦
        Arrays.sort(nums);
        int num_0 = 0; //0çš„ä¸ªæ•°
        Set<Integer> set = new HashSet<>(); //å‡ºç°é‡å¤çš„é0æ•°å­—ä¹Ÿä¸è¡Œ
        for (int num : nums) {
            if (num == 0) num_0++;
            else {
                if (set.contains(num)) return false;
                else set.add(num);
            }
        }
        if (num_0 == 5) return true;
        // åˆ°è¿™é‡Œï¼Œè¯´æ²¡æœ‰å‡ºç°é0çš„é‡å¤æ•°å­—ã€‚
        //ä»å®è§‚çš„è§’åº¦æ¥è§‚å¯Ÿäº”å¼ ç‰Œï¼Œæ‰¾å‡º0ä»¥å¤–æœ€å°çš„å€¼ã€æœ€å¤§çš„å€¼ã€‚
        // æ£€æŸ¥è¿™ä¸¤ä¸ªå€¼ä¹‹é—´ç¼ºç‰Œçš„ä¸ªæ•°gapä¸å¤§å°ç‹çš„ä¸ªæ•°num0çš„å…³ç³»ï¼šè‹¥gap>num0ï¼Œè¯´æ˜ç¼ºçš„ç‰Œå¤ªå¤šï¼Œ0è¡¥ä¸è¿‡æ¥ï¼›
        // è‹¥gap<=num0ï¼Œè¯´æ˜ç¼ºçš„ç‰Œå¯ä»¥è¢«0å½“èµ–å­å¡«ä¸Šã€‚
        int diff = nums[nums.length - 1] - nums[num_0] - 1; //æœ€å¤§å€¼-æœ€å°å€¼ï¼Œä»–ä»¬ä¸­é—´å·®å‡ ä¸ªå¡«å……
        if (diff == 0) return true;
        int tt = (nums.length  - num_0  - 2); //ç›®å‰å·²ç»æœ‰äº†å‡ ä¸ªå¡«å……å€¼äº†
        if (num_0 >= diff-tt) return true;
        return false;

    }
}
```



# 72ã€å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘

è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œåˆ¤æ–­è¯¥æ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘ã€‚å¦‚æœæŸäºŒå‰æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚

**ç¤ºä¾‹ 1:**

ç»™å®šäºŒå‰æ ‘ `[3,9,20,null,null,15,7]`

```
    3
   / \
  9  20
    /  \
   15   7
```

è¿”å› `true` ã€‚



```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution72 {
    public boolean isBalanced(TreeNode root) {
        //åˆ¤æ–­å¹³è¡¡äºŒå‰æ ‘â€”â€”å€ŸåŠ©æ±‚äºŒå‰æ ‘çš„æ·±åº¦æ¥æ±‚è§£
        int depth = getDepth(root);
        return depth!=-1;
    }

    //å€ŸåŠ©äºŒå‰æ ‘çš„æ·±åº¦ï¼Œå¦‚æœå·¦å­æ ‘å³å­æ ‘æ·±åº¦ç›¸å·®å¤§äº1ï¼ŒæŠŠè¯¥èŠ‚ç‚¹çš„æ·±åº¦èµ‹å€¼ä¸º-1ï¼›æœ€åä¼ å…¥æ ¹èŠ‚ç‚¹åˆ¤æ–­æ·±åº¦æ˜¯å¦ä¸º-1å³å¯
    public int getDepth(TreeNode node){
        if (node == null) return 0;
        // ååº
        int leftDepth = getDepth(node.left);
        int rightDepth = getDepth(node.right);
        if (leftDepth==-1 || rightDepth == -1) return -1;
        if (Math.abs(leftDepth-rightDepth)>1) return -1;
        int nodeDepth = Math.max(leftDepth,rightDepth) + 1;
        return nodeDepth;
    }
}
```





# ==73ã€å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—==

0,1,Â·Â·Â·,n-1è¿™nä¸ªæ•°å­—æ’æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹ï¼Œæ¯æ¬¡ä»è¿™ä¸ªåœ†åœˆé‡Œåˆ é™¤ç¬¬mä¸ªæ•°å­—ï¼ˆåˆ é™¤åä»ä¸‹ä¸€ä¸ªæ•°å­—å¼€å§‹è®¡æ•°ï¼‰ã€‚æ±‚å‡ºè¿™ä¸ªåœ†åœˆé‡Œå‰©ä¸‹çš„æœ€åä¸€ä¸ªæ•°å­—ã€‚

ä¾‹å¦‚ï¼Œ0ã€1ã€2ã€3ã€4è¿™5ä¸ªæ•°å­—ç»„æˆä¸€ä¸ªåœ†åœˆï¼Œä»æ•°å­—0å¼€å§‹æ¯æ¬¡åˆ é™¤ç¬¬3ä¸ªæ•°å­—ï¼Œåˆ™åˆ é™¤çš„å‰4ä¸ªæ•°å­—ä¾æ¬¡æ˜¯2ã€0ã€4ã€1ï¼Œå› æ­¤æœ€åå‰©ä¸‹çš„æ•°å­—æ˜¯3ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: n = 5, m = 3
è¾“å‡º: 3
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: n = 10, m = 17
è¾“å‡º: 2
```

**é™åˆ¶ï¼š**

- `1 <= n <= 10^5`
- `1 <= m <= 10^6`



ã€çº¦ç‘Ÿå¤«ã€‘è¿™é‡Œçœ‹åˆ°mã€nå°±å¯ä»¥çŸ¥é“ï¼ŒæŒ‰ç…§ä¹‹å‰çš„é˜Ÿåˆ—åšæ³•ï¼Œä¸€å®šä¼šè¶…æ—¶ï¼Œå› ä¸ºè¦åˆ é™¤n-1æ¬¡ï¼Œå¹¶ä¸”æ¯æ¬¡è¦éå†mæ¬¡ï¼Œå¤æ‚åº¦å°±æ˜¯mnç­‰çº§çš„ï¼Œå“å‘€ï¼Œå¾ˆçƒ¦ã€‚

```java
class Solution {
    public int lastRemaining(int n, int m) {
        // nâ€”â€”å°æœ‹å‹ä¸ªæ•°ï¼ˆç¼–å·ï¼Œ0â€”â€”n-1ï¼‰ï¼Œmâ€”â€”å‡ºå·çš„æ•°å­—ï¼ˆ1ï¼Œ..m)ï¼Œæ•°åˆ°må‡ºå»
        if(n==1) return 0;
        Queue<Integer> queue = new ArrayDeque<>();
        for(int i=0; i<n;i++){
            queue.offer(i); //æ¯ä¸ªäººç¼–å·å…¥é˜Ÿåˆ—
        }
        //
        int num = 0; //è®¡æ•°å™¨,
        while(queue.size()!=1){
            Integer child = queue.poll();
            num++;
            if(num==m){
                num = 0;
            }else{
                queue.offer(child);
            }
        }
        // System.out.println(queue.peek());
        return queue.poll();
    }
}
```

ã€é«˜çº§è§£æ³•ã€‘

```java
class Solution {
    public int lastRemaining(int n, int m) {
        int x = 0; // æœ€ç»ˆæ´»ä¸‹æ¥é‚£ä¸ªäººçš„åˆå§‹ä½ç½®(æ•°ç»„ä¸­çš„ä¸‹æ ‡)
        for (int i = 2; i <= n; i++) {
            x = (x + m) % i;  // æ¯æ¬¡å¾ªç¯å³ç§»
        }
        return x;//æ•°ç»„ä¸­çš„ä¸‹æ ‡
    }
}
//è¿™é‡Œçš„æ•°ç»„ï¼šã€0ï¼Œ1ï¼Œ2,...n-1ã€‘ï¼ˆnä¸ªäººï¼‰æ¯ä¸ªäººç¼–å·æ˜¯æ•°ç»„å†…å…ƒç´ 
```



# 74ã€å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦

å‡è®¾æŠŠæŸè‚¡ç¥¨çš„ä»·æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºå­˜å‚¨åœ¨æ•°ç»„ä¸­ï¼Œè¯·é—®ä¹°å–è¯¥è‚¡ç¥¨ä¸€æ¬¡å¯èƒ½è·å¾—çš„æœ€å¤§åˆ©æ¶¦æ˜¯å¤šå°‘ï¼Ÿ

**ç¤ºä¾‹1:**

```
è¾“å…¥: [7,1,5,3,6,4]
è¾“å‡º: 5
è§£é‡Š: åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡ºï¼Œæœ€å¤§åˆ©æ¶¦ = 6-1 = 5 ã€‚
     æ³¨æ„åˆ©æ¶¦ä¸èƒ½æ˜¯ 7-1 = 6, å› ä¸ºå–å‡ºä»·æ ¼éœ€è¦å¤§äºä¹°å…¥ä»·æ ¼ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [7,6,4,3,1]
è¾“å‡º: 0
è§£é‡Š: åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚
```

**é™åˆ¶ï¼š**

```
0 <= æ•°ç»„é•¿åº¦ <= 10^5
```



```java
public class è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ {
    public static void main(String[] args) {

    }
    // ä¹°å–ä¸€æ¬¡è‚¡ç¥¨ï¼Œæœ€ç®€å•é—®é¢˜
    public static int getRes(int[] prices){
        if (prices.length<2) return 0;
        //1ã€äºŒç»´dpï¼Œä¸€å¤©æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼šdp[i][0]ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æœ€å¤§åˆ©æ¶¦ï¼Œdp[i][1]ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æœ€å¤§åˆ©æ¶¦ï¼›
        int n = prices.length;
        int[][] dp = new int[n+1][2];

        //3ã€åˆå§‹åŒ–
        dp[0][0] = 0;
        dp[0][1] = 0;
        dp[1][0] = -prices[0];
        dp[1][1] = 0;

        //2ã€é€’æ¨
        // dp[i][0]: 1.ç¬¬i-1å¤©å°±å·²ç»æŒæœ‰è‚¡ç¥¨ dp[i][0] = dp[i-1][0];
        //           2.ç¬¬i-1å¤©ä¸æŒæœ‰ï¼Œä»Šå¤©æŒæœ‰å°±æ˜¯ä»Šå¤©ä¹°å…¥ dp[i][1] = -prices[i-1];(è¿™é‡Œæ³¨æ„ä¸è¦åŠ ä¸Šdp[i][1])
        // dp[i][1]:1.ç¬¬i-1å¤©ä¸æŒæœ‰è‚¡ç¥¨dp[i][1]=dp[i-1][1];
        //          2.ç¬¬i-1å¤©æŒæœ‰ï¼Œä»Šå¤©ä¸æŒæœ‰å°±æ˜¯ä»Šå¤©å–å‡º dp[i][1] = dp[i-1][0]+prices[i-1]
        for (int i = 2; i < dp.length; i++) {
            dp[i][0] = Math.max(dp[i-1][0], -prices[i-1]);
            dp[i][1] = Math.max(dp[i-1][1], dp[i-1][0]+prices[i-1]);
        }
        return dp[n][1]; //ä¸æŒæœ‰
    }
}
```



# 75ã€å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n

æ±‚ `1+2+...+n` ï¼Œè¦æ±‚ä¸èƒ½ä½¿ç”¨ä¹˜é™¤æ³•ã€forã€whileã€ifã€elseã€switchã€caseç­‰å…³é”®å­—åŠæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼ˆA?B:Cï¼‰ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: n = 3
è¾“å‡º: 6
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: n = 9
è¾“å‡º: 45
```

**é™åˆ¶ï¼š**

- `1 <= n <= 10000`



```java
public class æ±‚é˜¶ä¹˜ {
    public static void main(String[] args) {
        int res = getRes2(9);
        System.out.println(res);
    }

    /**
     * å…ˆå†™é€’å½’çš„ç‰ˆæœ¬ï¼Œç„¶åæˆ‘ä»¬æƒ³åŠæ³•å»æ‰è¿™ä¸ªifæ¡ä»¶
     */
    // è¿”å›å€¼ï¼šå‡ºå…¥æ•°å­—nçš„ç´¯è®¡å’Œç»“æœ
    public static int getRes(int n) {
        if (n == 1) return 1;
        n = n + getRes(n - 1);
        return n;
    }
    /**
     * æƒ³èµ·æ¥æˆ‘ä»¬çš„çŸ­è·¯é€»è¾‘è¿ç®—ï¼Œ&& || å‰é¢ä¸€ä¸ªå‡å¦‚æ»¡è¶³è¦æ±‚åé¢å°±ä¸ä¼šå†æ‰§è¡Œäº†
     * ä¸æ­¤å¯¹åº”çš„æ˜¯ & | è¿™ä¸¤ä¸ªæ˜¯ä¸¤è¾¹ä¸€å®šä¼šæ‰§è¡Œ
     */
    public static int getRes2(int n) {
        // n>1æˆç«‹æ—¶ï¼Œåé¢çš„ä¸€å®šä¼šæ‰§è¡Œï¼›
        // n>1ä¸æˆç«‹æ—¶ï¼Œåé¢çš„å°±ä¸ç”¨æ‰§è¡Œäº†
        boolean b = n > 1 && (n += getRes(n - 1))>1000000; //è¿™ä¸ª>1000éšä¾¿å†™ï¼Œä¸ç„¶ä¼šæŠ¥é”™
        return n;
    }
}
```



# ==76ã€å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ==

å®šä¸€ä¸ªäºŒå‰æœç´¢æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚

[ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/æœ€è¿‘å…¬å…±ç¥–å…ˆ/8918834?fr=aladdin)ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆ**ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆ**ï¼‰ã€‚â€

ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æœç´¢æ ‘: root = [6,2,8,0,4,7,9,null,null,3,5]

![img](images/binarysearchtree_improved.png)

 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: root = [6,2,8,0,4,7,9,null,null,3,5], p = 2, q = 8
è¾“å‡º: 6 
è§£é‡Š: èŠ‚ç‚¹ 2 å’ŒèŠ‚ç‚¹ 8 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯ 6ã€‚
```

ã€Easyã€‘

åŠæš´åŠ›ï¼Œå…ˆæ‰¾å‡ºè¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„è·¯å¾„å‡ºæ¥ï¼Œ**pathå’ŒpathListåœ¨äºŒå‰æ ‘è¿™å—ï¼Œå‡é‡‡ç”¨ List< TreeNode>**ã€‚ç„¶åä»å‰å¾€åä¾æ¬¡å¯¹æ¯”ï¼Œæ‰¾åˆ°åˆ†å‰ç‚¹ã€‚ç„¶åè¿™é‡Œå› ä¸ºæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥åŠ ä¸€ä¸ªæ¡ä»¶ï¼Œå»æœå·¦å­æ ‘ã€å³å­æ ‘å…¶å®ä¸€ä¸ªå³å¯ï¼›

==æˆ‘è‰åˆå†™é”™äº†ï¼Œè¿™é‡Œæ˜¯äºŒå‰æ ‘çš„é€’å½’å›æº¯å•Šï¼Œå› ä¸ºæˆ‘ä»¬æ‰¾æ‰€æœ‰è·¯å¾„æ’’ï¼Œä¸è¦ç®¡è¿™ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œç›´æ¥æŒ‰ç…§æ™®é€šäºŒå‰æ ‘çš„æ¨¡æ¿å†™ï¼Œé€’å½’å›æº¯é€’å½’å›æº¯å•Šå•Šå•Šå•Š==ï¼Œç„¶åå¾—åˆ°è·¯å¾„==æ‰¾åˆ†å²”ç‚¹ä¹Ÿå†™é”™äº†ï¼Œå“å‘€å¦ˆå‘€==ï¼Œä¸¤ä¸ªè·¯å¾„é•¿åº¦å¯èƒ½ä¸ä¸€æ ·ï¼Œç›´æ¥ä¸€ä¸ªforï¼ŒåŠ ä¸¤ä¸ªifåˆ¤æ–­å³å¯å¾ˆç®€å•çš„



```java
class Solution76{
    public TreeNode lowestCommonAncestor( TreeNode root, TreeNode p, TreeNode q){
        getRes(root,p,q);
        //æ‹¿åˆ°ä¸¤æ¡è·¯å¾„
        List<TreeNode> nodeList = pathList.get(0);
        List<TreeNode> nodeList1 = pathList.get(1);
        System.out.println(nodeList);
        System.out.println(nodeList1);
        //ä»å‰å¾€åæ‰¾åˆ°åˆ†å‰ç‚¹ã€‚ä¸€å®šæœ‰ç¥–å…ˆçš„
        for (int i = 0; i < nodeList.size(); i++) {
            if (nodeList.get(i)!=nodeList1.get(i)){
                return nodeList.get(i-1);
            }
            //é•¿åº¦ä¸ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªéå†å®Œäº†ï¼Œå°±éœ€è¦è¿”å›äº†
            if (i==nodeList.size()-1 || i==nodeList1.size()-1){
                return nodeList.get(i);
            }
        }

        return null;

    }
    //é€’å½’å‡½æ•°; æˆ‘è‰åˆå†™é”™äº†
    public List<TreeNode> path = new ArrayList<>();
    public List<List<TreeNode>> pathList = new ArrayList<>();
    public void getRes(TreeNode node, TreeNode p, TreeNode q){
        path.add(node); //ä¸­é€»è¾‘æ”¾åœ¨æœ€å‰é¢ï¼Œåé¢ä¸€å®šå‘é€å›æº¯
        //2.
        if (node == null) {
            return;
        }
        if (node == p){
            pathList.add(new ArrayList<>(path));
        }
        if (node == q){
            pathList.add(new ArrayList<>(path));
        }
        //3.å‰åºéå†
        getRes(node.left,p,q);
        path.remove(path.size()-1);
        getRes(node.right,p,q);
        path.remove(path.size()-1);
    }
}
```



# ==77ã€é¢è¯•é¢˜ 08.08. æœ‰é‡å¤å­—ç¬¦ä¸²çš„æ’åˆ—ç»„åˆ==

æœ‰é‡å¤å­—ç¬¦ä¸²çš„æ’åˆ—ç»„åˆã€‚ç¼–å†™ä¸€ç§æ–¹æ³•ï¼Œè®¡ç®—æŸå­—ç¬¦ä¸²çš„æ‰€æœ‰æ’åˆ—ç»„åˆã€‚

**ç¤ºä¾‹1:**

```
 è¾“å…¥ï¼šS = "qqe"
 è¾“å‡ºï¼š["eqq","qeq","qqe"]
```

**ç¤ºä¾‹2:**

```
 è¾“å…¥ï¼šS = "ab"
 è¾“å‡ºï¼š["ab", "ba"]
```

**æç¤º:**

1. å­—ç¬¦éƒ½æ˜¯è‹±æ–‡å­—æ¯ã€‚
2. å­—ç¬¦ä¸²é•¿åº¦åœ¨[1, 9]ä¹‹é—´ã€‚



ã€æ’åˆ—ã€‘é—®é¢˜â€”â€”æ ‘å±‚å»é‡ï¼›

- æ’åˆ—é˜²æ­¢åŒä¸€ä¸ªå…ƒç´ é‡å¤ä½¿ç”¨â€”â€”Setï¼›
- æ’åˆ—æ ‘å±‚å»é‡â€”â€”ä¸‰ä¸ªæ¡ä»¶ `i>0 && !set.contains(i-1) && nums[i]==nums[i-1] `

å¯¹æ¯”ç»„åˆé—®é¢˜â€”â€”æ ‘å±‚å»é‡ï¼›

- ç»„åˆé˜²æ­¢ã€12ã€‘ã€21ã€‘å‡ºç°â€”â€”startIndexï¼›é˜²æ­¢åŒä¸€ä¸ªå…ƒç´ é‡å¤ä½¿ç”¨â€”â€”i+1ï¼›
- ç»„åˆæ ‘å±‚å»é‡â€”â€”ä¸¤ä¸ªæ¡ä»¶ `i>startIndex, nums[i]==nums[i-1]`



```java
class Solution77 {
    public String[] permutation(String S) {
        char[] chars = S.toCharArray();
        //1ã€å»é‡ç¬¬ä¸€æ­¥ï¼šæ’åº
        Arrays.sort(chars);
        backTracking(chars);
        String[] res = new String[pathList.size()];
        for (int i = 0; i < res.length; i++) {
            res[i] = pathList.get(i);
        }
        return res;
    }

    // æœ‰é‡å¤å…ƒç´ ï¼Œæ ‘å±‚å»é‡
    List<String> pathList = new ArrayList<>();
    StringBuilder path = new StringBuilder();
    Set<Integer> set = new HashSet<>(); //ä½¿ç”¨è¿‡çš„ç´¢å¼•å°±ä¸èƒ½å†ä½¿ç”¨äº†
    public void backTracking(char[] nums) {
        //2.stop
        if (path.length() == nums.length) {
            pathList.add(path.toString());
            return;
        }
        //3.å›æº¯æœç´¢ã€‚å¤„ç†ã€é€’å½’ã€å›æº¯
        for (int i = 0; i < nums.length; i++) {
            //2ã€æ ‘å±‚å»é‡æ¡ä»¶
            if (i>0 && !set.contains(i-1) && nums[i]==nums[i-1] ){
                continue;
            }
            if (set.contains(i)) continue;
            path.append(nums[i]);
            set.add(i);
            backTracking(nums);
            set.remove(i);
            path.deleteCharAt(path.length() - 1);
        }
    }
}
```



# 78ã€å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—

ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° `appendTail` å’Œ `deleteHead` ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œ`deleteHead` æ“ä½œè¿”å› -1 )

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š
["CQueue","appendTail","deleteHead","deleteHead","deleteHead"]
[[],[3],[],[],[]]
è¾“å‡ºï¼š[null,null,3,-1,-1]
```

**æç¤ºï¼š**

- `1 <= values <= 10000`
- æœ€å¤šä¼šå¯¹` appendTailã€deleteHead `è¿›è¡Œ` 10000` æ¬¡è°ƒç”¨

```java
public class ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— {
    public static void main(String[] args) {

    }
}
class CQueue{

    private Stack<Integer> stack1; //æ’å…¥çš„æ—¶å€™æ”¾å…¥è¿™ä¸ª
    private Stack<Integer> stack2; //åˆ é™¤æ—¶å…ˆæ‰¾2æ˜¯ä¸æ˜¯æœ‰å…ƒç´ ï¼Œæœ‰çš„è¯å°±ç›´æ¥popï¼Œæ²¡æœ‰çš„è¯å°±å…ˆæŠŠ1å€’å…¥ï¼Œå†pop

    public CQueue(){
        stack1 = new Stack<>();
        stack2 = new Stack<>();
    }

    public void appendTail(int value){
        stack1.push(value);
    }

    public int deleteHead(){
        //1.å…ˆçœ‹2æœ‰æ²¡æœ‰å…ƒç´ 
        if (!stack2.isEmpty()) return stack2.pop();
        //2.æ²¡æœ‰çš„è¯å°±å…ˆæŠŠ1å€’å…¥ï¼Œå†pop
        if (stack1.isEmpty()) return -1;
        while (!stack1.isEmpty()){
            stack2.push(stack1.pop());
        }
        return stack2.pop();
    }
}
```



# 79ã€å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—

å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ `n` ï¼Œæ±‚æ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—çš„ç¬¬ `n` é¡¹ï¼ˆå³ `F(N)`ï¼‰ã€‚æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å®šä¹‰å¦‚ä¸‹ï¼š

```
F(0) = 0,   F(1) = 1
F(N) = F(N - 1) + F(N - 2), å…¶ä¸­ N > 1.
```

æ–æ³¢é‚£å¥‘æ•°åˆ—ç”± 0 å’Œ 1 å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚

ç­”æ¡ˆéœ€è¦å–æ¨¡ 1e9+7ï¼ˆ1000000007ï¼‰ï¼Œå¦‚è®¡ç®—åˆå§‹ç»“æœä¸ºï¼š1000000008ï¼Œè¯·è¿”å› 1ã€‚



# ==80ã€ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ï¼ˆè…¾è®¯ï¼‰==

ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œä¸¤ä¸¤äº¤æ¢å…¶ä¸­ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å›äº¤æ¢åé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚ä½ å¿…é¡»åœ¨ä¸ä¿®æ”¹èŠ‚ç‚¹å†…éƒ¨çš„å€¼çš„æƒ…å†µä¸‹å®Œæˆæœ¬é¢˜ï¼ˆå³ï¼Œåªèƒ½è¿›è¡ŒèŠ‚ç‚¹äº¤æ¢ï¼‰

**ç¤ºä¾‹ 1ï¼š**

<img src="images/swap_ex1.jpg" alt="img" style="zoom:50%;" />

```
è¾“å…¥ï¼šhead = [1,2,3,4]
è¾“å‡ºï¼š[2,1,4,3]
```

ã€è¿™é“é¢˜ï¼Œè¦ä½¿ç”¨é€’å½’å»è§£å†³ã€‚ä¸è¦ä½¿ç”¨æŒ‡é’ˆå»æŒ‡å‘ï¼Œå¾ˆéº»çƒ¦ï¼Œå®¹æ˜“å†™é”™ã€‘

**ã€1ã€‘ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹**

**ã€2ã€‘ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºä¸€å¯¹ï¼Œè¿›è¡Œä¸¤ä¸¤äº¤æ¢**

```java
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution80 {
    // ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹
    //é€’å½’æ³•ï¼šè¿”å›å€¼æ˜¯å½“å‰èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹çš„é“¾è¡¨cå®Œä¹‹åçš„æ–°å¤´èŠ‚ç‚¹
    public ListNode swapPairs(ListNode head) {
        if (head == null || head.next == null){
            return head;
        }
        //
        ListNode newHead = head.next;
        head.next = swapPairs(newHead.next);
        newHead.next = head;
        return newHead;
    }
  
  
  
  

    // ä¸¤ä¸ªèŠ‚ç‚¹ä¸ºä¸€å¯¹ï¼Œè¿›è¡Œä¸¤ä¸¤äº¤æ¢
    // è¿”å›å€¼æ˜¯å½“å‰èŠ‚ç‚¹ä¸ºå¤´èŠ‚ç‚¹çš„é“¾è¡¨äº¤æ¢å®Œä¹‹åçš„æ–°å¤´èŠ‚ç‚¹
    public ListNode swapPairs2(ListNode head){
        //å°‘äºä¸‰ä¸ªèŠ‚ç‚¹ä¸éœ€è¦äº¤æ¢ï¼ˆ0ï¼Œ1ï¼Œ2ï¼‰
        if (head ==null || head.next==null || head.next.next==null){
            return head;
        }
        //
        ListNode newHead = head.next.next;
//        head.next.next = swapPairs2(newHead.next.next);
//        newHead.next.next = head;
        if (newHead.next!=null) { //å½“ç¬¬äºŒå¯¹æœ‰ä¸¤ä¸ªå…ƒç´ æ—¶
            head.next.next = swapPairs2(newHead.next.next);
            newHead.next.next = head;
        }
        if (newHead.next==null) { //å½“ç¬¬äºŒé˜Ÿåªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶
            head.next.next = swapPairs2(newHead.next);
            newHead.next = head;
        }

        return newHead;
    }
}
```



```java
// å®¹æ˜“å†™é”™çš„å†™æ³•â€”â€”æŒ‡é’ˆæŒ‡å‘äº¤æ¢
class Solution2{
    public ListNode swapPairs(ListNode head){
        //å¤´èŠ‚ç‚¹
        ListNode rhead = new ListNode();
        rhead.next = head;
        //1.é“¾è¡¨ä¸ºç©ºï¼Œå’Œé“¾è¡¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹
        if (rhead.next==null) return null;
        if (rhead.next.next==null) return head;
        //2.é“¾è¡¨æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ä»¥ä¸Š
        // å®šä¹‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘è¢«äº¤æ¢çš„ä¸¤ä¸ªä½ç½®å¯¹çš„å‰ä¸€ä¸ªï¼Œä¸€ä¸ªæ˜¯è¿™å¯¹çš„ç¬¬ä¸€ä¸ªä½ç½®
        ListNode first = rhead;
        ListNode second = rhead.next;
        while (true){
            //å¼€å§‹ä¸‰æ­¥èµ°äº¤æ¢æŒ‡å‘
            first.next = second.next;
            second.next = second.next.next;
            first.next.next = second;
            // ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆ(ç¬¬ä¸€ä¸ªä¸¤ä¸‹ï¼Œç¬¬äºŒä¸ªä¸€ä¸‹ï¼‰
            first = first.next.next;
            second = second.next;
            // åˆ¤æ–­æ˜¯å¦ç»§ç»­äº¤æ¢ï¼ˆçœ‹åé¢æ˜¯å¦è¿˜æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼‰
            if (second==null || second.next==null){
                break;
            }
        }
        return rhead.next;
    }
}
```



# 81ã€æ‰‹å†™æœ€å¤§ä¼˜å…ˆé˜Ÿåˆ—

å®ç° `MaxPriorityQueue` ç±»ï¼š

- `MaxPriorityQueue(int capacity)`ï¼š ä»¥æ­£æ•´æ•°ä½œä¸ºå®¹é‡ `capacity` åˆå§‹åŒ– MaxPriorityQueueå¯¹è±¡
- `void offer(int value)` ï¼šå¾€é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ value
- `int poll()` ï¼šå¼¹å‡ºé˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼ï¼›
- `int peek()` ï¼šæŸ¥çœ‹é˜Ÿåˆ—ä¸­çš„æœ€å¤§å€¼ï¼›



> æ‰‹å†™æœ€å¤§ä¼˜å…ˆé˜Ÿåˆ—â€”â€”æ‰‹å†™å¤§æ ¹å †ï¼›æ•°ç»„1å¤„ä¸ºæœ€å¤§å€¼
>
> æ‰‹å†™æœ€å°ä¼˜å…ˆé˜Ÿåˆ—â€”â€”æ‰‹å†™å°æ ¹å †ï¼›æ•°ç»„1å¤„ä¸ºæœ€å°å€¼
>
> å…¶å®å°±æ˜¯ï¼Œå †æ’åºåŸç†çš„ç¬¬ä¸€ç§æ–¹å¼å®ç°ï¼Œæ‰‹å†™å †ï¼Œç„¶åä¸€ä¸ªä¸ªå¾—åˆ°åˆ é™¤çš„å…ƒç´ ï¼Œå°±æ˜¯äº†ã€‚



![image-20230415152259107](images/image-20230415152259107.png)

![image-20230415152425832](images/image-20230415152425832.png)

```java
public class MaxPriorityQueue {
    public int capacity; //é˜Ÿåˆ—å®¹é‡
    public int size; //å½“å‰é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°

    public MaxPriorityQueue(int capacity){
        this.capacity = capacity;
        this.size = 0;
        this.heap = new int[capacity+1];
    }
    //1ã€å¾€é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´ value
    public void offer(int value){
        if (size==capacity) return;
        size++;
        heap[size] = value;
        rise(size);
    }
    //2ã€å¼¹å‡ºé˜Ÿåˆ—ä¸­æœ€å¤§å€¼
    public int poll(){
        if (size==0) return -1; //æ— å…ƒç´ å¼¹å‡º
        int temp = heap[1];
        heap[1] = heap[size];
        heap[size] = temp;
        // å¼¹å‡ºçš„å…ƒç´ 
        int res = heap[size];
        size--;
        sink(1);
        return res;
    }
    //3ã€æŸ¥çœ‹é˜Ÿåˆ—ä¸­æœ€å¤§å€¼
    public int peek(){
        if (size==0) return -1;
        return heap[1];
    }

    // å¯¹å¤–éšè—çš„éƒ¨åˆ†
    private int[] heap; //ä»1å¼€å§‹å­˜å‚¨
    //1ã€ç´¢å¼•kå¤„çš„å…ƒç´ ä¸Šæµ®æ“ä½œï¼›å±äºèŒƒå›´ä¸Šæµ®
    private void rise(int k){
        while (k/2>=1){ //å­˜åœ¨çˆ¶èŠ‚ç‚¹
            if (heap[k]>heap[k/2]){
                int temp = heap[k];
                heap[k] = heap[k/2];
                heap[k/2] = temp;
                k = k/2; //
            }else {
                break;
            }
        }
    }

    //2ã€ç´¢å¼•kå¤„çš„å…ƒç´ ä¸‹æ²‰æ“ä½œï¼ŒèŒƒå›´ä¸‹æ²‰ï¼›
    // åˆ é™¤çš„æ—¶å€™ï¼ŒåŒå †æ’åºç±»ä¼¼ï¼Œå°†1å¤„å’Œæœ€å¤§ç´¢å¼•å¤„å…ƒç´ äº¤æ¢ï¼Œç„¶ååˆ é™¤æœ€å¤§ç´¢å¼•å¤„å…ƒç´ ï¼Œå¯¹1å¤„è¿›è¡Œä¸‹æ²‰
    private void sink(int k){
        int maxIndex = size;
        while (2*k<=maxIndex){ //sizeå°±æ˜¯heapå †æ•°ç»„ä¸­æœ‰æ•ˆæœ€å¤§ç´¢å¼•
            int maxChild = 0;
            if (2*k+1<=maxIndex){
                if (heap[2*k]>heap[2*k+1]){
                    maxChild = 2*k;
                }else maxChild = 2*k+1;
            }else {
                maxChild = 2*k;
            }
            //
            if (heap[k]<heap[maxChild]){
                int temp = heap[k];
                heap[k] = heap[maxChild];
                heap[maxChild] = temp;
                //
                k = maxChild;
            }else {
                break;
            }
        }
    }
}
```



# 82ã€å‰‘æŒ‡ Offer II 094. æœ€å°‘å›æ–‡åˆ†å‰²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¿”å›ç¬¦åˆè¦æ±‚çš„ **æœ€å°‘åˆ†å‰²æ¬¡æ•°** ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š1
è§£é‡Šï¼šåªéœ€ä¸€æ¬¡åˆ†å‰²å°±å¯å°† s åˆ†å‰²æˆ ["aa","b"] è¿™æ ·ä¸¤ä¸ªå›æ–‡å­ä¸²ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š0
```



å…ˆå¾—åˆ°æ‰€æœ‰çš„åˆ†å‰²æ–¹æ¡ˆï¼Œç„¶åæ¯ç§æ–¹æ¡ˆçš„åˆ†å‰²æ¬¡æ•°å°±æ˜¯å…¶ é•¿åº¦-1ã€‚è¿™ç§æ˜¯å…ˆå›æº¯ï¼Œæš´åŠ›è§£æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å…·ä½“çš„åˆ†å‰²æ–¹å¼ï¼Œä½†æ˜¯å®ƒåªæ±‚æœ€å°‘åˆ†å‰²æ¬¡æ•°ï¼›è¦ä½¿ç”¨DPå»åšçš„ï¼›



```java
/**
 * è§£æ³•2:DP
 * éš¾ç‚¹æ˜¯å¦‚ä½•å®šä¹‰è¿™ä¸ªæ•°ç»„
 */
public int getResByDP(String s) {
    // æˆ‘ä»¬å®šä¹‰dp[i]: å°†å‰iä¸ªå­—ç¬¦ï¼ˆ[0:i-1]) åˆ†å‰²ä¸ºè‹¥å¹²å›æ–‡ä¸²çš„æœ€å°åˆ†å‰²æ¬¡æ•°ï¼Œé‚£ä¹ˆæœ€ç»ˆç­”æ¡ˆä¸ºdp[n]ã€‚
    int[] dp = new int[s.length() + 1];
    dp[0] = 0;
    dp[1] = 0;
    //2.dp[i] å’Œå‰é¢çš„dp[i-1]å…³ç³»
    // å¦‚æœiä¸ªå­—ç¬¦æ˜¯å›æ–‡çš„ï¼Œåˆ™ç›´æ¥=0ï¼›
    // å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆdp[i]å’Œdp[i-1]çš„å…³ç³»åœ¨äºï¼Œå¦‚åé¢è¿™æ®µå­—ä¸²å¦‚æœä¸ºå›æ–‡ï¼Œåˆ™dp[i]=dp[i-1]+1;å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€
    // ä»å³å‘å·¦ä¾æ¬¡åˆ¤æ–­ï¼Œã€leftï¼Œi-1ã€‘ï¼ˆleftæ˜¯ç´¢å¼•ï¼Œleft=i-1ï¼Œleft>=1ï¼‰å¦‚æœè¢«åˆ¤æ–­çš„æ˜¯å›æ–‡åˆ™ï¼Œdp[i] = dp[left]+1ï¼Œå¹¶ä¸”è¿™é‡Œä¼šæœ‰å¤šç§æ–¹æ¡ˆï¼Œæˆ‘ä»¬è¦å–æœ€å°çš„;
    // åæ­£è‚¯å®šæ˜¯å¯ä»¥åˆ†å‰²çš„ï¼Œå°±æ˜¯å…¨éƒ¨ä¸ºå•ä¸ªå­—ç¬¦ï¼›
    for (int i = 2; i < dp.length; i++) {
        dp[i] = i - 1;
        if (isPalindrome(s.substring(0, i))) {
            dp[i] = 0;
        } else {
            for (int left = i - 1; left >= 1; left--) {
                if (isPalindrome(s.substring(left, i))) {
                    dp[i] = Math.min(dp[left] + 1, dp[i]);
                }
            }
        }
    }
    return dp[s.length()];
}
```



# ==83ã€å‰‘æŒ‡ Offer II 001. æ•´æ•°é™¤æ³•==

ç»™å®šä¸¤ä¸ªæ•´æ•° `a` å’Œ `b` ï¼Œæ±‚å®ƒä»¬çš„é™¤æ³•çš„å•† `a/b` ï¼Œè¦æ±‚ä¸å¾—ä½¿ç”¨ä¹˜å· `'*'`ã€é™¤å· `'/'` ä»¥åŠæ±‚ä½™ç¬¦å· `'%'` ã€‚

**æ³¨æ„ï¼š**

- æ•´æ•°é™¤æ³•çš„ç»“æœåº”å½“æˆªå»ï¼ˆ`truncate`ï¼‰å…¶å°æ•°éƒ¨åˆ†ï¼Œä¾‹å¦‚ï¼š`truncate(8.345) = 8` ä»¥åŠ `truncate(-2.7335) = -2`
- å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ `[âˆ’231, 231âˆ’1]`ã€‚æœ¬é¢˜ä¸­ï¼Œå¦‚æœé™¤æ³•ç»“æœæº¢å‡ºï¼Œåˆ™è¿”å› `231 âˆ’ 1`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼ša = 15, b = 2
è¾“å‡ºï¼š7
è§£é‡Šï¼š15/2 = truncate(7.5) = 7
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼ša = 7, b = -3
è¾“å‡ºï¼š-2
è§£é‡Šï¼š7/-3 = truncate(-2.33333..) = -2
```

**æç¤º:**

- `-231 <= a, b <= 231 - 1`
- `b != 0`

ã€åˆ†ææ€è·¯ã€‘

ä¸€ä¸ªæœ€ç›´è§‚çš„æ–¹æ³•å°±æ˜¯å¾ªç¯ä½¿ç”¨a-bï¼Œè®¡ç®—å‡äº†å¤šå°‘æ¬¡ï¼Œå³å¯å¾—åˆ°ç»“æœã€‚ ä½†è¯·æ³¨æ„aã€bçš„å–å€¼èŒƒå›´ï¼Œå¦‚æœaä¸º2 ^ 31âˆ’1ï¼Œbä¸º1é‚£ä¹ˆä»…ä¸€æ¬¡å°±éœ€è¦è®¡ç®—2 ^ 31âˆ’1æ¬¡ï¼Œæ‰€ä»¥è¿™ä¸ªæ€è·¯æ˜¯ä¸å¯è¡Œçš„ã€‚ é‚£ä¹ˆï¼Œæ—¢ç„¶ä¸èƒ½ä»è¢«é™¤æ•°ä¸Šä¸‹æ‰‹ï¼Œèƒ½å¦é€šè¿‡é™¤æ•°è¿›è¡Œæ“ä½œå‘¢ï¼Ÿå¦‚æœå¤§å®¶å¯¹äºŒåˆ†æœç´¢ç†Ÿæ‚‰ï¼Œç›¸ä¿¡å¾ˆå¿«èƒ½æ‰¾åˆ°æ€è·¯ã€‚

```java
    public int divide(int a, int b) {
        // é¦–å…ˆåˆ¤æ–­è¶Šç•Œæƒ…å†µï¼Œå³-128å˜æˆ128è¿™ç§ã€‚å› ä¸ºintçš„è¡¨ç¤ºèŒƒå›´-2^31â€”â€”2^31-1ã€‚æœ€å°çš„è´Ÿæ•°è½¬æ¢æ­£æ•°ä¼šæº¢å‡º
        if (a == Integer.MIN_VALUE && b == -1) {
            System.out.println(Integer.MAX_VALUE);
            return Integer.MAX_VALUE; //è¶Šç•Œ1
        }
        // è®°å½•æ­£è´Ÿæ•°æƒ…å†µï¼Œæˆ‘ä»¬å…¨éƒ¨å˜æˆè´Ÿæ•°ï¼Œå› ä¸º-128ä¸èƒ½å˜æˆæ­£æ•°
        boolean flag = true; //æœ€åç»“æœä¸ºè´Ÿ
        if (a > 0 && b > 0 || a < 0 && b < 0) {
            flag = false;
        }
        a = a > 0 ? -a : a;
        b = b > 0 ? -b : b;
        // è®¡ç®—ç»“æœï¼Œé‡‡ç”¨é™¤æ•°å€å¢æ³•ï¼Œç›´æ¥æ¯æ¬¡ä¹˜ä»¥2å€å¢ï¼Œå¯¹åº”çš„æ¬¡æ•°ä¹Ÿæ˜¯å€å¢çš„
        int ans = 0;
        int tempAns;
        int divideB = b;
        // æ¯ä¸€è½®æ‰¾åˆ°è¯¥è¢«é™¤æ•°ä¸‹æœ€å¤§çš„é‚£ä¸ªå¯ä»¥å‡çš„æ•°ï¼Œå¿…é¡»æ˜¯2å€å¢çš„å³x2
        while (a <= b) { //å¿…é¡»æ˜¯ç­‰äºå“¦ï¼Œa=bæ—¶
            tempAns = 1;
//            while (a <= 2 * b) { // å•Šï¼Œæˆ‘çŸ¥é“åˆ°äº†ï¼Œè¿™é‡Œå½“bä¸º-2147483648æ—¶ï¼Œæ‰§è¡Œè¿™ä¸ªå°±ä¼šæº¢å‡ºäº†
            while ((a - b) <= b) { // è¿™æ ·å°±è¡Œäº†ï¼Œæ‰€ä»¥æœ‰ä¸‰ä¸ªåœ°æ–¹è¦è§£å†³æº¢å‡ºé—®é¢˜
                b = 2 * b;
                tempAns = 2 * tempAns;
            }
            a = a - b;
            b = divideB;
            ans += tempAns;
        }
        ans = flag ? -ans : ans;  //è¿™é‡Œå¯¹äº-2147483648/1æ˜¯å¦‚ä½•å¤„ç†çš„ï¼Ÿ
        System.out.println(ans);
        return ans;
    }
```



# 85ã€å‰‘æŒ‡ Offer II 103. æœ€å°‘çš„ç¡¬å¸æ•°ç›®

ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ `coins` å’Œä¸€ä¸ªæ€»é‡‘é¢ `amount`ã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1`ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

**æç¤ºï¼š**

- `1 <= coins.length <= 12`
- `1 <= coins[i] <= 231 - 1`
- `0 <= amount <= 104`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šcoins = [1, 2, 5], amount = 11
è¾“å‡ºï¼š3 
è§£é‡Šï¼š11 = 5 + 5 + 1
```

```java
    public int getRes(int[] coins, int amount) {
        // dp[i][j]: ä»å‰iä¸ªç‰©å“é€‰ï¼Œå®¹é‡ä¸ºjçš„èƒŒåŒ…è£…æ»¡æ‰€ç”¨çš„æœ€å°‘ç‰©å“æ•°
        //1ã€å®šä¹‰dpæ•°ç»„
        int bagSize = amount;
        int[] weights = coins;
        int[][] dp = new int[weights.length + 1][bagSize + 1];
        //3ã€dpåˆå§‹åŒ–
        Arrays.fill(dp[0], Integer.MAX_VALUE - 2);
        for (int i = 0; i < dp.length; i++) {
            dp[i][0] = 0;
        }
        dp[0][0] = 0;
        //2ã€é€’æ¨å…¬å¼
        // dp[i][j]  ç¬¬iä¸ªç‰©å“èƒ½ä¸èƒ½é€‰
        // èƒ½é€‰ï¼šæˆ‘åˆå¯ä»¥é€‰æˆ–è€…ä¸é€‰ dp[i][j] = dp[i][j-weights[i-1]] + 1 || dp[i-1][j]
        // ä¸èƒ½é€‰ï¼šdp[i][j] = dp[i-1][j];
        //4ã€éå†é¡ºåº
        for (int i = 1; i < dp.length; i++) {
            for (int j = 1; j < dp[0].length; j++) {
                if (j - weights[i - 1] >= 0) {
                    dp[i][j] = Math.min(dp[i][j - weights[i - 1]] + 1, dp[i - 1][j]);
                } else {
                    dp[i][j] = dp[i - 1][j];
                }
            }
        }
        int ans = dp[weights.length][bagSize] == Integer.MAX_VALUE - 2 ? -1 : dp[weights.length][bagSize];
        System.out.println(ans);
        return ans;
    }
```



# 86ã€å‰‘æŒ‡ Offer II 059. æ•°æ®æµçš„ç¬¬ K å¤§æ•°å€¼

è®¾è®¡ä¸€ä¸ªæ‰¾åˆ°æ•°æ®æµä¸­ç¬¬ `k` å¤§å…ƒç´ çš„ç±»ï¼ˆclassï¼‰ã€‚æ³¨æ„æ˜¯æ’åºåçš„ç¬¬ `k` å¤§å…ƒç´ ï¼Œä¸æ˜¯ç¬¬ `k` ä¸ªä¸åŒçš„å…ƒç´ ã€‚

è¯·å®ç° `KthLargest` ç±»ï¼š

- `KthLargest(int k, int[] nums)` ä½¿ç”¨æ•´æ•° `k` å’Œæ•´æ•°æµ `nums` åˆå§‹åŒ–å¯¹è±¡ã€‚
- `int add(int val)` å°† `val` æ’å…¥æ•°æ®æµ `nums` åï¼Œè¿”å›å½“å‰æ•°æ®æµä¸­ç¬¬ `k` å¤§çš„å…ƒç´ ã€‚

```java
// æ€è·¯1ï¼ŒæŒ‰ç…§æ­£å¸¸çš„æƒ³æ³•æ¥åšï¼šä¿å­˜æ‰€æœ‰çš„å…ƒç´ ï¼Œæ’åºï¼Œå¾—åˆ°ç¬¬kå¤§çš„ã€‚æ’å…¥ä¸€ä¸ªå…ƒç´ å°±è¦æ’åºä¸€æ¬¡ï¼Œå¤æ‚åº¦ä¸ºnlognï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„æ¥å®ç°ï¼Œæ’åºå®Œåæ”¯æŒéšæœºè®¿é—®
// æ€è·¯2ï¼Œä¸ä¿å­˜æ‰€æœ‰çš„å…ƒç´ ï¼Œåªè¦å‰kä¸ªå¤§çš„å…ƒç´ å³å¯ï¼Œå°±å¯ä»¥ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å®ç°äº†â€”å°æ ¹å †ï¼Œé˜Ÿå¤´æ˜¯æœ€å°çš„ï¼Œé˜Ÿåˆ—é•¿åº¦ä¸ºkï¼Œæ¯æ¬¡å’Œé˜Ÿå¤´å…ƒç´ æ¯”è¾ƒå³å¯ï¼Œå‡å¦‚æ›´å¤§å°±è¸¢æ‰é˜Ÿå¤´ï¼Œæ’å…¥æ–°çš„ï¼›
// å¤æ‚åº¦ä¸ºï¼šç¬¬ä¸€æ¬¡éœ€è¦klogkè¿›è¡Œå †æ’ï¼Œåé¢å°±ä¸æ˜¯æ¯æ¬¡éƒ½éœ€è¦æ’åºã€‚
class KthLargest {

    private Queue<Integer> priorityQueue;
    private int k;
    private int capacity; //å½“å‰é˜Ÿåˆ—æ•°æ®é‡

    public int add(int val) {
        if (capacity < k) {
            priorityQueue.offer(val);
            capacity++;
        } else {
            if (priorityQueue.peek() < val) {
                priorityQueue.poll();
                priorityQueue.offer(val);
            }
        }
        return priorityQueue.peek();
    }

    public KthLargest(int k, int[] nums) {
        this.priorityQueue = new PriorityQueue<>((o1, o2) -> o1 - o2);
        this.k = k;
        if (nums.length <= k) {
            for (int i = 0; i < nums.length; i++) {
                priorityQueue.add(nums[i]);
                capacity++;
            }
        } else {
            for (int i = 0; i < k; i++) {
                priorityQueue.offer(nums[i]);
                capacity++;
            }
            for (int i = k; i < nums.length; i++) {
                if (!priorityQueue.isEmpty() && priorityQueue.peek() < nums[i]) {
                    priorityQueue.poll();
                    priorityQueue.offer(nums[i]);
                }
            }
        }
    }
}
```

# 87ã€å‰‘æŒ‡ Offer II 027. å›æ–‡é“¾è¡¨

ç»™å®šä¸€ä¸ªé“¾è¡¨çš„ **å¤´èŠ‚ç‚¹** `head` **ï¼Œ**è¯·åˆ¤æ–­å…¶æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨ã€‚

å¦‚æœä¸€ä¸ªé“¾è¡¨æ˜¯å›æ–‡ï¼Œé‚£ä¹ˆé“¾è¡¨èŠ‚ç‚¹åºåˆ—ä»å‰å¾€åçœ‹å’Œä»åå¾€å‰çœ‹æ˜¯ç›¸åŒçš„ã€‚

**è¿›é˜¶ï¼š**èƒ½å¦ç”¨ O(n) æ—¶é—´å¤æ‚åº¦å’Œ O(1) ç©ºé—´å¤æ‚åº¦è§£å†³æ­¤é¢˜ï¼Ÿ

**æç¤ºï¼š**

- é“¾è¡¨ L çš„é•¿åº¦èŒƒå›´ä¸º `[1, 105]`
- `0 <= node.val <= 9`

**ç¤ºä¾‹ 1ï¼š**

**![img](images/1626421737-LjXceN-image.png)**

```
è¾“å…¥: head = [1,2,3,3,2,1]
è¾“å‡º: true
```

```java
    public boolean isPalindrome(ListNode head) {
        // è¿™æ˜¯å•é“¾è¡¨ï¼Œå…ˆéå†ä¸€æ¬¡ç»“æœå­˜åˆ°é›†åˆlistï¼Œç„¶ååŒæŒ‡é’ˆï¼Œå¤æ‚åº¦ä¸ºn
        List<Integer> list = new ArrayList<>();
        while (head!=null){
            list.add(head.val);
            head = head.next;
        }
        int left = 0;
        int right = list.size()-1;
        while (left<right){
            if (!list.get(left).equals(list.get(right))){
                return false;
            }
            left++;
            right--;
        }
        return true;
    }
```



# 88ã€å‰‘æŒ‡ Offer II 094. æœ€å°‘å›æ–‡åˆ†å‰²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·å°† `s` åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚

è¿”å›ç¬¦åˆè¦æ±‚çš„ **æœ€å°‘åˆ†å‰²æ¬¡æ•°** ã€‚

- `1 <= s.length <= 2000`
- `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aab"
è¾“å‡ºï¼š1
è§£é‡Šï¼šåªéœ€ä¸€æ¬¡åˆ†å‰²å°±å¯å°† s åˆ†å‰²æˆ ["aa","b"] è¿™æ ·ä¸¤ä¸ªå›æ–‡å­ä¸²ã€‚
```

**1. æš´åŠ›å›æº¯æ³•ï¼Œä¸‡é‡‘æ²¹è§£æ³•ï¼Œä½†ä¼šè¶…æ—¶**

```java
public class æœ€å°‘å›æ–‡åˆ†å‰²094 {

    public int getRes(String s) {
        backtracking(s, 0);
        if (pathList.size() == 0) return -1;
        int ans = Integer.MAX_VALUE;
        for (List<String> list : pathList) {
            ans = Math.min(ans, list.size() - 1);
        }
        return ans;
    }

    //1ã€æš´åŠ›è§£æ³•ï¼šå›æº¯å¾—åˆ°æ‰€æœ‰çš„å…·ä½“åˆ†å‰²æ–¹æ¡ˆ
    private List<String> path = new ArrayList<>();
    private List<List<String>> pathList = new ArrayList<>();

    private void backtracking(String s, int startIndex) {
        //2. stop
        if (startIndex == s.length()) {
            pathList.add(new ArrayList<>(path));
            return;
        }
        //3. for + cursion
        for (int i = startIndex; i < s.length(); i++) {
            //
            String substring = s.substring(startIndex, i + 1);
            if (!isPalindrome(substring)) {
                continue;
            }
            path.add(substring);
            //
            backtracking(s, i + 1);
            //
            path.remove(path.size() - 1);
        }
    }

    private boolean isPalindrome(String s) {
        int start = 0;
        int end = s.length() - 1;
        while (start < end) {
            if (s.charAt(start) != s.charAt(end)) {
                return false;
            }
            start++;
            end--;
        }
        return true;
    }
}
```

**2ã€è¿™ä¸ªä¸è¶…æ—¶è‚¯å®šæ˜¯DPï¼Œé‚£ä¹ˆå¦‚ä½•å®šä¹‰å‘¢**

```java

    private boolean isPalindrome(String s) {
        int start = 0;
        int end = s.length() - 1;
        while (start < end) {
            if (s.charAt(start) != s.charAt(end)) {
                return false;
            }
            start++;
            end--;
        }
        return true;
    }

    /**
     * è§£æ³•2:DP
     * éš¾ç‚¹æ˜¯å¦‚ä½•å®šä¹‰è¿™ä¸ªæ•°ç»„
     */
    public int getResByDP(String s) {
        // æˆ‘ä»¬å®šä¹‰dp[i]: å°†å‰iä¸ªå­—ç¬¦ï¼ˆ[0:i-1]) åˆ†å‰²ä¸ºè‹¥å¹²å›æ–‡ä¸²çš„æœ€å°åˆ†å‰²æ¬¡æ•°ï¼Œé‚£ä¹ˆæœ€ç»ˆç­”æ¡ˆä¸ºdp[n]ã€‚
        int[] dp = new int[s.length() + 1];
        dp[0] = 0;
        dp[1] = 0;
        //2.dp[i] å’Œå‰é¢çš„dp[i-1]å…³ç³»
        // å¦‚æœiä¸ªå­—ç¬¦æ˜¯å›æ–‡çš„ï¼Œåˆ™ç›´æ¥=0ï¼›
        // å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆdp[i]å’Œdp[i-1]çš„å…³ç³»åœ¨äºï¼Œå¦‚åé¢è¿™æ®µå­—ä¸²å¦‚æœä¸ºå›æ–‡ï¼Œåˆ™dp[i]=dp[i-1]+1;å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ„æ€
        // ä»å³å‘å·¦ä¾æ¬¡åˆ¤æ–­ï¼Œã€leftï¼Œi-1ã€‘ï¼ˆleftæ˜¯ç´¢å¼•ï¼Œleft=i-1ï¼Œleft>=1ï¼‰å¦‚æœè¢«åˆ¤æ–­çš„æ˜¯å›æ–‡åˆ™ï¼Œdp[i] = dp[left]+1ï¼Œå¹¶ä¸”è¿™é‡Œä¼šæœ‰å¤šç§æ–¹æ¡ˆï¼Œæˆ‘ä»¬è¦å–æœ€å°çš„;
        // åæ­£è‚¯å®šæ˜¯å¯ä»¥åˆ†å‰²çš„ï¼Œå°±æ˜¯å…¨éƒ¨ä¸ºå•ä¸ªå­—ç¬¦ï¼›
        for (int i = 2; i < dp.length; i++) {
            dp[i] = i - 1;
            if (isPalindrome(s.substring(0, i))) {
                dp[i] = 0;
            } else {
                for (int left = i - 1; left >= 1; left--) {
                    if (isPalindrome(s.substring(left, i))) {
                        dp[i] = Math.min(dp[left] + 1, dp[i]);
                    }
                }
            }
        }
        return dp[s.length()];
    }
```

# 89ã€æœç´¢æ—‹è½¬æ’åºæ•°ç»„ï¼ˆé˜¿é‡Œï¼‰

**å…ˆåšå‰é¢è¿™é“é¢˜ï¼šå‰‘æŒ‡offer11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­—**

æ•´æ•°æ•°ç»„ `nums` æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ **äº’ä¸ç›¸åŒ** ã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬**ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼ˆä¸‹æ ‡ **ä» 0 å¼€å§‹** è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `[0,1,2,4,5,6,7]` åœ¨ä¸‹æ ‡ `3` å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º `[4,5,6,7,0,1,2]` ã€‚

ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œå¦‚æœ `nums` ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ `target` ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› `-1` ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

- `1 <= nums.length <= 5000`
- `-104 <= nums[i] <= 104`
- `nums` ä¸­çš„æ¯ä¸ªå€¼éƒ½ **ç‹¬ä¸€æ— äºŒ**
- é¢˜ç›®æ•°æ®ä¿è¯ `nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬
- `-104 <= target <= 104`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
è¾“å‡ºï¼š4
```

```java
    public int getRes(int[] nums, int target) {
        // è¿™é“é¢˜åŒç¬¬ä¸€é“æ—‹è½¬æ•°ç»„ç±»ä¼¼ï¼Œä½†è¿™ä¸ªæ¯”è¾ƒç®€å•ä¸€ç‚¹ï¼Œæ— é‡å¤å…ƒç´ ï¼Œä¹Ÿæ˜¯äºŒåˆ†æ³•
        int left = 0;
        int right = nums.length - 1;
        int mid = left + (right - left) / 2;

        while (left <= right) {
            if (nums[mid] == target) {
                return mid;
            } else if (nums[mid] > nums[right]) {
                // ã€left,midã€‘åŒºé—´æœ‰åºï¼Œæˆ‘ä»¬ç›´æ¥åˆ¤æ–­
                if (target >= nums[left] && target < nums[mid]) {
                    right = mid-1;
                }else {
                    left = mid+1;
                }
                mid = left + (right - left) / 2;
            } else {
                // [mid, right] åŒºé—´æœ‰åº
                if (target > nums[mid] && target <= nums[right]){
                    left = mid+1;
                }else {
                    right = mid-1;
                }
                mid = left + (right - left) / 2;
            }
        }
        return -1;
    }
```

# 90ã€æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II

å·²çŸ¥å­˜åœ¨ä¸€ä¸ªæŒ‰éé™åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums` ï¼Œ**æ•°ç»„ä¸­çš„å€¼æœ‰é‡å¤ã€‚**

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬** ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼ˆä¸‹æ ‡ **ä» 0 å¼€å§‹** è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `[0,1,2,4,4,4,5,6,6,7]` åœ¨ä¸‹æ ‡ `5` å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º `[4,5,6,6,7,0,1,2,4,4]` ã€‚

ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œè¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚å¦‚æœ `nums` ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ `target` ï¼Œåˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

**æç¤ºï¼š**

- `1 <= nums.length <= 5000`
- `-104 <= nums[i] <= 104`
- é¢˜ç›®æ•°æ®ä¿è¯ `nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ä¸Šè¿›è¡Œäº†æ—‹è½¬
- `-104 <= target <= 104`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 0
è¾“å‡ºï¼štrue
```



```java
    public boolean getRes(int[] nums, int target) {
        // è¿™é“é¢˜åŒç¬¬äºŒé“æ—‹è½¬æ•°ç»„ç±»ä¼¼ï¼Œä½†è¿™ä¸ªæ¯”è¾ƒéš¾ä¸€ç‚¹ä¸€ç‚¹ï¼Œé‡å¤å…ƒç´ ï¼Œä¹Ÿæ˜¯äºŒåˆ†æ³•
        int left = 0;
        int right = nums.length - 1;
        int mid = left + (right - left) / 2;

        while (left <= right) {
            if (nums[mid] == target) {
                return true;
            }
            if (nums[mid] > nums[right]) {
                // [left,mid]
                if (nums[left] <= target && target < nums[mid]) {
                    right = mid - 1;
                } else {
                    left = mid + 1;
                }
                mid = left + (right - left) / 2;
            } else if (nums[mid] < nums[right]){
                // [mid, right]
                if (nums[mid] < target && target <= nums[right]) {
                    left = mid + 1;
                } else {
                    right = mid - 1;
                }
                mid = left + (right - left) / 2;
            }else {
                // å› ä¸ºæ•°ç»„é‡å¤ï¼Œæ‰€ä»¥è¿™é‡Œå¤šä¸€ç§æƒ…å†µï¼Œç›´æ¥æŠ›å¼ƒrightå°±è¡Œäº†
                right--;
                mid = left + (right - left) / 2;
            }
        }
        return false;
    }
```





# 91ã€å‰‘æŒ‡ Offer II 010. å’Œä¸º k çš„å­æ•°ç»„1

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°k *ï¼Œè¯·æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º* *k* *çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚*

è¿™æ˜¯æˆ‘è‡ªå·±æ”¹çš„é¢˜ç›®ã€‚ï¼ˆæ³¨æ„kæ˜¯ä¸€ä¸ªæ•´æ•°ï¼‰

```java
    public int getRes(int[] nums, int k) {
        // å…ƒç´ éè´Ÿä¸”è¿ç»­å­æ•°ç»„ï¼Œå¯ä»¥æ»‘åŠ¨çª—å£ï¼Œforwhile
        int sum = 0;
        int start = 0; //start
        int ans = 0;
        for (int i = 0; i < nums.length; i++) {// i: end
            sum += nums[i];
            if (sum == k) {
                ans++;
                while (sum == k) { //æ•°ç»„å‡ºç°0æƒ…å†µçš„åˆ¤æ–­
                    sum -= nums[start];
                    start++;
                    if (sum == k) ans++;
                }
            } else if (sum > k) {
                //å¾ªç¯ç§»åŠ¨
                while (sum > k && start <= i) { // kå°äº0æ—¶ï¼Œæœ‰éæ³•åŒºé—´
                    sum -= nums[start];
                    start++;
                }
                if (sum == k && start <= i) ans++; // æ˜“é”™ï¼Œå› ä¸ºstartå¯èƒ½æ˜¯i+1ï¼Œå·²ç»ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆåŒºé—´
            }
        }
        System.out.println(ans);
        return ans;
    }
```



# 92ã€å‰‘æŒ‡ Offer II 010. å’Œä¸º k çš„å­æ•°ç»„2

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„å’Œä¸€ä¸ªæ•´æ•° `k` **ï¼Œ**è¯·æ‰¾åˆ°è¯¥æ•°ç»„ä¸­å’Œä¸º `k` çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•°ã€‚

**æç¤º:**

- `1 <= nums.length <= 2 * 104`
- `-1000 <= nums[i] <= 1000`
- `-107 <= k <= 107`

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥:nums = [1,1,1], k = 2
è¾“å‡º: 2
è§£é‡Š: æ­¤é¢˜ [1,1] ä¸ [1,1] ä¸ºä¸¤ç§ä¸åŒçš„æƒ…å†µ
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥:nums = [1,2,3], k = 3
è¾“å‡º: 2
```

â€‹															**ï¼ï¼ï¼ï¼ï¼å‰ç¼€å’Œæ€æƒ³ï¼ï¼ï¼ï¼ï¼**

 ```java
     public int getRes(int[] nums, int k) {
         // ä¸èƒ½ä½¿ç”¨æ»‘åŠ¨çª—å£äº†ï¼Œå› ä¸ºæ•°ç»„ä¸æ˜¯éè´Ÿæ•´æ•°ï¼›
         // æˆ‘ä»¬ä½¿ç”¨æš´åŠ›ï¼Œç¬¬ä¸€ä¸ªforç¡®å®šç»ˆæ­¢ä½ç½®ï¼Œç¬¬äºŒä¸ªforç¡®å®šèµ·å§‹ä½ç½®ï¼Œç„¶ååŒºé—´æ±‚å’Œï¼Œè¿™ä¸ªæ±‚å’Œè¿‡ç¨‹å¯ä»¥ä¼˜åŒ–çš„ï¼›ä»åå¾€å‰æ±‚ï¼Œå¾ˆå·§å¦™ï¼Œå’Œä¹‹å‰ä¸€ä¸ªæ€æƒ³ç‰¹åˆ«åƒï¼Œä¸€ä¸‹å­æƒ³ä¸èµ·æ¥äº†ã€‚
         // è¿™æ ·å°±ä» n3 å˜æˆäº† n2
         int ans = 0;
         for (int i = 0; i < nums.length; i++) {
             int sum = 0;
             for (int j = i; j >=0 ; j--) {
                 sum += nums[j];
                 if (sum == k) ans++;
             }
         }
         return ans;
     }
 ```



# 93ã€å‰‘æŒ‡ Offer II 107. çŸ©é˜µä¸­çš„è·ç¦» 

ç»™å®šä¸€ä¸ªç”± `0` å’Œ `1` ç»„æˆçš„çŸ©é˜µ `mat` ï¼Œè¯·è¾“å‡ºä¸€ä¸ªå¤§å°ç›¸åŒçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ ¼å­æ˜¯ `mat` ä¸­å¯¹åº”ä½ç½®å…ƒç´ åˆ°æœ€è¿‘çš„ `0` çš„è·ç¦»ã€‚

ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º `1` ã€‚

**æç¤ºï¼š**

- `m == mat.length`
- `n == mat[i].length`
- `1 <= m, n <= 104`
- `1 <= m * n <= 104`
- `mat[i][j] is either 0 or 1.`
- `mat` ä¸­è‡³å°‘æœ‰ä¸€ä¸ª `0 `

**ç¤ºä¾‹ 1ï¼š**

![img](images/1626667201-NCWmuP-image.png)

```
è¾“å…¥ï¼šmat = [[0,0,0],[0,1,0],[0,0,0]]
è¾“å‡ºï¼š[[0,0,0],[0,1,0],[0,0,0]]
```

ã€åˆ†æã€‘è¿™æ˜¯çŸ©é˜µçš„æœç´¢ç±»å‹ï¼šä¸€èˆ¬æ˜¯DFSé€’å½’å›æº¯æ³•ï¼Œä½†è¿™ä¸ªè¦æ‰¾æœ€è¿‘çš„ï¼Œæˆ‘ä»¬åªèƒ½BFSæœç´¢,å€ŸåŠ©è¾…åŠ©æ•°æ®ç»“æ„é˜Ÿåˆ—å®ç°ã€‚å…¶æ¬¡çŸ©é˜µçš„æ¯ä¸ªä½ç½®éƒ½è¦æœç´¢ä¸€æ¬¡ã€‚

è¿™é“é¢˜å’Œå‰å‡ å¤©çš„æ‰“å¡é¢˜ **ã€Œ1162.åœ°å›¾åˆ†æã€** ä¸€æ¯›ä¸€æ ·ï¼é‚£é“é¢˜æ˜¯å¯ä»¥ç†è§£ä¸ºéœ€è¦æ‰¾åˆ°æ¯ä¸ª 0 æœ€è¿‘çš„ 1ï¼Œè€Œä»Šå¤©è¿™é“é¢˜æ˜¯æ‰¾æ¯ä¸ª 1 æœ€è¿‘çš„ 0ã€‚

**æ€è·¯ï¼š**

- å¯¹äº **ã€ŒTree çš„ BFSã€ ï¼ˆå…¸å‹çš„ã€Œå•æº BFSã€ï¼‰** å¤§å®¶éƒ½å·²ç»è½»è½¦ç†Ÿè·¯äº†ï¼š
  - é¦–å…ˆæŠŠ root èŠ‚ç‚¹å…¥é˜Ÿï¼Œå†ä¸€å±‚ä¸€å±‚æ— è„‘éå†å°±è¡Œäº†ã€‚
- å¯¹äº **ã€Œå›¾ çš„ BFSã€ ï¼ˆã€Œå¤šæº BFSã€ï¼‰** åšæ³•å…¶å®ä¹Ÿæ˜¯ä¸€æ ·æ»´ï½ï¼Œä¸ ã€ŒTree çš„ BFSã€çš„åŒºåˆ«æ³¨æ„ä»¥ä¸‹ä¸¤æ¡å°± ok è¾£ï½
  - Tree åªæœ‰ 1 ä¸ª rootï¼Œè€Œå›¾å¯ä»¥æœ‰å¤šä¸ªæºç‚¹ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦æŠŠå¤šä¸ªæºç‚¹éƒ½å…¥é˜Ÿï¼›
  - Tree æ˜¯æœ‰å‘çš„å› æ­¤ä¸éœ€è¦æ ‡è¯†æ˜¯å¦è®¿é—®è¿‡ï¼Œè€Œå¯¹äºæ— å‘å›¾æ¥è¯´ï¼Œå¿…é¡»å¾—æ ‡å¿—æ˜¯å¦è®¿é—®è¿‡å“¦ï¼å¹¶ä¸”ä¸ºäº†é˜²æ­¢æŸä¸ªèŠ‚ç‚¹å¤šæ¬¡å…¥é˜Ÿï¼Œéœ€è¦åœ¨å…¶å…¥é˜Ÿä¹‹å‰å°±å°†å…¶è®¾ç½®æˆå·²è®¿é—®ï¼ã€ çœ‹è§å¾ˆå¤šäººè¯´è‡ªå·±çš„ BFS è¶…æ—¶äº†ï¼Œå‘å°±åœ¨è¿™é‡Œå“ˆå“ˆå“ˆã€‘

**çœ‹æˆ‘è‡ªå·±å†™çš„æ€è·¯ï¼š**

- å°±æ˜¯å’Œæ ‘çš„BFSæ€è·¯ä¸€æ ·ï¼Œå€ŸåŠ©ä¸€ä¸ªQueueï¼Œç„¶åä¸€ä¸ªä¸ªå¤–åœˆéå†åˆ¤æ–­æ¥çš„ï¼›ä¸­é—´ä½¿ç”¨ä¸€ä¸ªvisitedæ•°ç»„ï¼Œæ ‡è¯†è®¿é—®è¿‡çš„å…ƒç´ ã€‚

- <img src="images/image-20230702143749110.png" alt="image-20230702143749110" style="zoom:50%;" /><img src="images/image-20230702143913803.png" alt="image-20230702143913803" style="zoom:50%;" />

  ```java
  
      public int[][] getRes(int[][] mat) {
          // çŸ©é˜µçš„æœç´¢ç±»å‹ï¼šä¸€èˆ¬æ˜¯DFSé€’å½’å›æº¯æ³•ï¼Œä½†è¿™ä¸ªè¦æ‰¾æœ€è¿‘çš„ï¼Œæˆ‘ä»¬åªèƒ½BFSæœç´¢,å€ŸåŠ©è¾…åŠ©æ•°æ®ç»“æ„é˜Ÿåˆ—å®ç°
          // å…¶æ¬¡çŸ©é˜µçš„æ¯ä¸ªä½ç½®éƒ½è¦æœç´¢ä¸€æ¬¡
          int[][] ans = new int[mat.length][mat[0].length];
          for (int i = 0; i < mat.length; i++) {
              for (int j = 0; j < mat[0].length; j++) {
                  ans[i][j] = bfs(mat, i, j);
              }
          }
          return ans;
      }
  		// bfs
      private int bfs(int[][] mat, int i, int j) {
          if (mat[i][j] == 0) return 0;
          int distance = 0;
          Queue<int[]> queue = new ArrayDeque<>();
          List<int[]> list = new ArrayList<>();
          boolean[][] visited = new boolean[mat.length][mat[0].length];
  
          queue.offer(new int[]{i, j}); // ä¸Treeçš„BFSä¸åŒï¼Œè¿™é‡Œè¦é˜²æ­¢æŸä¸ªèŠ‚ç‚¹å¤šæ¬¡å…¥é˜Ÿ
          visited[i][j] = true;
          while (true) { //å¤–å±‚è¿˜æœ‰ä¸€ä¸ªå¾ªç¯
              distance++;
              while (!queue.isEmpty()) { // åˆ¤æ–­ä¸€ä¸ªå¤–åœˆçš„æ‰€æœ‰å…ƒç´ 
                  int[] ints = queue.poll();
                  i = ints[0];
                  j = ints[1];
                  if (0 <= i + 1 && i + 1 < mat.length && 0 <= j && j < mat[0].length && !visited[i+1][j]) {
                      if (mat[i + 1][j] == 0) return distance;
                      list.add(new int[]{i + 1, j});
                      visited[i+1][j] = true;
                  }
                  if (0 <= i - 1 && i - 1 < mat.length && 0 <= j && j < mat[0].length && !visited[i-1][j]) {
                      if (mat[i - 1][j] == 0) return distance;
                      list.add(new int[]{i - 1, j});
                      visited[i-1][j] = true;
                  }
                  if (0 <= i && i < mat.length && 0 <= j + 1 && j + 1 < mat[0].length && !visited[i][j+1]) {
                      if (mat[i][j+1] == 0) return distance;
                      list.add(new int[]{i, j + 1});
                      visited[i][j+1] = true;
                  }
                  if (0 <= i && i < mat.length && 0 <= j - 1 && j - 1 < mat[0].length && !visited[i][j-1]) {
                      if (mat[i][j-1] == 0) return distance;
                      list.add(new int[]{i, j - 1});
                      visited[i][j-1] = true;
                  }
              }
              for (int[] ints1 : list) { //æ²¡æœ‰æ‰¾åˆ°ï¼Œä¸‹ä¸€ä¸ªå¤–åœˆå…¥é˜Ÿåˆ—
                  queue.offer(ints1);
              }
              list.clear();
          }
      }
  ```

**æ›´å¥½çš„æ€è·¯ï¼šæ‰©æ•£æ³•**

- leetcodeå®˜æ–¹é¢˜è§£ï¼šé€»è¾‘é€†ç€å†™ï¼Œä»0æ‰¾1ï¼›å…ˆæŠŠæ‰€æœ‰çš„0æ‰¾å‡ºæ¥ï¼Œç„¶åä¸€ä¾æ¬¡bfsæ‰¾1ï¼Œæ‰¾åˆ°ä¸€ä¸ª1åï¼Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªæœ€çŸ­ä¸º1ï¼Œç„¶åè¿™ä¸ª1å…¥é˜Ÿåˆ—ï¼Œç”±ä»–åˆå¯ä»¥ç»§ç»­å‘å¤–æ‰©å±•ã€‚
- æ±‚æ¯ä¸ªå…ƒç´ åˆ°æœ€è¿‘0çš„è·ç¦»ï¼šä¸ºä»€ä¹ˆ**åªèƒ½ä»0æ‰¾1å‘¢**ï¼Œå› ä¸ºæˆ‘ä»¬èƒ½å·²çŸ¥0å…ƒç´ çš„è·ç¦»æ˜¯0ï¼Œä½†å¯¹äºå…¶ä»–å…ƒç´ æˆ‘ä»¬æ— æ³•ç›´æ¥å¾—å‡ºï¼Œä¹Ÿå°±ä¸èƒ½ç”±å®ƒè¿›è¡Œæ‰©æ•£ï¼›

```java

    public int[][] getResByLC(int[][] mat) {
        int m = mat.length;
        int n = mat[0].length;
        int[][] ans = new int[m][n]; // ç»“æœæ•°ç»„
        Queue<int[]> queue = new ArrayDeque<>();
        List<int[]> list = new ArrayList<>();
        boolean[][] visited = new boolean[m][n];
        // 1ã€è·ç¦»æ•°ç»„åˆå§‹åŒ–ï¼Œ0å…ƒç´ ä¸º0ï¼Œå…¶ä»–å…ƒç´ è®¾ç½®ä¸ºæœ€å¤§å€¼
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (mat[i][j] == 0) {
                    ans[i][j] = 0;
                    queue.offer(new int[]{i, j}); // 0å…¥é˜Ÿ
                    visited[i][j] = true; // æ ‡è®°å·²éå†
                } else ans[i][j] = Integer.MAX_VALUE;
            }
        }
        // bfs
        int[][] direction = new int[][]{{1, 0}, {-1, 0}, {0, 1}, {0, -1}}; // æ–¹å‘æ•°ç»„
        while (!queue.isEmpty()) {
            int i = queue.peek()[0], j = queue.peek()[1];
            queue.poll();
            // ä¸Šä¸‹å·¦å³
            for (int[] dir : direction) {
                int i_new = i + dir[0];
                int j_new = j + dir[1];
                if (0 <= i_new && i_new < m && 0 <= j_new && j_new < n && !visited[i_new][j_new]) {
                    visited[i_new][j_new] = true;
                    if (ans[i_new][j_new] > ans[i][j] + 1) {
                        ans[i_new][j_new] = ans[i][j] + 1;
                        list.add(new int[]{i_new, j_new}); // å·²çŸ¥è·ç¦»çš„1å…¥é˜Ÿï¼Œç»§ç»­æ‰©æ•£
                    }
                }
            }
            queue.addAll(list);
            list.clear();
        }
      
        return ans;
    }
```



# 93-2ã€åœ°å›¾åˆ†æ

ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º `n x n` çš„ ç½‘æ ¼ `grid`ï¼Œä¸Šé¢çš„æ¯ä¸ª å•å…ƒæ ¼ éƒ½ç”¨ `0` å’Œ `1` æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ `0` ä»£è¡¨æµ·æ´‹ï¼Œ`1` ä»£è¡¨é™†åœ°ã€‚

è¯·ä½ æ‰¾å‡ºä¸€ä¸ªæµ·æ´‹å•å…ƒæ ¼ï¼Œè¿™ä¸ªæµ·æ´‹å•å…ƒæ ¼åˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°å•å…ƒæ ¼çš„è·ç¦»æ˜¯æœ€å¤§çš„ï¼Œå¹¶è¿”å›è¯¥è·ç¦»ã€‚å¦‚æœç½‘æ ¼ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› `-1`ã€‚

æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€Œæ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š`(x0, y0)` å’Œ `(x1, y1)` è¿™ä¸¤ä¸ªå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»æ˜¯ `|x0 - x1| + |y0 - y1|` ã€‚

**æç¤ºï¼š**

- `n == grid.length`
- `n == grid[i].length`
- `1 <= n <= 100`
- `grid[i][j]` ä¸æ˜¯ `0` å°±æ˜¯ `1`

**ç¤ºä¾‹ 1ï¼š**

**![img](images/1336_ex1.jpeg)**

```
è¾“å…¥ï¼šgrid = [[1,0,1],[0,0,0],[1,0,1]]
è¾“å‡ºï¼š2
è§£é‡Šï¼š 
æµ·æ´‹å•å…ƒæ ¼ (1, 1) å’Œæ‰€æœ‰é™†åœ°å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º 2ã€‚
```

```java
    public int getRes(int[][] grid) {
        //é¢˜ç›®ï¼šæ‰¾æµ·æ´‹ï¼ˆ0ï¼‰ç¦»é™†åœ°ï¼ˆ1ï¼‰çš„æœ€å¤§è·ç¦»
        //è§£æ³•ï¼šé€†å‘ä»1æ‰¾0ï¼Œå¾—å‡ºæ‰€æœ‰å…ƒç´ çš„è·ç¦»çŸ©é˜µï¼Œé‡‡ç”¨bfs
        int m = grid.length;
        int n = grid[0].length;
        int[][] ans = new int[m][n];
        Queue<int[]> queue = new ArrayDeque<>();
        boolean[][] visited = new boolean[m][n];
        //1. åˆå§‹åŒ–è·ç¦»çŸ©é˜µ
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                if (grid[i][j] == 1) {
                    queue.offer(new int[]{i, j}); //æ‰€æœ‰1å…¥é˜Ÿ
                    ans[i][j] = 0;
                    visited[i][j] = true;
                } else ans[i][j] = Integer.MAX_VALUE;
            }
        }
        if (queue.isEmpty() || queue.size() == m * n) return -1; //å…¨éƒ¨ä¸º0æˆ–1æ—¶çš„ï¼Œå¼‚å¸¸åˆ¤æ–­
        //2. bfs
        int[][] direction = new int[][]{{1, 0}, {-1, 0}, {0, 1}, {0, -1}};
        while (!queue.isEmpty()) {
            int i = queue.peek()[0], j = queue.peek()[1];
            queue.poll();
            // sxzy
            for (int[] dir : direction) {
                int i_new = i + dir[0];
                int j_new = j + dir[1];
                if (0 <= i_new && i_new < m && 0 <= j_new && j_new < n && !visited[i_new][j_new]) {
                    if (ans[i_new][j_new] > ans[i][j] + 1) {
                        ans[i_new][j_new] = ans[i][j] + 1;
                        queue.offer(new int[]{i_new, j_new}); //å·²çŸ¥è·ç¦»çš„0å…¥é˜Ÿï¼Œç»§ç»­æ‰©æ•£
                    }
                    visited[i_new][j_new] = true;
                }
            }
        }
        // 3.
        int maxDist = Integer.MIN_VALUE;
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                maxDist = Math.max(maxDist, ans[i][j]);
            }
        }
        return maxDist;
    }
```



# 94ã€å‰‘æŒ‡ Offer II 109. å¼€å¯†ç é”

ä¸€ä¸ªå¯†ç é”ç”± 4 ä¸ªç¯å½¢æ‹¨è½®ç»„æˆï¼Œæ¯ä¸ªæ‹¨è½®éƒ½æœ‰ 10 ä¸ªæ•°å­—ï¼š `'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'` ã€‚æ¯ä¸ªæ‹¨è½®å¯ä»¥è‡ªç”±æ—‹è½¬ï¼šä¾‹å¦‚æŠŠ `'9'` å˜ä¸º `'0'`ï¼Œ`'0'` å˜ä¸º `'9'` ã€‚æ¯æ¬¡æ—‹è½¬éƒ½åªèƒ½æ—‹è½¬ä¸€ä¸ªæ‹¨è½®çš„ä¸€ä½æ•°å­—ã€‚

é”çš„åˆå§‹æ•°å­—ä¸º `'0000'` ï¼Œä¸€ä¸ªä»£è¡¨å››ä¸ªæ‹¨è½®çš„æ•°å­—çš„å­—ç¬¦ä¸²ã€‚

åˆ—è¡¨ `deadends` åŒ…å«äº†ä¸€ç»„æ­»äº¡æ•°å­—ï¼Œä¸€æ—¦æ‹¨è½®çš„æ•°å­—å’Œåˆ—è¡¨é‡Œçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ç›¸åŒï¼Œè¿™ä¸ªé”å°†ä¼šè¢«æ°¸ä¹…é”å®šï¼Œæ— æ³•å†è¢«æ—‹è½¬ã€‚

å­—ç¬¦ä¸² `target` ä»£è¡¨å¯ä»¥è§£é”çš„æ•°å­—ï¼Œè¯·ç»™å‡ºè§£é”éœ€è¦çš„æœ€å°æ—‹è½¬æ¬¡æ•°ï¼Œå¦‚æœæ— è®ºå¦‚ä½•ä¸èƒ½è§£é”ï¼Œè¿”å› `-1` ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥ï¼šdeadends = ["0201","0101","0102","1212","2002"], target = "0202"
è¾“å‡ºï¼š6
è§£é‡Šï¼š
å¯èƒ½çš„ç§»åŠ¨åºåˆ—ä¸º "0000" -> "1000" -> "1100" -> "1200" -> "1201" -> "1202" -> "0202"ã€‚
æ³¨æ„ "0000" -> "0001" -> "0002" -> "0102" -> "0202" è¿™æ ·çš„åºåˆ—æ˜¯ä¸èƒ½è§£é”çš„ï¼Œå› ä¸ºå½“æ‹¨åŠ¨åˆ° "0102" æ—¶è¿™ä¸ªé”å°±ä¼šè¢«é”å®šã€‚
```

**æç¤ºï¼š**

- `1 <= deadends.length <= 500`
- `deadends[i].length == 4`
- `target.length == 4`
- `target` **ä¸åœ¨** `deadends` ä¹‹ä¸­
- `target` å’Œ `deadends[i]` ä»…ç”±è‹¥å¹²ä½æ•°å­—ç»„æˆ

https://leetcode.cn/problems/open-the-lock/solutions/843888/shou-hua-tu-jie-tu-bfs-lin-jie-guan-xi-7-ud8c/

<img src="images/1624555376-UjSNOW-image.png" alt="image.png" style="zoom:50%;" />

- "0000" ç»è¿‡ä¸€æ¬¡æ—‹è½¬ï¼Œå¯å˜æˆçš„å­—ç¬¦ä¸²æ˜¯ 0000 çš„é‚»æ¥èŠ‚ç‚¹
- ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé€ä¸ªè€ƒå¯Ÿè¿™ä¸€å±‚çš„æ‰€æœ‰ â€œèŠ‚ç‚¹â€ï¼Œå®‰æ’å®ƒä»¬çš„é‚»æ¥ç‚¹å…¥åˆ—
- 1100 - 1000 - 1100 è¿™æ ·å˜å›æ¥ï¼Œå¾’å¢è½¬æ¢çš„æ¬¡æ•°ï¼Œè¿èƒŒæ±‚æœ€å°çš„è¦æ±‚
- æ‰€ä»¥è¦è·³è¿‡è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼ŒåŒæ—¶ä¹Ÿè¦è·³è¿‡â€œæ­»äº¡ç‚¹â€
- ä¸€å±‚ä¸€å±‚åœ°éå†èŠ‚ç‚¹ï¼Œå½“è®¿é—®åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼Œè¿”å›å½“å‰æ‰€åœ¨çš„å±‚æ¬¡ï¼Œå³ä¸ºæœ€å°æ—‹è½¬æ¬¡æ•°ã€‚

```java
import java.util.*;

public class å¼€å¯†ç é”109 {
    //
    public int getRes(String[] deadends, String target) {
        // æœ€å°‘æ¬¡æ•°åªèƒ½ç”¨BFSï¼Œæš´åŠ›æœç´¢, åˆå§‹çŠ¶æ€æ˜¯0000,ç„¶å0000æ—‹è½¬ä¸€æ¬¡å¾—åˆ°çš„çŠ¶æ€æœ‰é™ï¼Œæˆ‘ä»¬æ”¾å…¥é˜Ÿåˆ—ä¾æ¬¡åˆ¤æ–­ï¼ˆæ˜¯å¦ç­‰äºtargetï¼Œæ˜¯å¦ç¢°åˆ°æ­»äº¡å¯†ç ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å°±å°†æ¯ä¸ªçŠ¶æ€çš„ä¸‹ä¸€ä¸ªæ‰€æœ‰æ—‹è½¬çŠ¶æ€æ”¾å…¥é˜Ÿåˆ—åˆ¤æ–­ã€‚å¹¶ä¸”è®°å½•æ—‹è½¬æ¬¡æ•°
        // è¿˜è¦æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬çš„æ–¹å‘æ˜¯æ— å‘çš„ï¼Œæ‰€ä»¥è¦é˜²æ­¢é‡å¤å…¥é˜Ÿï¼Œå¦åˆ™ä¼šè¶…æ—¶
        String start = "0000";
        Queue<String> queue = new ArrayDeque<>();
        queue.add(start);
        List<String> list = new ArrayList<>();
        Set<String> deadSet = new HashSet<>(); // å°†æ­»äº¡å¯†ç å­˜å…¥seté›†åˆä¸­ï¼Œå¿«é€Ÿåˆ¤æ–­æ­»äº¡
        for (int i = 0; i < deadends.length; i++) {
            deadSet.add(deadends[i]);
        }
        Set<String> outdateSet = new HashSet<>(); // å­˜å‚¨å·²ç»åˆ¤æ–­è¿‡çš„å¯†ç çŠ¶æ€
        // begin
        int step = 0;
        while (!queue.isEmpty()) {
            while (!queue.isEmpty()) { //åˆ¤æ–­å½“å‰å±‚æ‰€æœ‰çš„æƒ…å†µ
                String current = queue.poll();
                if (Objects.equals(current, target)) { //åˆ¤æ–­ç›®æ ‡å€¼
                    return step;
                }
                if (deadSet.contains(current)) { //åˆ¤æ–­æ­»äº¡å¯†ç ï¼Œè¿™é‡Œå°†æ­»äº¡å¯†ç å­˜å…¥seté›†åˆä¸­
                    continue;
                }
                if (outdateSet.contains(current)) { // é˜²æ­¢é‡å¤å…¥é˜Ÿ
                    continue;
                } else outdateSet.add(current);
                list.add(current);
            }
            for (String s : list) { //å°†ä¸‹ä¸€å±‚çš„æ‰€æœ‰çŠ¶æ€æ”¾å…¥é˜Ÿåˆ—
                queue.addAll(getAllState(s));
            }
            list.clear();
            step++; // è®°å½•æ—‹è½¬æ¬¡æ•°+1
        }
        return -1; //è¿˜æœ‰ä¸€ç§æ˜¯æ— æ³•å¼€é”
    }


    // æŸä¸ªé”çŠ¶æ€ï¼Œæ—‹è½¬ä¸€æ¬¡åå¯èƒ½å¾—åˆ°çš„æ‰€æœ‰çŠ¶æ€
    private List<String> getAllState(String curState) {
        List<String> list = new ArrayList<>();
        int[] state = new int[]{1, -1};
        for (int i = 0; i < curState.length(); i++) { //iï¼šæ­¤æ¬¡æ—‹è½¬çš„æ•°å­—ç´¢å¼•
            Integer index = getIndexByCharMap.get(curState.charAt(i)); //æ ¹æ®å½“å‰æ—‹è½¬æ•°å­—å®šä½ç´¢å¼•ï¼Œç„¶åå°±å¯ä»¥æ‰¾åˆ°å‰ä¸€ä¸ªåä¸€ä¸ªå­—ç¬¦äº†
            for (int sta : state) {
                int new_index = index + sta;
                if (new_index == 10) new_index = 0;
                if (new_index == -1) new_index = 9;
                Character new_char = allChar.get(new_index);
                String new_string = curState.substring(0, i) + new_char + curState.substring(i + 1);
                list.add(new_string);
            }
        }
        return list;
    }

    // æ¯ä¸ªå¯†ç çš„ä½ç½®å¯èƒ½å‡ºç°çš„çŠ¶æ€
    private List<Character> allChar = new ArrayList<Character>() {{
        add('0');
        add('1');
        add('2');
        add('3');
        add('4');
        add('5');
        add('6');
        add('7');
        add('8');
        add('9');
    }};
    // æ ¹æ®å½“å‰å¯†ç å­—ç¬¦å®šä½ç´¢å¼•
    private Map<Character, Integer> getIndexByCharMap = new HashMap<Character, Integer>() {{
        put('0', 0);
        put('1', 1);
        put('2', 2);
        put('3', 3);
        put('4', 4);
        put('5', 5);
        put('6', 6);
        put('7', 7);
        put('8', 8);
        put('9', 9);
    }};
}

```



# 95ã€å‰‘æŒ‡ Offer II 013. äºŒç»´å­çŸ©é˜µçš„å’Œ

ç»™å®šä¸€ä¸ªäºŒç»´çŸ©é˜µ `matrix`ï¼Œä»¥ä¸‹ç±»å‹çš„å¤šä¸ªè¯·æ±‚ï¼š

- è®¡ç®—å…¶å­çŸ©å½¢èŒƒå›´å†…å…ƒç´ çš„æ€»å’Œï¼Œè¯¥å­çŸ©é˜µçš„å·¦ä¸Šè§’ä¸º `(row1, col1)` ï¼Œå³ä¸‹è§’ä¸º `(row2, col2)` ã€‚

å®ç° `NumMatrix` ç±»ï¼š

- `NumMatrix(int[][] matrix)` ç»™å®šæ•´æ•°çŸ©é˜µ `matrix` è¿›è¡Œåˆå§‹åŒ–
- `int sumRegion(int row1, int col1, int row2, int col2)` è¿”å›å·¦ä¸Šè§’ `(row1, col1)` ã€å³ä¸‹è§’ `(row2, col2)` çš„å­çŸ©é˜µçš„å…ƒç´ æ€»å’Œã€‚

**ç¤ºä¾‹ 1ï¼š**

<img src="images/1626332422-wUpUHT-image.png" alt="img" style="zoom:50%;" />

```
è¾“å…¥: 
["NumMatrix","sumRegion","sumRegion","sumRegion"]
[[[[3,0,1,4,2],[5,6,3,2,1],[1,2,0,1,5],[4,1,0,1,7],[1,0,3,0,5]]],[2,1,4,3],[1,1,2,2],[1,2,2,4]]
è¾“å‡º: 
[null, 8, 11, 12]

è§£é‡Š:
NumMatrix numMatrix = new NumMatrix([[3,0,1,4,2],[5,6,3,2,1],[1,2,0,1,5],[4,1,0,1,7],[1,0,3,0,5]]]);
numMatrix.sumRegion(2, 1, 4, 3); // return 8 (çº¢è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
numMatrix.sumRegion(1, 1, 2, 2); // return 11 (ç»¿è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
numMatrix.sumRegion(1, 2, 2, 4); // return 12 (è“è‰²çŸ©å½¢æ¡†çš„å…ƒç´ æ€»å’Œ)
```

**æç¤ºï¼š**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 200`
- `-105 <= matrix[i][j] <= 105`
- `0 <= row1 <= row2 < m`
- `0 <= col1 <= col2 < n`
- æœ€å¤šè°ƒç”¨ `104` æ¬¡ `sumRegion` æ–¹æ³•



â€‹													**ï¼ï¼ï¼ï¼ï¼å‰ç¼€å’Œï¼ï¼ï¼ï¼ï¼**

```java
/**
 * å‰ç¼€å’Œè§£æ³•ï¼å‡¡æ˜¯è¿™ç§è¿ç»­å…ƒç´ ç´¯è®¡æ±‚å’Œçš„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å‰ç¼€å’Œã€‚è¿™é“é¢˜å’Œè¯¥ç³»åˆ—010æ€æƒ³ä¸€æ¨¡ä¸€æ ·
 * ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œä¸ç›´æ¥ç´¯è®¡å’Œå‘¢ï¼Ÿ
 * 1ã€ä¸€åŠ³æ°¸é€¸å’Œæ¯æ¬¡é‡å¤æ€§æœºæ¢°å·¥ä½œæ˜¯ä¸ä¸€æ ·çš„ï¼Œè®¡ç®—sumRegionçš„æ¬¡æ•°è¶Šå¤šï¼Œå·®è·è¶Šå¤§
 * 2ã€ç¼“å­˜çš„æ€æƒ³ ä½ ä¸æ‡‚
 */
class NumMatrixPrefix {
    private int[][] matrix;
    private int[][] matrixPrefix; // æ¯ä¸€è¡Œçš„å‰ç¼€å’Œæ•°ç»„

    public int sumRegion(int row1, int col1, int row2, int col2) {
        int sum = 0;
        for (int i = row1; i <= row2; i++) {
            sum += matrixPrefix[i][col2] - matrixPrefix[i][col1] + matrix[i][col1];
        }
        return sum;
    }
    
    public NumMatrixPrefix(int[][] matrix) {
        int m = matrix.length;
        int n = matrix[0].length;
        this.matrix = matrix;
        this.matrixPrefix = new int[m][n];
        for (int i = 0; i < m; i++) {
            int sum = 0;
            for (int j = 0; j < n; j++) {
                sum += matrix[i][j];
                matrixPrefix[i][j] = sum;
            }
        }
    }
}
```

![image-20230706111706523](images/image-20230706111706523.png)

```java
/**
 * æš´åŠ›è§£æ³•1
 */
class NumMatrix {
    private int[][] matrix;

    public int sumRegion(int row1, int col1, int row2, int col2) {
        int sum = 0;
        for (int i = row1; i <= row2; i++) {
            for (int j = col1; j <= col2; j++) {
                sum += matrix[i][j];
            }
        }
        return sum;
    }


    public NumMatrix(int[][] matrix) {
        this.matrix = matrix;
    }
}
```



# ==96ã€å‰‘æŒ‡ Offer II 106. äºŒåˆ†å›¾==

å­˜åœ¨ä¸€ä¸ª **æ— å‘å›¾** ï¼Œå›¾ä¸­æœ‰ `n` ä¸ªèŠ‚ç‚¹ã€‚å…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä»‹äº `0` åˆ° `n - 1` ä¹‹é—´çš„å”¯ä¸€ç¼–å·ã€‚

ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„ `graph` ï¼Œè¡¨ç¤ºå›¾ï¼Œå…¶ä¸­ `graph[u]` æ˜¯ä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„ï¼Œç”±èŠ‚ç‚¹ `u` çš„é‚»æ¥èŠ‚ç‚¹ç»„æˆã€‚å½¢å¼ä¸Šï¼Œå¯¹äº `graph[u]` ä¸­çš„æ¯ä¸ª `v` ï¼Œéƒ½å­˜åœ¨ä¸€æ¡ä½äºèŠ‚ç‚¹ `u` å’ŒèŠ‚ç‚¹ `v` ä¹‹é—´çš„æ— å‘è¾¹ã€‚è¯¥æ— å‘å›¾åŒæ—¶å…·æœ‰ä»¥ä¸‹å±æ€§ï¼š

- ä¸å­˜åœ¨è‡ªç¯ï¼ˆ`graph[u]` ä¸åŒ…å« `u`ï¼‰ã€‚
- ä¸å­˜åœ¨å¹³è¡Œè¾¹ï¼ˆ`graph[u]` ä¸åŒ…å«é‡å¤å€¼ï¼‰ã€‚
- å¦‚æœ `v` åœ¨ `graph[u]` å†…ï¼Œé‚£ä¹ˆ `u` ä¹Ÿåº”è¯¥åœ¨ `graph[v]` å†…ï¼ˆè¯¥å›¾æ˜¯æ— å‘å›¾ï¼‰
- è¿™ä¸ªå›¾å¯èƒ½ä¸æ˜¯è¿é€šå›¾ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªèŠ‚ç‚¹ `u` å’Œ `v` ä¹‹é—´å¯èƒ½ä¸å­˜åœ¨ä¸€æ¡è¿é€šå½¼æ­¤çš„è·¯å¾„ã€‚

**äºŒåˆ†å›¾** å®šä¹‰ï¼šå¦‚æœèƒ½å°†ä¸€ä¸ªå›¾çš„èŠ‚ç‚¹é›†åˆåˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›† `A` å’Œ `B` ï¼Œå¹¶ä½¿å›¾ä¸­çš„æ¯ä¸€æ¡è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ¥è‡ª `A` é›†åˆï¼Œä¸€ä¸ªæ¥è‡ª `B` é›†åˆï¼Œå°±å°†è¿™ä¸ªå›¾ç§°ä¸º **äºŒåˆ†å›¾** ã€‚

å¦‚æœå›¾æ˜¯äºŒåˆ†å›¾ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](images/bi2.jpg)

```
è¾“å…¥ï¼šgraph = [[1,2,3],[0,2],[0,1,3],[0,2]]
è¾“å‡ºï¼šfalse
è§£é‡Šï¼šä¸èƒ½å°†èŠ‚ç‚¹åˆ†å‰²æˆä¸¤ä¸ªç‹¬ç«‹çš„å­é›†ï¼Œä»¥ä½¿æ¯æ¡è¾¹éƒ½è¿é€šä¸€ä¸ªå­é›†ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸å¦ä¸€ä¸ªå­é›†ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

![img](images/bi1.jpg)

```
è¾“å…¥ï¼šgraph = [[1,3],[0,2],[1,3],[0,2]]
è¾“å‡ºï¼štrue
è§£é‡Šï¼šå¯ä»¥å°†èŠ‚ç‚¹åˆ†æˆä¸¤ç»„: {0, 2} å’Œ {1, 3} ã€‚ 
```

**æç¤ºï¼š**

- `graph.length == n`
- `1 <= n <= 100`
- `0 <= graph[u].length < n`
- `0 <= graph[u][i] <= n - 1`
- `graph[u]` ä¸ä¼šåŒ…å« `u`
- `graph[u]` çš„æ‰€æœ‰å€¼ **äº’ä¸ç›¸åŒ**
- å¦‚æœ `graph[u]` åŒ…å« `v`ï¼Œé‚£ä¹ˆ `graph[v]` ä¹Ÿä¼šåŒ…å« `u`



**è§£æ³•ï¼šçº¢ç»¿è‰²ç›²æ³•**

1. æˆ‘ä»¬ä»å¼€å§‹èŠ‚ç‚¹éå†ï¼Œå¹¶ä¸”å°†å®ƒæŸ“æˆçº¢è‰²ï¼Œç„¶åå°†å…¶æ‰€æœ‰çš„é‚»æ¥èŠ‚ç‚¹æŸ“æˆç»¿è‰²ï¼Œå†å°†è¿™äº›ç»¿è‰²èŠ‚ç‚¹ç›´æ¥ç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹æŸ“æˆçº¢è‰²ï¼Œä¾æ¬¡ç±»æ¨ã€‚
2. å¦‚æœå¯ä»¥å…¨éƒ¨æŸ“è‰²æˆåŠŸï¼Œåˆ™å¯ä»¥äºŒåˆ†ï¼Œå¦‚æœæŸ“è‰²è¿‡ç¨‹ä¸­ï¼Œå‡ºç°äº†é‚»æ¥èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹é¢œè‰²ä¸€æ ·ï¼Œåˆ™æŸ“è‰²å¤±è´¥äº†ï¼Œè¡¨ç¤ºä¸èƒ½äºŒåˆ†ã€‚

```java
    public boolean isBipartiteBydfs(int[][] graph) {
        nodeColor = new int[graph.length]; // 0ï¼šè¡¨ç¤ºæ— é¢œè‰²
        visited = new boolean[graph.length];
        dfs(0, graph, RED);
        return ans;
    }

    private static final int RED = 1;
    private static final int GREEN = 2;
    private int[] nodeColor; // è®°å½•æ¯ä¸ªèŠ‚ç‚¹é¢œè‰²ï¼›
    private boolean ans = true; // æ˜¯å¦ä¸ºäºŒåˆ†å›¾
    private boolean[] visited; // æ ‡è®°èŠ‚ç‚¹å·²è®¿é—®

    // dfs
    // xï¼šå½“å‰èŠ‚ç‚¹ï¼›
    private void dfs(int x, int[][] graph, int color) {
        nodeColor[x] = color;
        visited[x] = true;
        int curColor = color == RED ? GREEN : RED; //é‚»æ¥ç‚¹é¢œè‰²
        for (int y : graph[x]) {
            if (visited[y]) { // å·²ç»è¢«æŸ“è‰²
                if (nodeColor[y] == nodeColor[x]) { //é¢œè‰²ä¸€è‡´ï¼Œåˆ™false
                    ans = false;
                    return;
                } else continue; // è·³è¿‡
            }
            dfs(y, graph, curColor);
        }
    }
```

**BFS**

```java
    public boolean isBipartiteBybfs(int[][] graph) {
        bfs(0, graph);
        return result;
    }

    // BFSæœç´¢
    private static final int RED = 1;
    private static final int GREEN = 2;
    private boolean result = true;
    private void bfs(int x, int[][] graph) {
        Queue<Integer> queue = new ArrayDeque<>();
        List<Integer> list = new ArrayList<>();
        boolean[] visited = new boolean[graph.length];
        int[] nodeColor = new int[graph.length];
        queue.offer(x);
        int color = GREEN;
        while (!queue.isEmpty()) {
            color = color == RED ? GREEN : RED;
            while (!queue.isEmpty()) { // è¯¥å±‚èŠ‚ç‚¹åˆ¤æ–­
                Integer node = queue.poll();
                nodeColor[node] = color;
                visited[node] = true;
                list.add(node);
            }
            // éå†è¯¥å±‚æ‰€æœ‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥è¡¨
            for (Integer node : list) {
                for (int y : graph[node]) {
                    if (visited[y]) {
                        if (nodeColor[y] == color) {
                            result = false;
                            return;
                        }
                    } else {
                        queue.offer(y);
                    }
                }
            }
            list.clear();
        }
    }
```



# 97ã€å‰‘æŒ‡ Offer II 093. æœ€é•¿æ–æ³¢é‚£å¥‘æ•°åˆ—

å¦‚æœåºåˆ— `X_1, X_2, ..., X_n` æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼Œå°±è¯´å®ƒæ˜¯ *æ–æ³¢é‚£å¥‘å¼* çš„ï¼š

- `n >= 3`
- å¯¹äºæ‰€æœ‰ `i + 2 <= n`ï¼Œéƒ½æœ‰ `X_i + X_{i+1} = X_{i+2}`

ç»™å®šä¸€ä¸ª**ä¸¥æ ¼é€’å¢**çš„æ­£æ•´æ•°æ•°ç»„å½¢æˆåºåˆ— `arr` ï¼Œæ‰¾åˆ° `arr` ä¸­æœ€é•¿çš„æ–æ³¢é‚£å¥‘å¼çš„å­åºåˆ—çš„é•¿åº¦ã€‚å¦‚æœä¸€ä¸ªä¸å­˜åœ¨ï¼Œè¿”å› 0 ã€‚

ï¼ˆå›æƒ³ä¸€ä¸‹ï¼Œå­åºåˆ—æ˜¯ä»åŸåºåˆ— `arr` ä¸­æ´¾ç”Ÿå‡ºæ¥çš„ï¼Œå®ƒä» `arr` ä¸­åˆ æ‰ä»»æ„æ•°é‡çš„å…ƒç´ ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ ï¼‰ï¼Œè€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ `[3, 5, 8]` æ˜¯ `[3, 4, 5, 6, 7, 8]` çš„ä¸€ä¸ªå­åºåˆ—ï¼‰

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: arr = [1,2,3,4,5,6,7,8]
è¾“å‡º: 5
è§£é‡Š: æœ€é•¿çš„æ–æ³¢é‚£å¥‘å¼å­åºåˆ—ä¸º [1,2,3,5,8] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥: arr = [1,3,7,11,12,14,18]
è¾“å‡º: 3
è§£é‡Š: æœ€é•¿çš„æ–æ³¢é‚£å¥‘å¼å­åºåˆ—æœ‰ [1,11,12]ã€[3,11,14] ä»¥åŠ [7,11,18] ã€‚
```

**æç¤ºï¼š**

- `3 <= arr.length <= 1000`
- `1 <= arr[i] < arr[i + 1] <= 10^9`

ã€è§£æã€‘è¿™ä¸€çœ‹å°±æ˜¯ä½¿ç”¨dpåšï¼Œç„¶ååˆ†ææ˜¯å­åºåˆ—é—®é¢˜ä¸”å¯¹è±¡æ˜¯ä¸€ç»´æ•°ç»„ï¼Œä½¿ç”¨ â€ å‰iä¸ªå…ƒç´ ä¸­ï¼Œä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾çš„xxxx â€ ï¼ˆä»¥åéƒ½ä½¿ç”¨ç´¢å¼•è¡¨ç¤ºå§ï¼Œä»£ç å¯è¯»æ€§æ›´é«˜ï¼Œå³[0,i]ä¸­ï¼Œä»¥ç´¢å¼•iç»“å°¾çš„xxxxï¼‰ã€‚

ç«‹å³æ¨ï¼šdp[i]: å‰é¢ã€0ï¼Œiã€‘ä¸­ï¼Œä»¥ç´¢å¼•iå…ƒç´ ç»“å°¾çš„æ–æ³¢é‚£å¥‘æ•°åˆ—æœ€é•¿é•¿åº¦ã€‚ç„¶åæ‰¾å…³ç³»å‘ç°åšä¸å‡ºæ¥ï¼Œå› ä¸ºdp[i]  ä¸ä»…å’Œå‰é¢ä¸€ä¸ªdp[i-1]æœ‰å…³ï¼Œä¹Ÿä¸æ˜¯å’Œå‰é¢æ‰€æœ‰çš„å…ƒç´ ç›¸å…³ï¼Œè€Œæ˜¯å’Œå‰é¢æŸä¸€ä¸ªdpï¼Œç„¶åå®ƒå‰é¢è¿˜æœ‰ä¸€ä¸ªï¼Œæˆ‘çœŸæ˜¯æ˜¯æœäº†ï¼Œæ‰€ä»¥ä¸€ç»´çš„æ•°ç»„è‚¯å®šä¸è¡Œï¼ï¼ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±è¦è€ƒè™‘åˆ°äºŒç»´çš„æƒ…å†µäº†ï¼Œè¿™é“é¢˜å¾ˆéš¾ï¼Œä¹‹å‰æ²¡æœ‰é‡åˆ°è¿‡ã€‚

**æ­£ç¡®æ€è·¯ï¼š**

```java
1. dp[i][j]ï¼šåœ¨[0,j]çš„å­æ•°ç»„ä¸­ï¼Œä»¥ç´¢å¼•iå…ƒç´ å’Œç´¢å¼•jå…ƒç´ ä½œä¸ºæœ€åä¸¤ä¸ªæ•°å­—çš„æ–æ³¢é‚£å¥‘å­åºåˆ—çš„æœ€å¤§é•¿åº¦ï¼Œå¿…é¡»ä»¥jç»“å°¾ï¼Œè¿™ä¸€ç‚¹è¿˜æ˜¯ä¸€æ ·çš„ï¼Œiå°äºjï¼ˆå°±æ˜¯åœ¨ä¹‹å‰åŸºç¡€ä¸Šï¼Œå¤šåŠ äº†ä¸€ç»´dpï¼‰
2. ç°åœ¨æˆ‘ä»¬å·²çŸ¥äº†åºåˆ—æœ€åä¸¤ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆæ±‚dp[i][j]ï¼Œï¼ˆå›ºå®šäº†ç»“å°¾å…ƒç´ jï¼Œè¦å»éå†å‰é¢æ‰€æœ‰çš„iï¼Œæ‰¾iå‰é¢æœ‰æ²¡æœ‰kï¼‰å°±éœ€è¦çŸ¥é“arr[i]å‰é¢æ˜¯å¦å­˜åœ¨ç¬¦åˆè¦æ±‚çš„å…ƒç´ ï¼Œarr[k]+arr[i]=arr[j]
3. å¦‚æœæ»¡è¶³ï¼Œé‚£ä¹ˆ dp[i][j] = Math.max(dp[k][i]+1, 3) ä¸æ»¡è¶³é‚£ä¹ˆå°±æ˜¯0. è¿™é‡Œè¦æ³¨æ„çš„å°±æ˜¯ç´¢å¼•kå…ƒç´ è¦ä»åå¾€å‰éå†
```

```java
    public int getRes(int[] arr) {
        int n = arr.length;
        int[][] dp = new int[n][n];
        Map<Integer, Integer> map = new HashMap<>(); // æ ¹æ®å…ƒç´ å€¼è·å–ç´¢å¼•
        for (int i = 0; i < arr.length; i++) {
            map.put(arr[i], i);
        }
        int ans = 0;
        for (int j = 2; j < n; j++) {
            for (int i = j - 1; i >= 1; i--) {
                Integer k = map.getOrDefault(arr[j] - arr[i], -1);
                if (k >= 0 && k < i) {
                    dp[i][j] = Math.max(dp[k][i] + 1, 3);
                }
                ans = Math.max(dp[i][j], ans);
            }
        }
        return ans;
    }
```





# ==98ã€å‰‘æŒ‡ Offer II 005. å•è¯é•¿åº¦çš„æœ€å¤§ä¹˜ç§¯==

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ `words`ï¼Œè¯·è®¡ç®—å½“ä¸¤ä¸ªå­—ç¬¦ä¸² `words[i]` å’Œ `words[j]` ä¸åŒ…å«ç›¸åŒå­—ç¬¦æ—¶ï¼Œå®ƒä»¬é•¿åº¦çš„ä¹˜ç§¯çš„æœ€å¤§å€¼ã€‚å‡è®¾å­—ç¬¦ä¸²ä¸­åªåŒ…å«è‹±è¯­çš„å°å†™å­—æ¯ã€‚å¦‚æœæ²¡æœ‰ä¸åŒ…å«ç›¸åŒå­—ç¬¦çš„ä¸€å¯¹å­—ç¬¦ä¸²ï¼Œè¿”å› 0ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: words = ["abcw","baz","foo","bar","fxyz","abcdef"]
è¾“å‡º: 16 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "abcw", "fxyz"ã€‚å®ƒä»¬ä¸åŒ…å«ç›¸åŒå­—ç¬¦ï¼Œä¸”é•¿åº¦çš„ä¹˜ç§¯æœ€å¤§ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: words = ["a","ab","abc","d","cd","bcd","abcd"]
è¾“å‡º: 4 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "ab", "cd"ã€‚
```

**æç¤ºï¼š**

- `2 <= words.length <= 1000`
- `1 <= words[i].length <= 1000`
- `words[i]` ä»…åŒ…å«å°å†™å­—æ¯



```java
    public int getRes(String[] words) {
        //1. è·å–æ¯ä¸ªå­—ç¬¦ä¸²å«æœ‰çš„å­—ç¬¦ï¼Œä½¿ç”¨æ¯”ç‰¹ä½è¡¨ç¤º
        int[] bitChar = new int[words.length];
        for (int i = 0; i < words.length; i++) {
            for (int j = 0; j < words[i].length(); j++) {
                int index = words[i].charAt(j) - 'a';
                bitChar[i] |= (1 << index); // å¯¹åº”æ¯”ç‰¹ä½ç½®ä¸º1ï¼ˆæˆ–ï¼šæœ‰ä¸€ä¸ª1å°±æ˜¯1ï¼‰
            }
        }
        // ä¾æ¬¡éå†åˆ¤æ–­
        int ans = 0;
        boolean flag = true;
        for (int i = 0; i < words.length; i++) {
            for (int j = i + 1; j < words.length; j++) {
                if ((bitChar[i] & bitChar[j]) != 0) { //ç›¸ä¸ä¸ä¸º0ï¼Œåˆ™ä¸¤ä¸ªå­—ç¬¦ä¸²å‡ºç°äº†ç›¸åŒçš„å­—ç¬¦

                } else {
                    ans = Math.max(ans, words[i].length() * words[j].length());
                }
            }
        }
        return ans;
    }
```





# 99ã€å‰‘æŒ‡ Offer II 096. å­—ç¬¦ä¸²äº¤ç»‡

ç»™å®šä¸‰ä¸ªå­—ç¬¦ä¸² `s1`ã€`s2`ã€`s3`ï¼Œè¯·åˆ¤æ–­ `s3` èƒ½ä¸èƒ½ç”± `s1` å’Œ `s2` **äº¤ç»‡ï¼ˆäº¤é”™ï¼‰** ç»„æˆã€‚

ä¸¤ä¸ªå­—ç¬¦ä¸² `s` å’Œ `t` **äº¤ç»‡** çš„å®šä¹‰ä¸è¿‡ç¨‹å¦‚ä¸‹ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦ä¸²éƒ½ä¼šè¢«åˆ†å‰²æˆè‹¥å¹² **éç©º** å­å­—ç¬¦ä¸²ï¼š

- `s = s1 + s2 + ... + sn`
- `t = t1 + t2 + ... + tm`
- `|n - m| <= 1`
- **äº¤ç»‡** æ˜¯ `s1 + t1 + s2 + t2 + s3 + t3 + ...` æˆ–è€… `t1 + s1 + t2 + s2 + t3 + s3 + ...`

**æç¤ºï¼š**`a + b` æ„å‘³ç€å­—ç¬¦ä¸² `a` å’Œ `b` è¿æ¥ã€‚

**ç¤ºä¾‹ 1ï¼š**

<img src="images/interleave.jpg" alt="img" style="zoom:80%;" />

```
è¾“å…¥ï¼šs1 = "aabcc", s2 = "dbbca", s3 = "aadbbcbcac"
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs1 = "aabcc", s2 = "dbbca", s3 = "aadbbbaccc"
è¾“å‡ºï¼šfalse
```

**æç¤ºï¼š**

- `0 <= s1.length, s2.length <= 100`
- `0 <= s3.length <= 200`
- `s1`ã€`s2`ã€å’Œ `s3` éƒ½ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

```java
    /**
     * é‡‡ç”¨åˆ†å‰²çš„æ€è·¯è‚¯å®šåšä¸äº†ï¼Œå¾ˆæ··ä¹±
     */
    // ä½¿ç”¨DPçš„æ–¹æ³•åšï¼Œä¹Ÿæ²¡è§è¿‡è¿™ç§çš„é¢˜ç›®
    public boolean getRes(String s1, String s2, String s3) {
        if (s3.length() != (s1.length() + s2.length())) return false;
        // dp[i][j]: å‰iä¸ªå…ƒç´ çš„å­—ç¬¦ä¸²s1å’Œå‰jä¸ªå…ƒç´ çš„å­—ç¬¦ä¸²s2ï¼Œèƒ½å¦ç»„æˆå‰ï¼ˆi+jï¼‰ä¸ªå…ƒç´ çš„å­—ç¬¦ä¸²s3ã€‚æ±‚dp[n1][n2]
        boolean[][] dp = new boolean[s1.length() + 1][s2.length() + 1];

        // åˆå§‹åŒ–ï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—
        for (int i = 1; i < dp[0].length; i++) {
            if (s2.substring(0, i).equals(s3.substring(0, i))) {
                dp[0][i] = true;
            } else dp[0][i] = false;
        }
        for (int i = 1; i < dp.length; i++) {
            if (s1.substring(0, i).equals(s3.substring(0, i))) {
                dp[i][0] = true;
            }else dp[i][0] = false;
        }
        dp[0][0] = true;

        // dp[i][j] = dp[i-1][j], dp[i][j-1], dp[i-1][j-1];
        for (int i = 1; i < dp.length; i++) {
            for (int j = 1; j < dp[0].length; j++) {
                if (dp[i - 1][j] && s1.charAt(i - 1) == s3.charAt(i + j - 1)) {
                    dp[i][j] = true;
                } else if (dp[i][j - 1] && s2.charAt(j - 1) == s3.charAt(i + j - 1)) {
                    dp[i][j] = true;
                } else if (dp[i - 1][j - 1]) {
                    //è¿™ç§æƒ…å†µèµ·å§‹å·²ç»è¢«ä¸Šé¢ä¸¤ç§æƒ…å†µåŒ…æ‹¬äº†
                } else {
                    dp[i][j] = false;
                }
            }
        }
        return dp[s1.length()][s2.length()];
    }
```



# 100ã€å‰‘æŒ‡ Offer II 085. ç”ŸæˆåŒ¹é…çš„æ‹¬å·

æ­£æ•´æ•° `n` ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸” **æœ‰æ•ˆçš„** æ‹¬å·ç»„åˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š["()"]
```

**æç¤ºï¼š**

- `1 <= n <= 8`

```java
    public List<String> getRes(int n) {
        //1.ç”Ÿæˆnä¸ªï¼ˆå’Œnä¸ªï¼‰çš„æ‰€æœ‰æ’åˆ—å“¦ï¼Œä¸æ˜¯ç»„åˆ
        List<String> allSymbol = new ArrayList<>();
        for (int i = 0; i < n; i++) {
            allSymbol.add("(");
        }
        for (int i = 0; i < n; i++) {
            allSymbol.add(")");
        }
        Set<Integer> indexSet = new HashSet<>();
        backtracking(allSymbol, indexSet);
        System.out.println(pathList);
        //2.ä½¿ç”¨æ ˆç»“æ„ï¼Œåˆ¤æ–­æ‰€æœ‰ç»„åˆæ˜¯å¦åˆæ³•
        Stack<String> stack = new Stack<>();
        List<String> ans = new ArrayList<>();
        for (List<String> stringList : pathList) {
            stack.clear();
            for (String s : stringList) {
                if (stack.isEmpty()) stack.push(s);
                else if (s.equals(")") && stack.peek().equals("(")) { // åˆ¤æ–­å³å°†å…¥æ ˆå…ƒç´ æ˜¯å¦åŒ¹é…æ ˆé¡¶å…ƒç´ 
                    stack.pop();
                } else {
                    stack.push(s);
                }
            }
            if (stack.isEmpty()) { // è¯¥ç»„åˆæ»¡è¶³è¦æ±‚
                StringBuilder stringBuilder = new StringBuilder();
                for (String s : stringList) {
                    stringBuilder.append(s);
                }
                ans.add(stringBuilder.toString());
            }
        }
        return ans;
    }

    // æ±‚æ‰€æœ‰æ’åˆ—,æ³¨æ„æœ‰æ ‘å±‚å»é‡ï¼ˆç»“æœå»é‡ï¼‰å»é‡å…ˆæ’åºç›¸åŒçš„æ”¾åœ¨ä¸€èµ·ï¼Œå›æº¯
    public List<List<String>> pathList = new ArrayList<>();
    public List<String> path = new ArrayList<>();

    public void backtracking(List<String> list, Set<Integer> indexSet) {
        // 2.stop
        if (path.size() == list.size()) {
            pathList.add(new ArrayList<>(path));
            return;
        }
        //3.å›æº¯æœç´¢ï¼ˆå¤„ç†é€’å½’å›æº¯ï¼‰
        for (int i = 0; i < list.size(); i++) {
            if (indexSet.contains(i)) { //é¿å…æ”¾å…¥é‡å¤çš„å…ƒç´ 
                continue;
            }
            if (i>0 && list.get(i).equals(list.get(i-1)) && !indexSet.contains(i-1)){
                continue;
            }
            path.add(list.get(i));
            indexSet.add(i);
            backtracking(list, indexSet);
            indexSet.remove(i);
            path.remove(path.size() - 1);
        }
    }
```



# 101ã€å‰‘æŒ‡ Offer II 062. å®ç°å‰ç¼€æ ‘

**[Trie](https://baike.baidu.com/item/å­—å…¸æ ‘/9825209?fr=aladdin)**ï¼ˆå‘éŸ³ç±»ä¼¼ "try"ï¼‰æˆ–è€…è¯´ **å‰ç¼€æ ‘** æ˜¯ä¸€ç§æ ‘å½¢æ•°æ®ç»“æ„ï¼Œç”¨äºé«˜æ•ˆåœ°å­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²æ•°æ®é›†ä¸­çš„é”®ã€‚è¿™ä¸€æ•°æ®ç»“æ„æœ‰ç›¸å½“å¤šçš„åº”ç”¨æƒ…æ™¯ï¼Œä¾‹å¦‚è‡ªåŠ¨è¡¥å®Œå’Œæ‹¼å†™æ£€æŸ¥ã€‚

è¯·ä½ å®ç° Trie ç±»ï¼š

- `Trie()` åˆå§‹åŒ–å‰ç¼€æ ‘å¯¹è±¡ã€‚
- `void insert(String word)` å‘å‰ç¼€æ ‘ä¸­æ’å…¥å­—ç¬¦ä¸² `word` ã€‚
- `boolean search(String word)` å¦‚æœå­—ç¬¦ä¸² `word` åœ¨å‰ç¼€æ ‘ä¸­ï¼Œè¿”å› `true`ï¼ˆå³ï¼Œåœ¨æ£€ç´¢ä¹‹å‰å·²ç»æ’å…¥ï¼‰ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚
- `boolean startsWith(String prefix)` å¦‚æœä¹‹å‰å·²ç»æ’å…¥çš„å­—ç¬¦ä¸² `word` çš„å‰ç¼€ä¹‹ä¸€ä¸º `prefix` ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥
inputs = ["Trie", "insert", "search", "search", "startsWith", "insert", "search"]
inputs = [[], ["apple"], ["apple"], ["app"], ["app"], ["app"], ["app"]]
è¾“å‡º
[null, null, true, false, true, null, true]

è§£é‡Š
Trie trie = new Trie();
trie.insert("apple");
trie.search("apple");   // è¿”å› True
trie.search("app");     // è¿”å› False
trie.startsWith("app"); // è¿”å› True
trie.insert("app");
trie.search("app");     // è¿”å› True
```

**æç¤ºï¼š**

- `1 <= word.length, prefix.length <= 2000`
- `word` å’Œ `prefix` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `insert`ã€`search` å’Œ `startsWith` è°ƒç”¨æ¬¡æ•° **æ€»è®¡** ä¸è¶…è¿‡ `3 * 104` æ¬¡

**å‰ç¼€æ ‘çŸ¥è¯†ç‚¹ï¼ï¼ï¼ï¼ï¼ï¼ï¼é¢è¯•å®¹æ˜“é—®åˆ°ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼**

```java
class Trie {

    private Trie[] children;
    private boolean isWord;

    public Trie() {
        children = new Trie[26];
        isWord = false;
    }
  
    public void insert(String s) {
        Trie node = this; // è·ŸèŠ‚ç‚¹ï¼ˆä¸å­˜æ”¾æ•°æ®ï¼‰
        for (int i = 0; i < s.length(); i++) {
            char ch = s.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) {
                node.children[index] = new Trie();
            }
            node = node.children[index]; // ç§»åŠ¨åˆ°å½“å‰å­—ç¬¦çš„èŠ‚ç‚¹
        }
        node.isWord = true;
    }

    public boolean search(String s) {
        Trie node = this;
        for (int i = 0; i < s.length(); i++) {
            char ch = s.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) { // è·¯å¾„æ‰¾ä¸åˆ°
                return false;
            }
            node = node.children[index];
        }
        return node.isWord; // æ‰¾åˆ°äº†è·¯å¾„ï¼Œè¿˜è¦åˆ¤æ–­æ˜¯å¦å­˜å‚¨äº†è€…æ¡è·¯å¾„ï¼ï¼ï¼
    }

    public boolean startsWith(String prefix) { // å’Œå‰é¢çš„æ˜¯ä¸€æ¨¡ä¸€æ ·
        Trie node = this;
        for (int i = 0; i < prefix.length(); i++) {
            char ch = prefix.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) { // è·¯å¾„æ‰¾ä¸åˆ°
                return false;
            }
            node = node.children[index];
        }
        return true; // æ‰¾åˆ°äº†è·¯å¾„å°±å¯ä»¥äº†
    }


}
```



**æš´åŠ›è§£æ³•å‹‰å¼ºæ›´è¿‡ï¼Œä½†è¿™é“é¢˜è€ƒå¯Ÿäº†ä¸€ä¸ªé‡è¦çŸ¥è¯†ç‚¹ï¼Œé¢è¯•ç»å¸¸é—®åˆ°ï¼ï¼ï¼ï¼**

```java
class Trie {
    private Set<String> allElement;
    private Set<String> allPrefix;

    public void insert(String s) {
        allElement.add(s);
        for (int i = 0; i < s.length(); i++) {
            String s1 = s.substring(0, i + 1);
            allPrefix.add(s1);
        }
    }
    public boolean search(String s) {
        if (allElement.contains(s)) {
            return true;
        }
        return false;
    }
    public boolean startsWith(String prefix) {
        if (allPrefix.contains(prefix)){
            return true;
        }
        return false;
    }

    public Trie() {
        this.allElement = new HashSet<>();
        this.allPrefix = new HashSet<>();
    }
}
```



# 102ã€å‰‘æŒ‡ Offer II 067. æœ€å¤§çš„å¼‚æˆ–

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¿”å› `nums[i] XOR nums[j]` çš„æœ€å¤§è¿ç®—ç»“æœï¼Œå…¶ä¸­ `0 â‰¤ i â‰¤ j < n` ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,10,5,25,2,8]
è¾“å‡ºï¼š28
è§£é‡Šï¼šæœ€å¤§è¿ç®—ç»“æœæ˜¯ 5 XOR 25 = 28.
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [14,70,53,83,49,91,36,80,92,51,66,70]
è¾“å‡ºï¼š127
```

**æç¤ºï¼š**

- `1 <= nums.length <= 2 * 105`
- `0 <= nums[i] <= 2^31 - 1`

ã€è§£æã€‘ï¼š2çš„31æ¬¡æ–¹ï¼Œæœ€å¤§è¡¨ç¤ºæ•°å­—ä¸º2çš„31æ¬¡æ–¹-1ã€‚

è¿™é“é¢˜ç›®è¿˜æ˜¯è›®æœ‰æ„æ€çš„ï¼Œç”¨åˆ°å‰ç¼€æ ‘çš„æ€æƒ³æ¥å°†å¤æ‚åº¦é™ä½åˆ° `O(N)`ã€‚ æˆ‘ä»¬åˆ†ä¸¤æ­¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

1. æ„å»ºäºŒè¿›åˆ¶å‰ç¼€æ ‘ å…·ä½“æ¥è¯´å°±æ˜¯åˆ©ç”¨æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä»é«˜ä½åˆ°ä½ä½æ„å»ºä¸€æ£µæ ‘ï¼ˆå› ä¸ºåªæœ‰0å’Œ1 ä¸¤ä¸ªå€¼ï¼Œæ‰€ä»¥æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼‰ï¼Œæ¯ä¸ªä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„éƒ½è¡¨ç¤ºä¸€ä¸ªæ•°ã€‚ï¼ˆæ„å»ºçš„æ ‘çœ‹ä¸‹å›¾ï¼‰

2. æœç´¢å‰ç¼€æ ‘ ç„¶åéå†æ•°ç»„ä¸­çš„æ•°å­—ï¼Œå°†æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼Œåœ¨å¯¹åº”çš„å±‚ä¸­æ‰¾åˆ°ä¸€ä¸ªå¼‚æˆ–çš„æœ€å¤§å€¼ï¼Œä¹Ÿå°±æ˜¯ï¼šå¦‚æœæ˜¯1ï¼Œæ‰¾0çš„é‚£æ¡è·¯å¾„ï¼Œå¦‚æœæ˜¯0ï¼Œæ‰¾1çš„é‚£æ¡è·¯å¾„ã€‚ è¿™æ ·æœç´¢ä¸‹æ¥çš„è·¯å¾„å°±æ˜¯è¿™ä¸ªæ•°å­—å’Œæ•´ä¸ªæ•°ç»„å¼‚æˆ–çš„æœ€å¤§å€¼ï¼Œçœ‹ä¸‹å›¾

<img src="images/1621125569-USzfNp-tree.jpg" alt="tree.jpg" style="zoom:50%;" />

å…·ä½“æ­¥éª¤æ˜¯ï¼š å¯¹äº2ï¼Œ äºŒè¿›åˆ¶ä»é«˜åˆ°ä½æ˜¯ 0ï¼Œ0ï¼Œ1ï¼Œ0

- ç¬¬ä¸€æ­¥ï¼šäºŒè¿›åˆ¶ä½æ˜¯0ï¼Œæˆ‘ä»¬åˆ°ç¬¬å››å±‚å»é€‰æ‹©ï¼Œæœ‰1ï¼Œæˆ‘ä»¬é€‰æ‹©1è¿™ä¸ªèŠ‚ç‚¹ï¼Œå¼‚æˆ–è®¡ç®—ç»“æœæ˜¯1
- ç¬¬äºŒæ­¥ï¼šäºŒè¿›åˆ¶ä½æ˜¯0ï¼Œåœ¨ç¬¬ä¸‰å±‚ï¼Œä¸Šä¸€æ­¥é€‰æ‹©çš„èŠ‚ç‚¹æ²¡æœ‰ä¸º1çš„å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½é€‰æ‹©0ï¼Œå¼‚æˆ–è®¡ç®—ç»“æœæ˜¯0
- ç¬¬ä¸‰æ­¥ï¼šäºŒè¿›åˆ¶ä½æ˜¯1ï¼Œåœ¨ç¬¬äºŒå±‚ï¼Œä¸Šä¸€æ­¥é€‰æ‹©çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸‹æœ‰0çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©0ï¼Œå¼‚æˆ–è®¡ç®—ç»“æœæ˜¯1
- ç¬¬å››éƒ¨ï¼šäºŒè¿›åˆ¶ä½æ˜¯0ï¼Œåœ¨ç¬¬ä¸€å±‚ï¼Œä¸Šä¸€æ­¥é€‰æ‹©çš„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸‹åªæœ‰ä¸€ä¸ª0ï¼Œæ‰€ä»¥é€‰æ‹©0ï¼Œå¼‚æˆ–è®¡ç®—ç»“æœæ˜¯0

æ‰€ä»¥æˆ‘ä»¬å¼‚æˆ–çš„ç»“æœæ˜¯1010ï¼Œ åè¿›åˆ¶è¡¨ç¤ºæ˜¯10.

**åˆ†æï¼š**å…¶å®æ¯ä¸ªæ•°å­—è¿˜æ˜¯éƒ½è¦å’Œå…¶ä»–æ•°å­—åšä¸ªå¼‚æˆ–ï¼Œä¸è¿‡åˆ©ç”¨äº†å‰ç¼€æ ‘å’Œè´ªå¿ƒæ€æƒ³ï¼Œæ¯ä¸€æ­¥éƒ½æŒ‘ä¸€ä¸ªæœ€å¤§çš„å€¼ï¼ŒæŠŠå…¶ä»–è·¯å¾„éƒ½å‰ªææ‰äº†ã€‚

**å¤æ‚åº¦åˆ†æï¼š**

- æ„å»ºå‰ç¼€æ ‘ï¼Œéå†ä¸€ä¸ªæ•°å­—ï¼Œæ˜¯O(N), å¯¹äºæ¯ä¸ªæ•°å­—ï¼Œéå†æ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼Œç”±äºæ•°å­—æœ€å¤§æ˜¯32ä½ï¼Œæ‰€ä»¥æ˜¯å¸¸æ•°ï¼Œæ€»çš„å¤æ‚åº¦ä¸º O(N)ï¼Œæ ‘çš„æœ€å¤§å±‚æ¬¡ä¹Ÿæ˜¯32å±‚(è¿™ä¸ªè¿˜å¯ä»¥ä¼˜åŒ–ï¼Œå–å½“å‰æ•°ç»„ä¸­æ‰€æœ‰æ•°çš„æœ€é•¿äºŒè¿›åˆ¶è¡¨ç¤ºå³å¯ï¼Œè‚¯å®šå°äºç­‰äº32ä½)

- æœç´¢å‰ç¼€æ ‘ï¼Œéå†æ¯ä¸€ä¸ªæ•°å­—ï¼Œæ˜¯O(N), å¯¹äºæ•°å­—çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæˆ‘ä»¬è¦å¾€ä¸‹æœç´¢æ ‘ï¼Œ**ä¸è¿‡æ ‘çš„å±‚æ¬¡æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥æ€»çš„å¤æ‚åº¦è¿˜æ˜¯O(N)**

æ€»ä½“å¤æ‚åº¦ä¸º O(N)

```java
public class æœ€å¤§çš„å¼‚æˆ–067_2 {
    /**
     * å’Œå‰ä¸€ä¸ªæ€è·¯ä¸€æ ·ï¼Œè¿™é‡Œç›´æ¥å†™æˆäº†ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œçœ‹èµ·æ¥æ„Ÿè§‰æ¯”è¾ƒèˆ’æœ
     */
    public int findMaximumXOR(int[] nums) {
        XORTrie xorTrie = new XORTrie();
        int ans = 0;
        for (int num : nums) {
            xorTrie.insert(num);
            ans = Math.max(xorTrie.getMaxXOR(num), ans);
        }
        return ans;
    }
}

class XORTrie{
    public static final int HIGH_BIT = 30;
    private XORTrie[] children; //[0]:æ ‡è¯†0, [1]:æ ‡è¯†1

    public XORTrie(){
        children = new XORTrie[2];
    }

    // å…ƒç´ æ’å…¥å‰ç¼€æ ‘é‡Œé¢
    public void insert(int num){
        XORTrie node = this; // æ ¹èŠ‚ç‚¹ï¼šæˆ‘ä»¬åœ¨å¤–éƒ¨è°ƒç”¨åˆå§‹åŒ–çš„é‚£ä¸ªï¼Œå†…éƒ¨æ˜¯æ²¡æœ‰æ ¹èŠ‚ç‚¹çš„
        for (int i = HIGH_BIT; i >=0 ; i--) { // ä»é«˜åˆ°ä½å“¦
            int bit = (num >> i) & 1;
            if (bit == 0){
                if (node.children[0] == null){
                    node.children[0] = new XORTrie();
                }
                node = node.children[0];
            }else {
                if (node.children[1] == null){
                    node.children[1] = new XORTrie();
                }
                node = node.children[1];
            }
        }
    }

    // æ±‚å‡ºå½“å‰æ•°ä¸å‰ç¼€æ ‘ä¸­å·²æœ‰æ•°å­—çš„æœ€å¤§å¼‚æˆ–ï¼ˆä»é«˜åˆ°ä½å“¦ï¼‰
    public int getMaxXOR(int num){
        XORTrie node = this;
        int maxXOR = 0;
        for (int i = HIGH_BIT; i >=0 ; i--) {
            int bit = (num >> i) & 1;
            if (bit == 0){
                if (node.children[1] != null){
                    maxXOR = maxXOR * 2 + 1;
                    node = node.children[1];
                }else {
                    maxXOR = maxXOR * 2;
                    node = node.children[0];
                }
            }else {
                if (node.children[0] != null){
                    maxXOR = maxXOR * 2 + 1;
                    node = node.children[0];
                }else {
                    maxXOR = maxXOR * 2;
                    node = node.children[1];
                }
            }
        }
        return maxXOR;
    }

}
```





# 103ã€å‰‘æŒ‡ Offer II 064. ç¥å¥‡çš„å­—å…¸

è®¾è®¡ä¸€ä¸ªä½¿ç”¨å•è¯åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–çš„æ•°æ®ç»“æ„ï¼Œå•è¯åˆ—è¡¨ä¸­çš„å•è¯ **äº’ä¸ç›¸åŒ** ã€‚ å¦‚æœç»™å‡ºä¸€ä¸ªå•è¯ï¼Œè¯·åˆ¤å®šèƒ½å¦åªå°†è¿™ä¸ªå•è¯ä¸­**ä¸€ä¸ª**å­—æ¯æ¢æˆå¦ä¸€ä¸ªå­—æ¯ï¼Œä½¿å¾—æ‰€å½¢æˆçš„æ–°å•è¯å­˜åœ¨äºå·²æ„å»ºçš„ç¥å¥‡å­—å…¸ä¸­ã€‚

å®ç° `MagicDictionary` ç±»ï¼š

- `MagicDictionary()` åˆå§‹åŒ–å¯¹è±¡
- `void buildDict(String[] dictionary)` ä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„ `dictionary` è®¾å®šè¯¥æ•°æ®ç»“æ„ï¼Œ`dictionary` ä¸­çš„å­—ç¬¦ä¸²äº’ä¸ç›¸åŒ
- `bool search(String searchWord)` ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `searchWord` ï¼Œåˆ¤å®šèƒ½å¦åªå°†å­—ç¬¦ä¸²ä¸­ **ä¸€ä¸ª** å­—æ¯æ¢æˆå¦ä¸€ä¸ªå­—æ¯ï¼Œä½¿å¾—æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²èƒ½å¤Ÿä¸å­—å…¸ä¸­çš„ä»»ä¸€å­—ç¬¦ä¸²åŒ¹é…ã€‚å¦‚æœå¯ä»¥ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥
inputs = ["MagicDictionary", "buildDict", "search", "search", "search", "search"]
inputs = [[], [["hello", "leetcode"]], ["hello"], ["hhllo"], ["hell"], ["leetcoded"]]
è¾“å‡º
[null, null, false, true, false, false]

è§£é‡Š
MagicDictionary magicDictionary = new MagicDictionary();
magicDictionary.buildDict(["hello", "leetcode"]);
magicDictionary.search("hello"); // è¿”å› False
magicDictionary.search("hhllo"); // å°†ç¬¬äºŒä¸ª 'h' æ›¿æ¢ä¸º 'e' å¯ä»¥åŒ¹é… "hello" ï¼Œæ‰€ä»¥è¿”å› True
magicDictionary.search("hell"); // è¿”å› False
magicDictionary.search("leetcoded"); // è¿”å› False
```

**æç¤ºï¼š**

- `1 <= dictionary.length <= 100`
- `1 <= dictionary[i].length <= 100`
- `dictionary[i]` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `dictionary` ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² **äº’ä¸ç›¸åŒ**
- `1 <= searchWord.length <= 100`
- `searchWord` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `buildDict` ä»…åœ¨ `search` ä¹‹å‰è°ƒç”¨ä¸€æ¬¡
- æœ€å¤šè°ƒç”¨ `100` æ¬¡ `search`

**ã€åˆ†æã€‘è¿™é“é¢˜**ä¸€å¼€å§‹æˆ‘å°±æƒ³åˆ°äº†ä½¿ç”¨å‰ç¼€æ ‘æ¥åšï¼Œå…ˆå­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²åˆ°å­—å…¸é‡Œé¢å»ï¼Œç„¶åå»æŸ¥æ‰¾è¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å•Šï¼Œè¿™é‡Œæ˜¯éœ€è¦æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£åœ¨æ ‘çš„å“ªä¸ªè·¯å¾„å»æ›¿æ¢å‘¢ï¼Œè¿™å°±ä¸çŸ¥é“ï¼Œåªèƒ½æš´åŠ›å›æº¯ï¼Œç›¸å½“äºæ˜¯åœ¨å‰ç¼€æ ‘ä¸Šè¿›è¡Œdfsæˆ–è€…bfsï¼Œè¿™ä¸ªå°±æœ‰ç‚¹éº»çƒ¦ï¼›

å¦ä¸€ä¸ªæ€è·¯ï¼šé¦–å…ˆæˆ‘ä»¬è‚¯å®šæ˜¯è¦åˆ¤æ–­è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”ç›¸ç­‰çš„ï¼Œè‚¯å®šå°±æ‰¾ä¸åˆ°ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæˆ‘ä»¬å°±ä»é‚£å‡ ä¸ªé•¿åº¦ç›¸ç­‰çš„å­—ç¬¦ä¸²ä¸€ä¸ªä¸ªå»åŒ¹é…å°±è¡Œäº†ï¼Œå¤æ‚åº¦çš„è¯èµ·å§‹å°±ä¸é«˜ï¼ŒOï¼ˆmnï¼‰è¿˜è¡Œã€‚ä½¿ç”¨ä¸€ä¸ªmapé›†åˆå°±è¡Œï¼Œå› ä¸º`dictionary` ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² **äº’ä¸ç›¸åŒ**ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ï¼Œæˆ‘è§‰å¾—è¿™ç§æ–¹æ³•æ¯”è¾ƒå¥½ã€‚

```java
class MagicDictionary {

    private Map<String, Integer> map;

    public MagicDictionary() {
        map = new HashMap<>();
    }

    public void buildDict(String[] dictionary) {
        for (String s : dictionary) {
            map.put(s, s.length());
        }
    }

    public boolean search(String searchWord) {
        int n = searchWord.length();
        Set<Map.Entry<String, Integer>> entrySet = map.entrySet();
        for (Map.Entry<String, Integer> entry : entrySet) {
            if (entry.getValue() == n) {
                // compare
                String key = entry.getKey();
                int p = 0;
                int count = 0;
                while (p < n) {
                    if (searchWord.charAt(p) != key.charAt(p)){
                        count++;
                    }
                    p++;
                }
                if (count==1) return true;
            }
        }
        return false;
    }
}
```





# 104ã€å‰‘æŒ‡ Offer II 060. å‡ºç°é¢‘ç‡æœ€é«˜çš„ k ä¸ªæ•°å­—

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·è¿”å›å…¶ä¸­å‡ºç°é¢‘ç‡å‰ `k` é«˜çš„å…ƒç´ ã€‚å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,1,1,2,2,3], k = 2
è¾“å‡º: [1,2]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1], k = 1
è¾“å‡º: [1]
```

**æç¤ºï¼š**

- `1 <= nums.length <= 105`
- `k` çš„å–å€¼èŒƒå›´æ˜¯ `[1, æ•°ç»„ä¸­ä¸ç›¸åŒçš„å…ƒç´ çš„ä¸ªæ•°]`
- é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆå”¯ä¸€ï¼Œæ¢å¥è¯è¯´ï¼Œæ•°ç»„ä¸­å‰ `k` ä¸ªé«˜é¢‘å…ƒç´ çš„é›†åˆæ˜¯å”¯ä¸€çš„

 

```java
public int[] topKFrequent(int[] nums, int k) {
    // ç›´æ¥ç»Ÿè®¡æ•°ç»„é‡Œé¢æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°å°±è¡Œäº†ï¼Œç„¶åä½¿ç”¨å¤§æ ¹å †å¾—å‡ºå‰kä¸ªï¼Œç›´æ¥æ‹¿å‡ºä¼˜å…ˆé˜Ÿåˆ—å³å¯ï¼Œæ’åºè§„åˆ™ä¸ºæ¬¡æ•°
    Map<Integer, Integer> map = new HashMap<>();
    for (int num : nums) {
        if (map.containsKey(num)) {
            map.put(num, map.get(num) + 1);
        } else {
            map.put(num, 1);
        }
    }
    Set<Map.Entry<Integer, Integer>> set = map.entrySet();
    //
    Queue<Map.Entry<Integer, Integer>> queue = new PriorityQueue<>((o1, o2) -> o2.getValue() - o1.getValue());
    for (Map.Entry<Integer, Integer> entry : set) {
        queue.offer(entry);
    }
    int[] ans = new int[k];
    for (int i = 0; i < k; i++) {
        ans[i] = queue.poll().getKey();
    }
    return ans;
}
```



# ==105ã€å‰‘æŒ‡ Offer II 009. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„==

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums`å’Œæ•´æ•° `k` ï¼Œè¯·æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº `k` çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ï¼›

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [10,5,2,6], k = 100
è¾“å‡º: 8
è§£é‡Š: 8 ä¸ªä¹˜ç§¯å°äº 100 çš„å­æ•°ç»„åˆ†åˆ«ä¸º: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº100çš„å­æ•°ç»„ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [1,2,3], k = 0
è¾“å‡º: 0
```

**æç¤º:** 

- `1 <= nums.length <= 3 * 104`
- `1 <= nums[i] <= 1000`
- `0 <= k <= 106`



ã€è¿™é“é¢˜å¾ˆå¥½å•Šã€‘

```java
public int numSubarrayProductLessThanK(int[] nums, int k) {
    //åªéœ€è¦è¾“å‡ºä¸ªæ•°ï¼Œç›´æ¥dpï¼›æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥ï¼›dpå¥½åƒåšä¸äº†ï¼Œç®—äº†ï¼Œæ»‘åŠ¨èµ·æ¥for+while
    // æ³¨æ„forwhileåªèƒ½æ±‚å¤§äºçš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€†åºè½¬æ¢æˆå¤§äºçš„æ¡ä»¶,è¿™é“é¢˜æœ‰ç‚¹éš¾
    int multiply = 1;
    int start = 0;
    int ans = 0;
    for (int i = 0; i < nums.length; i++) { // ç»ˆæ­¢ä½ç½®
        multiply *= nums[i];
        if (multiply < k) {
            ans += i - start + 1; // ä»¥çª—å£å³ç«¯ç‚¹ç»“å°¾çš„å­è¿ç»­æ•°ç»„çš„ä¸ªæ•°
        } else {
            while (multiply >= k && start <= i) {
                multiply /= nums[start];
                start++;
            }
            if (start <= i){
                ans += i - start + 1; // ä»¥çª—å£å³ç«¯ç‚¹ç»“å°¾çš„å­è¿ç»­æ•°ç»„çš„ä¸ªæ•°
            }
        }
    }
    return ans;
}
```



# 106ã€å‰‘æŒ‡ Offer II 045. äºŒå‰æ ‘æœ€åº•å±‚æœ€å·¦è¾¹çš„å€¼

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘çš„ **æ ¹èŠ‚ç‚¹** `root`ï¼Œè¯·æ‰¾å‡ºè¯¥äºŒå‰æ ‘çš„ **æœ€åº•å±‚ æœ€å·¦è¾¹** èŠ‚ç‚¹çš„å€¼ã€‚

å‡è®¾äºŒå‰æ ‘ä¸­è‡³å°‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚

**ç¤ºä¾‹ 1:**

<img src="images/tree1-16894231098581.jpg" alt="img" style="zoom:50%;" />

```
è¾“å…¥: root = [2,1,3]
è¾“å‡º: 1
```

**ç¤ºä¾‹ 2:**

<img src="images/tree2.jpg" alt="img" style="zoom:50%;" />

```
è¾“å…¥: [1,2,3,4,null,5,6,null,null,7]
è¾“å‡º: 7 
```

**æç¤º:**

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1,104]`
- `-231 <= Node.val <= 231 - 1` 



```java
    // bfs
    Queue<TreeNode> queue = new ArrayDeque<>();
    List<TreeNode> list = new ArrayList<>();
    queue.offer(root);
    TreeNode ans;
    while (!queue.isEmpty()){
        while (!queue.isEmpty()){
            TreeNode poll = queue.poll();
            list.add(poll);
        }
        ans = list.get(0); // è®°å½•è¯¥å±‚çš„å·¦ç«¯èŠ‚ç‚¹
        for (TreeNode node : list) {
            if (node.left!=null){
                queue.offer(node.left);
            }
            if (node.right!=null){
                queue.offer(node.right);
            }
        }
        list.clear();
        // åˆ¤æ–­æ˜¯å¦åˆ°äº†æœ€åä¸€å±‚ï¼Œæ­¤æ—¶é˜Ÿåˆ—ä¸ºç©ºäº†
        if (queue.isEmpty()){
            return ans.val;
        }
    }
    return -1;
}
```



# 107ã€å‰‘æŒ‡ Offer II 044. äºŒå‰æ ‘æ¯å±‚çš„æœ€å¤§å€¼

ç»™å®šä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ `root` ï¼Œè¯·æ‰¾å‡ºè¯¥äºŒå‰æ ‘ä¸­æ¯ä¸€å±‚çš„æœ€å¤§å€¼ã€‚

**ç¤ºä¾‹1ï¼š**

```
è¾“å…¥: root = [1,3,2,5,3,null,9]
è¾“å‡º: [1,3,9]
è§£é‡Š:
          1
         / \
        3   2
       / \   \  
      5   3   9 
```

**ç¤ºä¾‹2ï¼š**

```
è¾“å…¥: root = [1,2,3]
è¾“å‡º: [1,3]
è§£é‡Š:
          1
         / \
        2   3
```

**æç¤ºï¼š**

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[0,104]`
- `-231 <= Node.val <= 231 - 1`



```java
public List<Integer> getRes(TreeNode root) {
        // bfs
        List<Integer> ans = new ArrayList<>();
        Queue<TreeNode> queue = new ArrayDeque<>();
        List<TreeNode> list = new ArrayList<>();
        int maxLayer;
        queue.offer(root);

        while (!queue.isEmpty()) {
            maxLayer = Integer.MIN_VALUE;
            while (!queue.isEmpty()) {
                TreeNode poll = queue.poll();
                maxLayer = Math.max(maxLayer, poll.val);
                list.add(poll);
            }
            ans.add(maxLayer);
            for (TreeNode node : list) {
                if (node.left != null) {
                    queue.offer(node.left);
                }
                if (node.right != null) {
                    queue.offer(node.right);
                }
            }
            list.clear();
        }
        return ans;
}
```



# 108ã€å‰‘æŒ‡ Offer II 118. å¤šä½™çš„è¾¹==ï¼ˆå¹¶æŸ¥é›†ï¼‰==

æ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿é€šä¸” **æ— ç¯** çš„ **æ— å‘** å›¾ã€‚

ç»™å®šå¾€ä¸€æ£µ `n` ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ `1ï½n`) çš„æ ‘ä¸­æ·»åŠ ä¸€æ¡è¾¹åçš„å›¾ã€‚æ·»åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨ `1` åˆ° `n` ä¸­é—´ï¼Œä¸”è¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚å›¾çš„ä¿¡æ¯è®°å½•äºé•¿åº¦ä¸º `n` çš„äºŒç»´æ•°ç»„ `edges` ï¼Œ`edges[i] = [ai, bi]` è¡¨ç¤ºå›¾ä¸­åœ¨ `ai` å’Œ `bi` ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚

è¯·æ‰¾å‡ºä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œåˆ é™¤åå¯ä½¿å¾—å‰©ä½™éƒ¨åˆ†æ˜¯ä¸€ä¸ªæœ‰ç€ `n` ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›æ•°ç»„ `edges` ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚

**ç¤ºä¾‹ 1ï¼š**

<img src="images/1626676174-hOEVUL-image.png" alt="img" style="zoom:80%;" />

```
è¾“å…¥: edges = [[1,2],[1,3],[2,3]]
è¾“å‡º: [2,3]
```

**ç¤ºä¾‹ 2ï¼š**

<img src="images/1626676179-kGxcmu-image.png" alt="img" style="zoom:80%;" />

```
è¾“å…¥: edges = [[1,2],[2,3],[3,4],[1,4],[1,5]]
è¾“å‡º: [1,4]
```

**æç¤º:**

- `n == edges.length`
- `3 <= n <= 1000`
- `edges[i].length == 2`
- `1 <= ai < bi <= edges.length`
- `ai != bi`
- `edges` ä¸­æ— é‡å¤å…ƒç´ 
- ç»™å®šçš„å›¾æ˜¯è¿é€šçš„ 

[ä»£ç éšæƒ³å½• (programmercarl.com)](https://www.programmercarl.com/0684.å†—ä½™è¿æ¥.html#java)

ã€è§£æã€‘æ€ä¹ˆè¯´å‘¢ï¼Œä¸»è¦æ˜¯ä½ å¦‚ä½•å»æƒ³åˆ°è¦ç”¨å¹¶æŸ¥é›†æ•°ç»„è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œä»–æ˜¯ä¸€ä¸ªæ•°ç»„çš„æŠ½è±¡æ ‘ï¼Œ**ç‰¹ç‚¹æ˜¯å¯ä»¥å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€é¢—æ ‘é‡Œé¢**æˆ–è€…è¯´åŒä¸€ä¸ªç»„é‡Œé¢ï¼Œå¹¶æŸ¥é›†ä¸¤ä¸ªå‡½æ•°ï¼šåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªæ ‘ã€å°†ä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°è¿™ä¸ªæ ‘é‡Œé¢ï¼›

**è¿™é“é¢˜åº”ç”¨å¹¶æŸ¥é›†çš„æ€è·¯ï¼š**æ¯æ¡è¾¹éƒ½åˆ¤æ–­è¯¥è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å·²åœ¨å¹¶æŸ¥é›†ä¸­ï¼Œå·²ç»åœ¨åˆ™è¯´æ˜è¦åŠ å…¥çš„è¿™æ¡è¾¹å¤šä½™äº†ä¸èƒ½å†åŠ å…¥ï¼Œæ˜¯éœ€è¦è¢«åˆ é™¤çš„è¾¹ï¼Œä¸åœ¨åˆ™å°†æ–°èŠ‚ç‚¹åŠ å…¥åˆ°å¹¶æŸ¥é›†é‡Œé¢ï¼ˆå› ä¸ºæ­£å¸¸çš„å¤šå‰æ ‘æ˜¯è¿é€šçš„ï¼Œå†éšä¾¿å¤šä¸€æ¡å°±å½¢æˆäº†ä¸€ä¸ªç¯ï¼‰

```java
import java.util.Arrays;

public class å¤šä½™çš„è¾¹118 {
    public static void main(String[] args) {
        int[][] edges = new int[][]{{1, 2}, {2, 3}, {3, 4}, {1, 4}, {1, 5}};
        System.out.println(Arrays.toString(new å¤šä½™çš„è¾¹118().findRedundantConnection(edges)));
    }

    public int[] findRedundantConnection(int[][] edges) {
        UF uf = new UF();
        int[] ans = new int[2];
        for (int[] edge : edges) { // åˆ¤æ–­æ¯ä¸€æ¡è¾¹
            int i = edge[0];
            int u = edge[1];
            if (uf.isConnect(i, u)) { // å¦‚æœè¯¥è¾¹ä¸¤ä¸ªèŠ‚ç‚¹å·²ç»åœ¨å¹¶æŸ¥é›†ä¸­
                ans = edge;
            } else { // ä¸åœ¨ï¼Œåˆ™å°†è¯¥è¾¹åŠ å…¥åˆ°å¹¶æŸ¥é›†
                uf.union(i, u);
            }
        }
        System.out.println(Arrays.toString(uf.eleFather));
        return ans;
    }

}

class UF {
    public int[] eleFather;

    public UF() {
        eleFather = new int[6]; // é¢˜ç›®è¯´äº†æœ€å¤š1000ä¸ªèŠ‚ç‚¹ï¼Œç´¢å¼•ä»£è¡¨æ¯ä¸ªèŠ‚ç‚¹çš„ç¼–å·
        for (int i = 0; i < eleFather.length; i++) {
            eleFather[i] = i;
        }
    }

    // å°† v->u vèŠ‚ç‚¹åŠ å…¥åˆ°uæ‰€åœ¨å¹¶æŸ¥é›†ä¸­,è¿™ä¸ªçœ‹é¢˜ç›®ç»™çš„é‚£ç«¯æ˜¯æ ¹èŠ‚ç‚¹
    // å“‡ï¼ï¼ï¼é‚£æ‰€æœ‰èŠ‚ç‚¹éƒ½ç›´æ¥è¿åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šäº†å•Šï¼Œæœ€åå‘ç°å°±æ˜¯è¿™æ ·çš„ï¼Œå®Œå…¨æ²¡äº†è¾“å…¥çš„æ ‘ç»“æ„
    public void union(int u, int v) {
        int uroot = find(u);
        int vroot = find(v);
        eleFather[vroot] = uroot;
    }

    // æ‰¾å‡ºå…ƒç´ çš„æ ¹èŠ‚ç‚¹ï¼ˆè¯¥å¹¶æŸ¥é›†çš„å¤´ï¼‰
    public int find(int ele) {
        if (ele == eleFather[ele]) {
            return ele;
        }
        return find(eleFather[ele]);
    }

    // åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¹¶æŸ¥é›†ä¸­
    public boolean isConnect(int i, int u) {
        int iroot = find(i);
        int uroot = find(u);
        return iroot == uroot;
    }
}
```



# 109ã€å‰‘æŒ‡ Offer II 047. äºŒå‰æ ‘å‰ªæ

ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ **æ ¹èŠ‚ç‚¹** `root` ï¼Œæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼è¦ä¹ˆæ˜¯ `0`ï¼Œè¦ä¹ˆæ˜¯ `1`ã€‚è¯·å‰ªé™¤è¯¥äºŒå‰æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ä¸º `0` çš„å­æ ‘ã€‚

èŠ‚ç‚¹ `node` çš„å­æ ‘ä¸º `node` æœ¬èº«ï¼Œä»¥åŠæ‰€æœ‰ `node` çš„åä»£ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: [1,null,0,0,1]
è¾“å‡º: [1,null,0,null,1] 
è§£é‡Š: 
åªæœ‰çº¢è‰²èŠ‚ç‚¹æ»¡è¶³æ¡ä»¶â€œæ‰€æœ‰ä¸åŒ…å« 1 çš„å­æ ‘â€ã€‚
å³å›¾ä¸ºè¿”å›çš„ç­”æ¡ˆã€‚
```

<img src="images/1028_2.png" alt="img" style="zoom:50%;" />

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: [1,0,1,0,0,0,1]
è¾“å‡º: [1,null,1,null,1]
è§£é‡Š: 
```

<img src="images/1028_1.png" alt="img" style="zoom:50%;" />

**æç¤º:**

- äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°çš„èŒƒå›´æ˜¯ `[1,200]`
- äºŒå‰æ ‘èŠ‚ç‚¹çš„å€¼åªä¼šæ˜¯ `0` æˆ– `1`



```java
public class äºŒå‰æ ‘å‰ªæ047 {

    public TreeNode pruneTree(TreeNode root) {
        // ç›´æ¥dfsï¼Œä¸”å¸¦è¿”å›å€¼çš„
        // dfså†™å®Œäº†ï¼Œé‚£æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦åˆ¤æ–­ä¸€æ¬¡å•Šï¼Œç„¶åè¿›è¡Œåˆ é™¤,ç°åœ¨æ˜¯è¦å‰åºéå†ï¼Œå†æ¥ä¸€ä¸ªdfs
        // åˆ é™¤éœ€è¦çŸ¥é“è¯¥èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹
        TreeNode rRoot = new TreeNode();
        rRoot.left = root;
        preOrder(rRoot.left, rRoot);
        return rRoot.left;
    }

    public void preOrder(TreeNode root, TreeNode pre) {
        if (root == null) return;
        if (dfs(root)) {
            if (pre.left == root) { //æ¯”è¾ƒå¼•ç”¨åœ°å€
                pre.left = null;
            } else {
                pre.right = null;
            }
            return; // å½“å‰èŠ‚ç‚¹éƒ½æ²¡äº†ï¼Œä¸ç”¨å¾€ä¸‹åˆ¤æ–­å­èŠ‚ç‚¹äº†
        }
        preOrder(root.left, root);
        preOrder(root.right, root);
    }

    // ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ï¼Œæ˜¯å¦å…¨ä¸º0
    public boolean dfs(TreeNode node) {
        if (node == null) return true;
        boolean left = dfs(node.left);
        boolean right = dfs(node.right);
        if (node.val == 0 && left && right) {
            return true;
        }
        return false;
    }
}
```





# ==110ã€å‰‘æŒ‡ Offer II 019. æœ€å¤šåˆ é™¤ä¸€ä¸ªå­—ç¬¦å¾—åˆ°å›æ–‡==

ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² `s`ï¼Œè¯·åˆ¤æ–­å¦‚æœ **æœ€å¤š** ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤ä¸€ä¸ªå­—ç¬¦èƒ½å¦å¾—åˆ°ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "aba"
è¾“å‡º: true
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "abca"
è¾“å‡º: true
è§£é‡Š: å¯ä»¥åˆ é™¤ "c" å­—ç¬¦ æˆ–è€… "b" å­—ç¬¦
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "abc"
è¾“å‡º: false
```

**æç¤º:**

- `1 <= s.length <= 105`
- `s` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

```java
public boolean getRes(String s) {
    // å°±æ˜¯åˆ æˆ–è€…ä¸åˆ å‘—ï¼Œæš´åŠ›
    if (isPalindrome(s)) {
        return true;
    }
    //åˆ é™¤å“ªä¸€ä¸ªå‘¢ï¼ŒåŒæŒ‡é’ˆä»å¤´å°¾å¼€å§‹,é‡åˆ°ä¸åŒå­—ç¬¦æš‚åœï¼Œ å¯ä»¥è¯•ç€åˆ é™¤å…¶ä¸­ä¸€ä¸ªå­—ç¬¦,å†åˆ¤æ–­ä¸­é—´éƒ¨åˆ†å›æ–‡
    int left = 0;
    int right = s.length() - 1;
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) { //æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸ç›¸ç­‰çš„åˆ¤æ–­å°±å¯ä»¥äº†ï¼Œæ—¶é—´å¤æ‚åº¦å¾ˆä½å“¦
            //åˆ é™¤left
            String leftString = s.substring(left + 1, right + 1); // [left+1, right]
            if (isPalindrome(leftString)) {
                return true;
            }
            //åˆ é™¤right
            String rightString = s.substring(left, right);
            if (isPalindrome(rightString)) {
                return true;
            }
            // å¦‚æœå‰é¢ä¸¤ä¸ªåˆ é™¤æ–¹æ³•éƒ½ä¸æ˜¯å›æ–‡ï¼Œåˆ™æ•´ä½“ç»“æœå°±false
            return false;
        }
        left++;
        right--;
    }
    return true;
}

private boolean isPalindrome(String s) {
    int left = 0;
    int right = s.length() - 1;
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) {
            return false;
        }
        left++;
        right--;
    }
    return true;
}
```



# 111ã€å‰‘æŒ‡ Offer II 077. é“¾è¡¨æ’åº

ç»™å®šé“¾è¡¨çš„å¤´ç»“ç‚¹ `head` ï¼Œè¯·å°†å…¶æŒ‰ **å‡åº** æ’åˆ—å¹¶è¿”å› **æ’åºåçš„é“¾è¡¨** ã€‚ 

**ç¤ºä¾‹ 1ï¼š**

<img src="images/sort_list_1.jpg" alt="img" style="zoom: 50%;" />

```
è¾“å…¥ï¼šhead = [4,2,1,3]
è¾“å‡ºï¼š[1,2,3,4]
```

**ç¤ºä¾‹ 2ï¼š**

<img src="images/sort_list_2.jpg" alt="img" style="zoom:50%;" />

```
è¾“å…¥ï¼šhead = [-1,5,3,4,0]
è¾“å‡ºï¼š[-1,0,3,4,5]
```

**æç¤ºï¼š**

- é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ `[0, 5 * 104]` å†…
- `-105 <= Node.val <= 105`











# DFSå’ŒBFSæ€»ç»“

æœ‰å…³DFSå’ŒBFSä¸»è¦åœ¨æ ‘ä¸­ï¼ˆæœ€å¸¸è§çš„äºŒå‰æ ‘ï¼‰å’Œå›¾ä¸­è§åˆ°å¾ˆå¤šï¼Œä½†åœ¨è¿™ä¸¤ç§æ•°æ®ç»“æ„ä¸­çš„å†™æ³•æœ‰æ‰€ä¸åŒï¼Œè™½ç„¶æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€ä¸‹å¹¶ä¸”è®°ä¸‹æ¥ï¼Œåé¢å†™ä»£ç å°±ä¸ä¼šæ··ä¹±ï¼Œå†™çš„æ›´å¿«ã€‚

==ä»¥ä¸‹éƒ½æ˜¯ä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œæ ‘ã€å›¾çš„æœç´¢è§£æ³•==

## DFS

==ä»¥ä¸‹éƒ½æ˜¯ä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œæ ‘ã€å›¾çš„æœç´¢è§£æ³•==

â€‹	è¿™ä¸ªæ˜¯ä¸€èˆ¬è€Œè¨€ç”¨çš„æœ€å¤šçš„ï¼Œè€Œä¸”ä»£ç ç»“æ„ä¹Ÿæ¯”è¾ƒç®€çŸ­ã€‚ä½†åœ¨**æ±‚æœ€çŸ­è·¯å¾„è¿™ä¸€ç±»**çš„æœç´¢é¢˜ç›®ä¸­å°±ä¸è¡Œäº†ï¼Œåªèƒ½ä½¿ç”¨BFSï¼Œæ‰€ä»¥ä¸¤ç§æœç´¢æ–¹æ³•éƒ½è¦æŒæ¡ã€‚

**æ ‘ï¼šæ–¹å‘å”¯ä¸€ï¼Œä¸ä¼šå¾€å›é€’å½’ï¼Œå‡½æ•°å‚æ•°æœ‰pre**

â€‹		å› ä¸ºæ–¹å‘ä¸€ç›´æ˜¯å‘ä¸‹çš„ï¼Œæ‰€ä»¥å¦‚ä½•ä¸å¾€å›éå†å‘¢ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªâ€œif(y==pre) continue;â€å°±å¯ä»¥äº†ï¼Œå¦‚æœé‚»æ¥ç‚¹æ˜¯ç°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œå°±è·³è¿‡è¯¥èŠ‚ç‚¹çš„åˆ¤æ–­ã€‚

```java
public void dfs(int pre, int x, List<List<Integer>> ver){
  	//1. ç»“æŸæ¡ä»¶
  	if(ver[x].size()==0) return;
  	......
  	// éå†é‚»æ¥è¡¨
  	for(int y : ver.get(x)){
      	if(y==pre) continue;
      	dfs(x, y, ver);
    }
}
```

**å›¾ï¼šæ–¹å‘ä¸å®šï¼Œä¼šé€’å½’åˆ°å·²ç»éå†çš„èŠ‚ç‚¹ï¼Œå‡½æ•°å‚æ•°æ— preï¼Œæœ‰visited**

â€‹		å› ä¸ºæ–¹å¼æ˜¯å¤šå‘çš„ï¼ŒåªåŠ ä¸€ä¸ªå¯¹äºçˆ¶èŠ‚ç‚¹çš„è·³è¿‡åˆ¤æ–­æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºå¯èƒ½ç°èŠ‚ç‚¹çš„é‚»æ¥ç‚¹çš„é‚»æ¥ç‚¹æ˜¯ç°èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™é‡Œå¿…é¡»æ˜¯åŠ ä¸€ä¸ª**visitedæ•°ç»„**ï¼Œæ ‡è¯†èŠ‚ç‚¹å·²ç»è®¿é—®è¿‡ï¼›

```java
public void dfs(int x, List<List<Integer>> ver, boolean[] visited){
  	visited[x] = true; // æ ‡è®°å·²æœç´¢
  	......
  	for(int y: ver.get(x)){ //   éå†é‚»æ¥è¡¨
      	if(visited[y]) { // 
          	......
            continue;
        }
        dfs(y, ver, visited);
    }
}
```



## BFS

==ä»¥ä¸‹éƒ½æ˜¯ä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œæ ‘ã€å›¾çš„æœç´¢è§£æ³•==

è¿™ä¸ªåœ¨æ ‘çš„æœç´¢å’Œå›¾çš„æœç´¢éƒ½æ˜¯ä¸€æ ·çš„æ€è·¯ï¼Œ**ä¸€ä¸ªQueueåŠ Listï¼Œä¸¤ä¸ªWhile **å°±å¯ä»¥ï¼›

æœ‰çš„æ—¶å€™ï¼Œè¿™ç§ä¼šæ¯”è¾ƒéš¾å†™ä¸€ç‚¹ï¼Œä½†è¦ä¼šå†™ã€‚

**æ ‘ï¼šæ–¹å‘å”¯ä¸€ï¼›å½¢å‚ç®€å•ï¼Œéå†æœ‰pre**

â€‹		

**å›¾ï¼šæ–¹å‘ä¸å®šï¼›å½¢å‚ç®€å•ï¼Œéå†æœ‰visited**

```java
private void bfs(int x, int[][] graph) {
  	Queue<Integer> queue = new ArrayDeque<>();
    List<Integer> list = new ArrayList<>();
    boolean[] visited = new boolean[graph.length];
  	queue.offer(x);
  	......
    while (!queue.isEmpty()) {
      ......
      while (!queue.isEmpty()) {
        	Integer node = queue.poll();
        	......
          list.add(node);
      }
      // éå†è¯¥å±‚æ‰€æœ‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥è¡¨
      for (int node : list) {
          for (int y : graph[node]) {
              if (visited[y]) {
									......
              } else {
                  queue.offer(y);
              }
          }
      }
    }
  
}
```



# å‰ç¼€æ ‘

## ä»äºŒå‰æ ‘è¯´èµ·

å‰ç¼€æ ‘ï¼Œä¹Ÿæ˜¯ä¸€ç§æ ‘ã€‚ä¸ºäº†ç†è§£å‰ç¼€æ ‘ï¼Œæˆ‘ä»¬å…ˆä»äºŒå‰æ ‘è¯´èµ·ã€‚

å¸¸è§çš„äºŒå‰æ ‘ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š

```kotlin
class TreeNode {
    int val;
    TreeNode* left;
    TreeNode* right;
}
```

å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ ‘çš„èŠ‚ç‚¹åŒ…å«äº†ä¸‰ä¸ªå…ƒç´ ï¼šè¯¥èŠ‚ç‚¹æœ¬èº«çš„å€¼ï¼Œå·¦å­æ ‘çš„æŒ‡é’ˆï¼Œå³å­æ ‘çš„æŒ‡é’ˆã€‚äºŒå‰æ ‘å¯è§†åŒ–æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š

<img src="images/image-20230714102926335.png" alt="image-20230714102926335" style="zoom:50%;" />

äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸¤ä¸ªå­©å­ï¼Œé‚£å¦‚æœæ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­©å­å‘¢ï¼Ÿè¿™å°±å½¢æˆäº†å¤šå‰æ ‘ã€‚å¤šå‰æ ‘çš„å­èŠ‚ç‚¹æ•°ç›®ä¸€èˆ¬ä¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ä¼šç”¨å˜é•¿æ•°ç»„æ¥ä¿å­˜æ‰€æœ‰çš„å­èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚å¤šå‰æ ‘çš„ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·ï¼š

```cpp
class TreeNode {
    int val;
    vector<TreeNode*> children;
}
```

å¤šå‰æ ‘å¯è§†åŒ–æ˜¯ä¸‹é¢è¿™æ ·ï¼š

<img src="images/image-20230714103010748.png" alt="image-20230714103010748" style="zoom:50%;" />

å¯¹äºæ™®é€šçš„å¤šå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹å¯èƒ½æ˜¯æ²¡æœ‰ä»»ä½•è§„å¾‹çš„ã€‚è€Œæœ¬é¢˜è®¨è®ºçš„ã€Œå‰ç¼€æ ‘ã€å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹çš„ children æœ‰è§„å¾‹çš„å¤šå‰æ ‘ã€‚

## å‰ç¼€æ ‘

ï¼ˆåªä¿å­˜å°å†™å­—ç¬¦çš„ï¼‰ã€Œå‰ç¼€æ ‘ã€æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¤šå‰æ ‘ï¼Œå®ƒçš„ TrieNode ä¸­ chidren æ˜¯ä¸€ä¸ªå¤§å°ä¸º 26 çš„ä¸€ç»´æ•°ç»„ï¼Œåˆ†åˆ«å¯¹åº”äº†26ä¸ªè‹±æ–‡å­—ç¬¦ 'a' ~ 'z'ï¼Œä¹Ÿå°±æ˜¯è¯´å½¢æˆäº†ä¸€æ£µ 26å‰æ ‘ã€‚

å‰ç¼€æ ‘çš„ç»“æ„å¯ä»¥å®šä¹‰ä¸ºä¸‹é¢è¿™æ ·ã€‚ é‡Œé¢å­˜å‚¨äº†ä¸¤ä¸ªä¿¡æ¯ï¼š

- isWord è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹ä¸ºæ­¢ï¼Œè¯¥è·¯å¾„æ˜¯å¦å½¢æˆäº†ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ä¸²ã€‚
- children æ˜¯è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚

```c++
class TrieNode {
public:
    vector<TrieNode*> children;
    bool isWord;
    TrieNode() : isWord(false), children(26, nullptr) {
    }
    ~TrieNode() {
        for (auto& c : children)
            delete c;
    }
};
```

## æ„å»º

åœ¨æ„å»ºå‰ç¼€æ ‘çš„æ—¶å€™ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ–¹æ³•

- æ ¹èŠ‚ç‚¹ä¸ä¿å­˜ä»»ä½•ä¿¡æ¯ï¼›

- å…³é”®è¯æ”¾åˆ°ã€Œå‰ç¼€æ ‘ã€æ—¶ï¼Œéœ€è¦æŠŠå®ƒæ‹†æˆå„ä¸ªå­—ç¬¦ï¼Œæ¯ä¸ªå­—ç¬¦æŒ‰ç…§å…¶åœ¨` 'a' ~ 'z' `çš„åºå·ï¼Œæ”¾åœ¨å¯¹åº”çš„ chidren é‡Œé¢ã€‚ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å½“å‰å­—ç¬¦çš„å­èŠ‚ç‚¹ã€‚

- ä¸€ä¸ªè¾“å…¥å­—ç¬¦ä¸²æ„å»ºã€Œå‰ç¼€æ ‘ã€ç»“æŸçš„æ—¶å€™ï¼Œéœ€è¦æŠŠè¯¥èŠ‚ç‚¹çš„ isWord æ ‡è®°ä¸º trueï¼Œè¯´æ˜ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ï¼Œæ„æˆäº†ä¸€ä¸ªå…³é”®è¯ã€‚

ä¸‹é¢æ˜¯ä¸€æ£µã€Œå‰ç¼€æ ‘ã€ï¼Œå…¶ä¸­ä¿å­˜äº† `{"am", "an", "as", "b", "c", "cv"} `è¿™äº›å…³é”®è¯ã€‚å›¾ä¸­çº¢è‰²è¡¨ç¤º isWord ä¸º trueã€‚ çœ‹ä¸‹é¢è¿™ä¸ªå›¾çš„æ—¶å€™éœ€è¦æ³¨æ„ï¼š

- æ‰€æœ‰ä»¥ç›¸åŒå­—ç¬¦å¼€å¤´çš„å­—ç¬¦ä¸²ï¼Œä¼šèšåˆåˆ°åŒä¸€ä¸ªå­æ ‘ä¸Šã€‚æ¯”å¦‚ `{"am", "an", "as"} `ï¼›

- å¹¶ä¸ä¸€å®šæ˜¯åˆ°è¾¾å¶å­èŠ‚ç‚¹æ‰å½¢æˆäº†ä¸€ä¸ªå…³é”®è¯ï¼Œåªè¦ isWord ä¸ºtrueï¼Œé‚£ä¹ˆä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„å°±æ˜¯å…³é”®è¯ã€‚æ¯”å¦‚ `{"c", "cv"} `ï¼›

<img src="images/image-20230714103253458.png" alt="image-20230714103253458" style="zoom:50%;" />

æœ‰äº›é¢˜è§£æŠŠå­—ç¬¦ç”»åœ¨äº†èŠ‚ç‚¹ä¸­ï¼Œæˆ‘è®¤ä¸ºæ˜¯ä¸å‡†ç¡®çš„ã€‚å› ä¸ºå‰ç¼€æ ‘æ˜¯æ ¹æ® å­—ç¬¦åœ¨ children ä¸­çš„ä½ç½®ç¡®å®šå­æ ‘ï¼Œè€Œä¸çœŸæ­£åœ¨æ ‘ä¸­å­˜å‚¨äº† 'a' ~ 'z' è¿™äº›å­—ç¬¦ã€‚æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å­˜å‚¨çš„ isWordï¼Œè¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„æ˜¯å¦æ„æˆäº†ä¸€ä¸ªå…³é”®è¯ã€‚

## æŸ¥è¯¢

åœ¨åˆ¤æ–­ä¸€ä¸ªå…³é”®è¯æ˜¯å¦åœ¨ã€Œå‰ç¼€æ ‘ã€ä¸­æ—¶ï¼Œéœ€è¦ä¾æ¬¡éå†è¯¥å…³é”®è¯æ‰€æœ‰å­—ç¬¦ï¼Œåœ¨å‰ç¼€æ ‘ä¸­æ‰¾å‡ºè¿™æ¡è·¯å¾„ã€‚å¯èƒ½å‡ºç°ä¸‰ç§æƒ…å†µï¼š

1. åœ¨å¯»æ‰¾è·¯å¾„çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°åˆ°æŸä¸ªä½ç½®è·¯å¾„æ–­äº†ã€‚æ¯”å¦‚åœ¨ä¸Šé¢çš„å‰ç¼€æ ‘å›¾ä¸­å¯»æ‰¾ "d" æˆ–è€… "ar" æˆ–è€… "any" ï¼Œç”±äºæ ‘ä¸­æ²¡æœ‰æ„å»ºå¯¹åº”çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±æŸ¥æ‰¾ä¸åˆ°è¿™äº›å…³é”®è¯ï¼›
2. æ‰¾åˆ°äº†è¿™æ¡è·¯å¾„ï¼Œä½†æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ isWord ä¸º falseã€‚è¿™ä¹Ÿè¯´æ˜æ²¡æœ‰æ”¹å…³é”®è¯ã€‚æ¯”å¦‚åœ¨ä¸Šé¢çš„å‰ç¼€æ ‘å›¾ä¸­å¯»æ‰¾ "a" ï¼›
3. æ‰¾åˆ°äº†è¿™æ¡è·¯å¾„ï¼Œå¹¶ä¸”æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„ isWord ä¸º trueã€‚è¿™è¯´æ˜å‰ç¼€æ ‘å­˜å‚¨äº†è¿™ä¸ªå…³é”®è¯ï¼Œæ¯”å¦‚ä¸Šé¢å‰ç¼€æ ‘å›¾ä¸­çš„ "am" , "cv" ç­‰ã€‚

## åº”ç”¨

ä¸Šé¢è¯´äº†è¿™ä¹ˆå¤šå‰ç¼€æ ‘ï¼Œé‚£å‰ç¼€æ ‘æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ

å…¶å®æˆ‘ä»¬ç”Ÿæ´»ä¸­å°±æœ‰åº”ç”¨ã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„ç”µè¯æ‹¨å·é”®ç›˜ï¼Œå½“æˆ‘ä»¬è¾“å…¥ä¸€äº›æ•°å­—çš„æ—¶å€™ï¼Œåé¢ä¼šè‡ªåŠ¨æç¤ºä»¥æˆ‘ä»¬çš„è¾“å…¥æ•°å­—ä¸ºå¼€å¤´çš„æ‰€æœ‰å·ç ã€‚

æ¯”å¦‚æˆ‘ä»¬çš„è‹±æ–‡è¾“å…¥æ³•ï¼Œå½“æˆ‘ä»¬è¾“å…¥åŠä¸ªå•è¯çš„æ—¶å€™ï¼Œè¾“å…¥æ³•ä¸Šé¢ä¼šè‡ªåŠ¨è”æƒ³å’Œè¡¥å…¨åé¢å¯èƒ½çš„å•è¯ã€‚

å†æ¯”å¦‚åœ¨æœç´¢æ¡†æœç´¢çš„æ—¶å€™ï¼Œè¾“å…¥"è´Ÿé›ª"ï¼Œåé¢ä¼šè”æƒ³åˆ° è´Ÿé›ªæ˜çƒ› ã€‚







